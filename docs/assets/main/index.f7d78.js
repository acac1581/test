System.register("chunks:///_virtual/AdsBannerController.ts",["cc","./UserModel.ts"],(function(e){"use strict";var n,t,r,a,l,o;return{setters:[function(e){n=e.cclegacy,t=e.assetManager,r=e.SpriteFrame,a=e.Texture2D,l=e.ImageAsset},function(e){o=e.UserModel}],execute:function(){n._RF.push({},"b95a6imWgxAy5MZN3Tdsovn","AdsBannerController",void 0),e("AdsBannerController",function(){function e(){}return e.LoadSpriteByUrl=function(n,l){null!=e.cacheBannerList[n]?(console.error("get from cache"),null==l||l(e.cacheBannerList[n])):t.loadRemote(n,{ext:".png"},(function(t,o){if(t)return console.error(t),void(null==l||l(null));var c=new r,i=new a;i.image=o,c.texture=i,console.log(n),e.cacheBannerList={},e.cacheBannerList[n]=c,null==l||l(c)}))},e.ImageToDataURL=function(e){var n=document.createElement("canvas"),t=n.getContext("2d");return n.width=6400,n.height=6400,null==t||t.drawImage(e.data,0,0,e.width,e.height),n.toDataURL()},e.LoadSpriteAdByUrl=function(n,l){if(void 0===l&&(l=null),null==n||null==n.imageUrl||null==n.endTime||n.endTime<=o.serverTime)null==l||l(null);else{var c=n.imageUrl.replace("pvu.sgp1","pvu.sgp1.cdn");null==e.cacheBannerList[c]?t.loadRemote(c,{ext:".png"},(function(n,t){var o=new r,i=new a;i.image=t,o.texture=i,o.packable=!0,e.cacheBannerList[c]=o,null==l||l(o)})):null==l||l(e.cacheBannerList[c])}},e.LoadSpriteAdByData=function(e,n){void 0===n&&(n=null);var t=new Image;t.onload=function(){var e=new a;e.image=new l(t);var o=new r;o.texture=e,null==n||n(o)}.bind(this),t.src=e},e}()).cacheBannerList={},n._RF.pop()}}}));

System.register("chunks:///_virtual/AutoReturnPrefab.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PrefabController.ts"],(function(t){"use strict";var e,r,n,i,u,o,a,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){u=t.cclegacy,o=t._decorator,a=t.Component},function(t){s=t.PrefabController}],execute:function(){var c,f,l,p,b;u._RF.push({},"43334bUxKtEvZ6Q8gFPpgQg","AutoReturnPrefab",void 0);var h=o.ccclass,m=o.property;t("AutoReturnPrefab",(c=h("AutoReturnPrefab"),f=m(Number),c((b=e((p=function(t){function e(){for(var e,r=arguments.length,u=new Array(r),o=0;o<r;o++)u[o]=arguments[o];return(e=t.call.apply(t,[this].concat(u))||this).returned=!0,n(e,"time",b,i(e)),e.prefabEnum=void 0,e.timeCount=void 0,e}r(e,t);var u=e.prototype;return u.setReturn=function(t){this.prefabEnum=t,this.returned=!1,this.timeCount=this.time},u.update=function(t){this.returned||(this.timeCount-=t,this.timeCount<=0&&this.ReturnPrefab())},u.ReturnPrefab=function(){this.returned=!0,s.Instance.ReturnPrefab(this.prefabEnum,this.node)},e}(a)).prototype,"time",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=p))||l));u._RF.pop()}}}));

System.register("chunks:///_virtual/BettingMiniGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserModel.ts","./FarmingServicesApi.ts","./UIPopupManager.ts","./ResourcesManager.ts","./Utility.ts","./PrefabController.ts"],(function(t){"use strict";var e,i,n,s,a,o,r,l,c,h,u,p,m,b,f,g,B,d,w,A,T,S,P;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized,a=t.createClass},function(t){o=t.cclegacy,r=t._decorator,l=t.Node,c=t.Sprite,h=t.SpriteFrame,u=t.Label,p=t.Widget,m=t.sp,b=t.Vec3,f=t.tween,g=t.Component},function(t){B=t.UserModel},function(t){d=t.FarmingServicesApi},function(t){w=t.UIPopupManager},function(t){A=t.ResourcesManager},function(t){T=t.Utility},function(t){S=t.PrefabController,P=t.PrefabEnum}],execute:function(){var v,L,y,_,I,D,R,k,C,z,O,E,X,W,F,M,G,U,H,x,N,V,J,j,q,Q,Z,K,Y,$,tt,et,it,nt,st,at,ot,rt,lt,ct,ht,ut,pt,mt,bt,ft,gt;o._RF.push({},"bce2dbCLoRBHJ4pLAQuCkk1","BettingMiniGame",void 0);var Bt=r.ccclass,dt=r.property;t("BettingMiniGame",(v=Bt("BettingMiniGame"),L=dt(l),y=dt(c),_=dt(h),I=dt(l),D=dt(u),R=dt(l),k=dt(u),C=dt(l),z=dt(u),O=dt(l),E=dt(p),X=dt(l),W=dt(l),F=dt(l),M=dt(l),G=dt(l),U=dt(l),H=dt(l),x=dt({type:m.Skeleton}),N=dt({type:m.Skeleton}),V=dt(u),J=dt(p),v((Q=e((q=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,n(e,"BtnSelects",Q,s(e)),n(e,"SelectedImage",Z,s(e)),n(e,"IconSpriteFrames",K,s(e)),n(e,"BtnBets",Y,s(e)),n(e,"betLabel",$,s(e)),e.configBetAmount=[100,500,1e3,5e3,1e4,1e5,5e5,1e6],n(e,"BtnBetsOption",tt,s(e)),n(e,"betOptionLabel",et,s(e)),e.configBetOption=[1,10],n(e,"AnimStates",it,s(e)),n(e,"LeResultLabels",nt,s(e)),n(e,"BtnTosss",st,s(e)),n(e,"sidePanelWidget",at,s(e)),n(e,"animPanel",ot,s(e)),e.sideAnimDuration=.2,n(e,"btnChangeBet",rt,s(e)),n(e,"btnSkip",lt,s(e)),n(e,"BgBlack",ct,s(e)),n(e,"winPanels",ht,s(e)),n(e,"winVFX",ut,s(e)),n(e,"AnimHolders",pt,s(e)),n(e,"spineToss",mt,s(e)),n(e,"spineTossX10",bt,s(e)),n(e,"TicketLabels",ft,s(e)),n(e,"ResultPanelWidget",gt,s(e)),e._leBet=0,e._timesBet=e.configBetOption[0],e._currentSelect=0,e.miniGame=void 0,e.APIData=void 0,e.LEwin=void 0,e.coinResultArray=new Array(10),e.isDoneAnim=!0,e}i(e,t);var o=e.prototype;return o.start=function(){this.spineToss.setCompleteListener(this.onSpineCompleteListener.bind(this)),this.spineTossX10[0].setCompleteListener(this.onSpineX10CompleteListener.bind(this))},o.Show=function(t){this.miniGame=t,this.node.active=!0},o.Hide=function(){this.node.active=!1},o.OnSelected=function(t,e){this._currentSelect=parseInt(e),this.SelectedImage.spriteFrame=this.IconSpriteFrames[this._currentSelect],this.BtnSelects.forEach((function(t){t.active=!1})),this.BtnSelects[this._currentSelect].active=!0},o.OnBtnBetAmount=function(t,e){var i=parseInt(e);this.BtnBets.forEach((function(t){t.children[0].active=!1})),i<0||this.leBet==this.configBetAmount[i]?this.leBet=0:(this.leBet=this.configBetAmount[i],this.BtnBets[i].children[0].active=!0)},o.OnBtnBetOption=function(t,e){var i=parseInt(e);this.timesBet=this.configBetOption[i],this.BtnBetsOption.forEach((function(t){t.children[1].active=!1})),this.BtnBetsOption[i].children[1].active=!0;for(var n=0;n<this.AnimHolders.length;n++)this.AnimHolders[n].active=n==i},o.OnToss=function(){var t=this;this.APIcallBetting(this._currentSelect,this.leBet,this.timesBet,(function(){var e=t.leBet*t.timesBet;if(t.LEwin=t.leBet*t.APIData.winTimes*2-e-t.APIData.fee,t.LEwin>0?(t.LeResultLabels[0].node.active=!0,t.LeResultLabels[1].node.active=!1,t.LeResultLabels[0].string=T.numberWithCommas(t.LEwin)):(t.LeResultLabels[1].node.active=!0,t.LeResultLabels[0].node.active=!1,t.LeResultLabels[1].string=T.numberWithCommas(-t.LEwin)),t.APIData.lotteryTickets<=0&&t.APIData.boxchainTickets<=0?t.TicketLabels[0].node.parent.parent.active=!1:(t.TicketLabels[0].node.parent.parent.active=!0,t.APIData.lotteryTickets>0?(t.TicketLabels[0].string="x"+t.APIData.lotteryTickets,t.TicketLabels[0].node.parent.active=!0):t.TicketLabels[0].node.parent.active=!1,t.APIData.boxchainTickets>0?(t.TicketLabels[1].string="x"+t.APIData.boxchainTickets,t.TicketLabels[1].node.parent.active=!0):t.TicketLabels[1].node.parent.active=!1),10==t.timesBet){for(var i=0;i<t.timesBet;i++)t.coinResultArray[i]=i<t.APIData.winTimes?1:0;t.coinResultArray=T.shuffleArray(t.coinResultArray)}t.btnSkip.active=!1,t.ShowAnimStates(1,t.playSpineToss.bind(t))}))},o.playSpineToss=function(){if(this.btnSkip.active=!0,this.BgBlack.active=!0,this.isDoneAnim=!1,1==this.timesBet)this.LEwin>0?this.spineToss.setAnimation(0,"tail"==this.APIData.userChoosen?"light":"crow",!1):this.spineToss.setAnimation(0,"tail"==this.APIData.userChoosen?"crow":"light",!1);else for(var t=0;t<this.timesBet;t++)1==this.coinResultArray[t]?this.spineTossX10[t].setAnimation(0,"tail"==this.APIData.userChoosen?"light":"crow",!1):this.spineTossX10[t].setAnimation(0,"tail"==this.APIData.userChoosen?"crow":"light",!1)},o.onSpineCompleteListener=function(){this.isDoneAnim||(this.isDoneAnim=!0,"light"!=this.spineToss.animation&&"crow"!=this.spineToss.animation||(this.ShowResult(),this.spineToss.animation.includes("light")?this.spineToss.setAnimation(0,1==this.APIData.winTimes?"light_idle":"light_idle_nhat",!0):this.spineToss.setAnimation(0,1==this.APIData.winTimes?"crow_idle":"crow_idle_nhat",!0)))},o.onSpineX10CompleteListener=function(){if(!this.isDoneAnim&&(this.isDoneAnim=!0,"light"==this.spineTossX10[0].animation||"crow"==this.spineTossX10[0].animation)){this.ShowResult();for(var t=0;t<this.timesBet;t++)this.spineTossX10[t].animation.includes("light")?this.spineTossX10[t].setAnimation(0,1==this.coinResultArray[t]?"light_idle":"light_idle_nhat",!0):this.spineTossX10[t].setAnimation(0,1==this.coinResultArray[t]?"crow_idle":"crow_idle_nhat",!0)}},o.OnSkip=function(){if(this.isDoneAnim=!0,1==this.timesBet)this.spineToss.animation.includes("light")?this.spineToss.setAnimation(0,1==this.APIData.winTimes?"light_idle":"light_idle_nhat",!0):this.spineToss.setAnimation(0,1==this.APIData.winTimes?"crow_idle":"crow_idle_nhat",!0);else for(var t=0;t<this.timesBet;t++)this.spineTossX10[t].animation.includes("light")?this.spineTossX10[t].setAnimation(0,1==this.coinResultArray[t]?"light_idle":"light_idle_nhat",!0):this.spineTossX10[t].setAnimation(0,1==this.coinResultArray[t]?"crow_idle":"crow_idle_nhat",!0);this.ShowResult()},o.ShowResult=function(){var t=this;if(this.LEwin>0){this.ShowAnimStates(2);for(var e=0;e<3;e++)setTimeout((function(){t.CollectLeAnim()}),200*e)}else this.ShowAnimStates(3);this.BgBlack.active=!1,B.LE=this.APIData.remainAmount,B.FreeTicket=B.FreeTicket+this.APIData.lotteryTickets,this.ShowResultPanel(!0)},o.OnPlayAgain=function(){this.OnToss(),this.ShowResultPanel(!1)},o.OnChangeBet=function(){this.ShowAnimStates(0),this.leBet=this.leBet,this.ShowResultPanel(!1)},o.CollectLeAnim=function(){var t=S.Instance.GetPrefab(P.LE_Receive);t.setWorldPosition(this.miniGame.LeIcon.worldPosition),T.PlayParticle(t)},o.ShowAnimStates=function(t,e){void 0===e&&(e=null),this.AnimStates.forEach((function(t){t.active=!1})),this.AnimStates[t].active=!0,t<=0?this.ShowSidePanel(!0,e):this.ShowSidePanel(!1,e),2==t?(this.tweenWinPanel(0),T.PlayParticle(this.winVFX[10==this.timesBet?1:0])):3==t&&this.tweenWinPanel(1)},o.tweenWinPanel=function(t){1==this.timesBet?(this.winPanels[t].active=!0,this.winPanels[t].scale=b.ZERO,f(this.winPanels[t]).to(.8,{scale:b.ONE},{easing:"elasticOut"}).start()):(this.winPanels[0].active=!1,this.winPanels[1].active=!1)},o.APIcallBetting=function(t,e,i,n){var s=this;d.RequestBetting(e,t,i,(function(t){var e=JSON.parse(t);0==e.status?(s.APIData=e.data,n()):w.Instance.ShowToast("Error",A.Instance.GetErrorMessage(e.status),0)}),null)},o.ShowSidePanel=function(t,e){this.btnChangeBet.active=!t,f(this.sidePanelWidget).to(this.sideAnimDuration,{left:t?0:-576*this.sidePanelWidget.node.scale.x}).start(),f(this.animPanel).to(this.sideAnimDuration,{position:new b(t?460:0,0,0)}).delay(this.sideAnimDuration).call((function(){e&&e()})).start(),f(this.AnimHolders[1]).to(this.sideAnimDuration,{scale:new b(b.ONE).multiplyScalar(t?.7:1),position:new b(t?-100:0,0,0)}).start()},o.ShowResultPanel=function(t){f(this.ResultPanelWidget).to(this.sideAnimDuration,{bottom:t?0:-258}).start()},o.UpdateLeTotalBetBtn=function(){var t=this.leBet*this.timesBet;this.betLabel.string=T.numberWithCommas(t),t>0&&t<=B.LE?(this.BtnTosss[0].active=!0,this.BtnTosss[1].active=!1):(this.BtnTosss[1].active=!0,this.BtnTosss[0].active=!1)},a(e,[{key:"leBet",get:function(){return this._leBet},set:function(t){this._leBet=t,this.UpdateLeTotalBetBtn()}},{key:"timesBet",get:function(){return this._timesBet},set:function(t){this._timesBet=t,this.betOptionLabel.string=t+"X",this.UpdateLeTotalBetBtn()}}]),e}(g)).prototype,"BtnSelects",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=e(q.prototype,"SelectedImage",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(q.prototype,"IconSpriteFrames",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=e(q.prototype,"BtnBets",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=e(q.prototype,"betLabel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=e(q.prototype,"BtnBetsOption",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),et=e(q.prototype,"betOptionLabel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=e(q.prototype,"AnimStates",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),nt=e(q.prototype,"LeResultLabels",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),st=e(q.prototype,"BtnTosss",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),at=e(q.prototype,"sidePanelWidget",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=e(q.prototype,"animPanel",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=e(q.prototype,"btnChangeBet",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=e(q.prototype,"btnSkip",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ct=e(q.prototype,"BgBlack",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ht=e(q.prototype,"winPanels",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ut=e(q.prototype,"winVFX",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pt=e(q.prototype,"AnimHolders",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),mt=e(q.prototype,"spineToss",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=e(q.prototype,"spineTossX10",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ft=e(q.prototype,"TicketLabels",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),gt=e(q.prototype,"ResultPanelWidget",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=q))||j));o._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonAnim.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundController.ts"],(function(t){"use strict";var e,i,n,s,o,l,a,r,c,h,u,d,C,g,p,b,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,a=t.CCFloat,r=t.CCBoolean,c=t.Button,h=t.Toggle,u=t.Vec3,d=t.Node,C=t.color,g=t.tween,p=t.Component},function(t){b=t.SoundController,T=t.EnumSound}],execute:function(){var f,S,m,w,v,k,y,A,E;o._RF.push({},"7105bq4HCxIUaVlEcIPifoH","ButtonAnim",void 0);var N=l.ccclass,F=l.property;t("ButtonAnim",(f=N("ButtonAnim"),S=F(a),m=F(a),w=F(r),f((y=e((k=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,n(e,"scaleAdd",y,s(e)),n(e,"timeScale",A,s(e)),n(e,"isColorTransition",E,s(e)),e.targetNode=void 0,e.btnClick=void 0,e.originScale=void 0,e.targetScale=void 0,e.isClicked=void 0,e.scaleTween=void 0,e}i(e,t);var o=e.prototype;return o.onLoad=function(){this.btnClick=this.node.getComponent(c),null==this.btnClick&&(this.btnClick=this.node.getComponent(h)),this.targetNode=this.btnClick.target,this.originScale=new u(this.targetNode.getScale());var t=new u(this.scaleAdd,this.scaleAdd,this.scaleAdd);this.targetScale=new u(this.originScale),this.targetScale.subtract(t),this.node.on(d.EventType.TOUCH_CANCEL,this.Release,this),this.node.on(d.EventType.TOUCH_START,this.Down,this),this.node.on(d.EventType.TOUCH_END,this.Release,this),this.isColorTransition&&(this.btnClick.transition=c.Transition.COLOR,this.btnClick.normalColor=C("#FFFFFF"),this.btnClick.pressedColor=C("#C8C8C8"),this.btnClick.hoverColor=C("#E3E3E3"))},o.onDisable=function(){this.timeScale<=0||(null!=this.scaleTween&&this.scaleTween.stop(),this.targetNode&&this.targetNode.setScale(this.originScale))},o.Down=function(){if(0!=this.btnClick.interactable){if(this.isClicked=!0,b.Instance.PlaySound(T.GameUI_button_click),this.timeScale<=0)return;null!=this.scaleTween&&this.scaleTween.stop(),this.scaleTween=g(this.targetNode).to(this.timeScale,{scale:this.targetScale},{easing:"elasticOut"}),this.scaleTween.start()}},o.Release=function(){if(this.isClicked){if(this.isClicked=!1,this.timeScale<=0)return;null!=this.scaleTween&&this.scaleTween.stop(),this.scaleTween=g(this.targetNode).to(this.timeScale,{scale:this.originScale},{easing:"elasticOut"}),this.scaleTween.start()}},e}(p)).prototype,"scaleAdd",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.08}}),A=e(k.prototype,"timeScale",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.4}}),E=e(k.prototype,"isColorTransition",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),v=k))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonToggle.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,n,i,o,c,l,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,l=t.Node,a=t.Component}],execute:function(){var u,s,p,d,b;o._RF.push({},"d1c09ArUx5CPJ+i+RqaNvJu","ButtonToggle",void 0);var f=c.ccclass,h=c.property;t("ButtonToggle",(u=f("ButtonToggle"),s=h(l),u((b=e((d=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,n(e,"border",b,i(e)),e.callback=null,e}r(e,t);var o=e.prototype;return o.onEnable=function(){this.border.active=!1},o.Clear=function(){this.border.active=!1},o.AddCallBack=function(t){this.callback=t},o.OnBtnClick=function(){var t;this.border.active=!this.border.active,null==(t=this.callback)||t.call(this)},e}(a)).prototype,"border",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=d))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/ConfigApi.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,s;return{setters:[function(t){e=t.createClass},function(t){s=t.cclegacy}],execute:function(){s._RF.push({},"0fe15P7mPlN04i+0Awqnw05","ConfigApi",void 0);var n=t("ConfigApi",function(){function t(){}return e(t,null,[{key:"SHOW_LOG",get:function(){return!t.IS_PRODUCT}},{key:"LINK_API",get:function(){return t.IS_PRODUCT?"https://api.plantvsundead.com/":"https://dev-api.plantvsundead.com/"}},{key:"LINK_WSS",get:function(){return t.IS_PRODUCT?"https://api.plantvsundead.com/":"https://dev-api.plantvsundead.com/"}},{key:"LINK_WSS_DOND",get:function(){return t.IS_PRODUCT?"https://pvu-backend-2-t24wp.ondigitalocean.app/deal-or-no-deal":"https://pvu-backend-dev-2-k9gv8.ondigitalocean.app/deal-or-no-deal"}},{key:"LINK_FULL_ADS",get:function(){return t.IS_PRODUCT?"https://pvu.sgp1.digitaloceanspaces.com/ads/worldMapPrd.png":"https://pvu.sgp1.digitaloceanspaces.com/ads/worldMapStg.png"}}]),t}());n.IS_PRODUCT=!0,n.DEFAULT_PAGE=10,n.FULL_ADS_SERVER_CACHE=5,n.WPP_URL="https://whitepaper.plantvsundead.com/",n.VERSION="1.0.1",n.user_register="users/register",n.user_auth="users/auth",n.user_login="users/login",n.user_info="users/userInfo",n.users_transfer_le="users/transfer-le",n.bettings="bettings",n.bettings_info="bettings",n.buy_tickets="lotteries/buy-tickets",n.get_winners="lotteries/get-winners",n.get_tickets="lotteries/get-tickets",n.create_lottery_for_testing="lotteries/create-lottery-for-testing",n.end_lottery_for_testing="lotteries/end-lottery-for-testing",n.get_current_lottery="lotteries/get-current-lottery",n.get_histories_lotteries="lotteries/get-history-lotteries",n.get_my_lotteries="lotteries/get-my-lotteries",n.get_my_tickets="lotteries/get-my-tickets",n.crow_hunting="crow-hunting",n.crow_hunting_config="crow-hunting/config",n.plants_config="plants/config",n.farm_world="farms/world",n.lands_get_by_coordinate="lands/get-by-coordinate",n.lands_get_by_id="lands/get-by-id",n.lands_get_banner_by_coordinate="lands/get-banner-by-coordinate",n.lands_my_slots="lands/my-assets/my-slots",n.lands_filter="lands/filter",n.lands_my_bidding="lands/my-assets/my-bidding",n.lands_my_plants="lands/my-assets/my-plants",n.farm_bidding="farms/bidding/",n.farm_biddingAllEmpty="farms/biddingAllEmpty/",n.farms_bidding_highestPrice="farms/bidding/highestPrice/",n.plants_inventory="plants/inventory",n.decorations_inventory="decorations/inventory",n.farms_growth_plant="farms/growth-plant",n.decorations_put="decorations/put",n.farms_harvest_plant="farms/harvest-plant",n.farms_chase_crow="farms/chase-crow",n.farms_chase_good_crow="farms/chase-good-crow",n.farms_water_plant="farms/water-plant",n.farms_earn_air_drop="farms/earn-air-drop",n.farm_chase_crow_king="farms/chase-crow-king",n.farm_winner_crow_king="farms/reward-crow-king",n.shop_buy_tools="shops/buy-tools",n.ads_rent="ads/rent",n.get_ads="ads/get-ads",s._RF.pop()}}}));

System.register("chunks:///_virtual/ConfigGame.ts",["cc"],(function(e){"use strict";var n,r;return{setters:[function(e){n=e.cclegacy,r=e.Vec2}],execute:function(){e({EnumPlantSlotStage:void 0,EnumRarity:void 0}),n._RF.push({},"950baDMpaNOXa4dPI7qrLLO","ConfigGame",void 0);var t,a,i=e("ConfigGame",function(){function e(){}return e.getSynEffect=function(e){for(var n=0;n<this.synBreakPoint.length;n++)if(e>=this.synBreakPoint[n])return this.synEffect[n];return 0},e}());i.PRIZE_CROW_HUNTING=null,i.FEE_CROW_HUNTING=.05,i.YearBreakDuration=1656e5,i.PRICE_BUY_TICKET_LE=10,i.FarmLandSize=7,i.FarmWorldMapSize=64,i.ShowPlantHarvestTimer=9e5,i.MotherTreeSlot=new r(0,6),i.BiddingRefreshCooldown=10,i.synBreakPoint=[9,6,3,0],i.synEffect=[1.25,1.1,1,0],i.sysBreakPointColor=["#B82EBB","#1591D7","#2EBB45","#ECB66C"],i.MotherTreeBuff={"01":{description:"Increase 1% Farming",effect:.01},"02":{description:"Increase 2% Farming",effect:.02},"03":{description:"Increase 3% Farming",effect:.03},"04":{description:"Increase 4% Farming",effect:.04}},i.PlantRemoveTime=18e5,i.PlantLEBuffCap=.8,i.PRICE_CHAT_UNOWNED_LAND=1,i.PRICE_CHAT_PUBLIC=10,i.PRICE_CHAT_PUBLIC_NICKNAME=5,i.COUNTDOWN_CHAT_ALL=60,i.MAX_LE_TRANSFER=100,i.PRICE_BANNER=10,i.SIZE_BANNER=1e5,i.PriceBuyWater=10,i.PriceBuyScareCrow=10,i.RarityText=["common","rare","epic","legendary","mythic"],i.FactionText=["Omega","Light","Water","Electro","Wind","Fire","Metal","Dark","Parasite","Ice"],i.EVENT_SOCKET_NAME={CHAT:"chat",CHAT_ALL:"chat-all",ERROR:"err",SLOT_UPDATE:"slot-update",NOTICE:"notice",CHANGE_LAND:"change-land",CHANGE_NUMBER_VIEWER:"change-number-viewer",TRANSFER_LE:"transfer-le",PUT_DECOR:"put-decor",JOIN_GAME:"join-game",BET:"bet",VOTE:"vote",VOTE_REMOVE:"vote-remove",VOTING_RESULT:"voting-result",UPDATE_CASES:"update-cases",GAME_PROGRESS:"game-progress",SHOW_DEAL:"show-deal",DEAL:"deal",SELECT_CASE:"select-case",REMAINING_CASES:"remaining-cases",AUTO_DEAL:"auto-deal"},function(e){e[e.decor=0]="decor",e[e.bidNow=1]="bidNow",e[e.bidnow_havebid=2]="bidnow_havebid",e[e.bidding=3]="bidding",e[e.bidEnd=4]="bidEnd",e[e.bidDone=5]="bidDone",e[e.land_other=6]="land_other",e[e.land_your=7]="land_your",e[e.rentNow=8]="rentNow",e[e.otherBidGreater=9]="otherBidGreater",e[e.__length=10]="__length"}(t||(t=e("EnumPlantSlotStage",{}))),function(e){e[e.common=0]="common",e[e.rare=1]="rare",e[e.epic=2]="epic",e[e.legendary=3]="legendary",e[e.mythic=4]="mythic"}(a||(a=e("EnumRarity",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/CrowHuntingMiniGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIIconCrowHunting.ts","./ResHttp.ts","./ConfigApi.ts","./UserModel.ts","./UIPopupManager.ts","./ConfigGame.ts","./Utility.ts","./UIPrizeCrowHunting.ts"],(function(t){"use strict";var e,i,n,o,r,a,s,l,u,c,h,f,p,d,b,v,w,g,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Label,l=t.Node,u=t.log,c=t.instantiate,h=t.Component},function(t){f=t.UIIconCrowHunting},function(t){p=t.ResHttp},function(t){d=t.ConfigApi},function(t){b=t.UserModel},function(t){v=t.UIPopupManager},function(t){w=t.ConfigGame},function(t){g=t.Utility},function(t){S=t.UIPrizeCrowHunting}],execute:function(){var m,I,T,y,R,U,_,C,z,P,x,O,N,G,H,L,E,M,A,D,B,F,W,J,q,X,Z,K,j;r._RF.push({},"71087Ru+0hG7qUow6OGXhlb","CrowHuntingMiniGame",void 0);var k=a.ccclass,Q=a.property;t("CrowHuntingMiniGame",(m=k("CrowHuntingMiniGame"),I=Q(s),T=Q(l),y=Q(l),R=Q(l),U=Q(l),_=Q(l),C=Q(l),z=Q(s),P=Q(s),x=Q(l),O=Q(l),N=Q(l),G=Q(l),m((E=e((L=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"txtFee",E,o(e)),n(e,"prefabIcon",M,o(e)),n(e,"layoutIcon",A,o(e)),n(e,"btn5Times",D,o(e)),n(e,"btn10Times",B,o(e)),n(e,"prefabPrize",F,o(e)),n(e,"layoutPrize",W,o(e)),n(e,"txtStatus",J,o(e)),n(e,"txtReward",q,o(e)),n(e,"nodeLoading",X,o(e)),n(e,"btnThrowActive",Z,o(e)),n(e,"btnThrowDisable",K,o(e)),n(e,"btnRandom",j,o(e)),e.amount=100,e.totalSlots=0,e.selectedSlots=[],e.isInited=!1,e.layoutIconList=[],e}i(e,t);var r=e.prototype;return r.InitPrize=function(){var t=this;null==w.PRIZE_CROW_HUNTING?p.GetRequest(d.LINK_API+d.crow_hunting_config,null,(function(e){e=JSON.parse(e).data,u("crow_hunting_config:"+JSON.stringify(e)),w.PRIZE_CROW_HUNTING=e.payoutRatio,w.FEE_CROW_HUNTING=parseFloat(e.betFee),t.InitPrizeUI()}),(function(){})):this.InitPrizeUI()},r.InitPrizeUI=function(){var t=this.GetMaxSlot();this.layoutPrize.removeAllChildren();var e=w.PRIZE_CROW_HUNTING[t];for(var i in e){var n=c(this.prefabPrize);n.getComponent(S).Init(i,e[i]),this.layoutPrize.addChild(n)}this.txtFee.string="FEE: "+100*w.FEE_CROW_HUNTING+"%"},r.Show=function(){this.node.active=!0,this.InitPrize(),this.ResetData(),this.OnBtnThrow5Times()},r.ResetData=function(){this.totalSlots=0,this.selectedSlots=[],this.btnRandom.active=!0,this.btnThrowDisable.active=!0,this.btnThrowActive.active=!1,this.CreateIcons(),this.UpdateButtonThrow(),this.UpdateStatus(),this.InitPrize(),this.ShowReward(-1)},r.Hide=function(){this.node.active=!1},r.CreateIcons=function(){this.layoutIcon.removeAllChildren(),this.layoutIconList=[];for(var t=0;t<40;t++){var e=c(this.prefabIcon),i=e.getComponent(f);this.layoutIcon.addChild(e),this.layoutIconList.push(i),i.init(t,this)}},r.GetMaxSlot=function(){return this.btn5Times.active?5:10},r.ChoseSlot=function(t){var e=this.GetMaxSlot();return!(this.totalSlots>=e)&&(this.totalSlots++,this.selectedSlots.push(t),this.UpdateButtonThrow(),this.UpdateStatus(),!0)},r.UnChoseSlot=function(t){var e=this.selectedSlots.indexOf(t);return-1!=e&&(this.totalSlots--,this.selectedSlots.splice(e,1),this.UpdateButtonThrow(),this.UpdateStatus(),!0)},r.UpdateButtonThrow=function(){this.GetMaxSlot()==this.totalSlots?(this.btnThrowActive.active=!0,this.btnThrowDisable.active=!1):(this.btnThrowActive.active=!1,this.btnThrowDisable.active=!0)},r.UpdateStatus=function(){this.txtReward.node.parent.parent.active=!1,this.txtStatus.node.active=!0;var t=this.GetMaxSlot();t==this.totalSlots?this.txtStatus.string="BET AND HUNT":this.txtStatus.string="SELECT "+(t-this.totalSlots)+" TO HUNT"},r.UpdateResult=function(t){u("UpdateResult:"+JSON.stringify(t)),this.btnRandom.active=!1,this.btnThrowActive.active=!0,this.btnThrowDisable.active=!1,this.txtReward.node.parent.parent.active=!0,this.txtStatus.node.active=!1,this.txtReward.string=g.numberWithCommas(t.reward),this.ShowReward(t.totalHitCount)},r.OnBtnChoseBet=function(t,e){var i=parseInt(e);this.amount=i},r.OnBtnRandom=function(){var t=this;this.ResetData();var e=this.GetMaxSlot();this.totalSlots=e,this.selectedSlots=[];for(var i=[],n=0;n<40;n++)i.push(n);for(n=0;n<e;n++){var o=Math.floor(Math.random()*i.length);this.selectedSlots.push(i[o]+1),i.splice(o,1)}this.selectedSlots=this.selectedSlots.sort((function(t,e){return t-e}));var r=function(){var e=t.selectedSlots.indexOf(n+1),i=t.layoutIconList[n];-1!=e?t.scheduleOnce(function(){i.Select()}.bind(t),.07*e):i.UnSelect()};for(n=0;n<this.layoutIconList.length;n++)r();this.UpdateButtonThrow(),this.UpdateStatus()},r.OnBtnThrow=function(){var t=this,e=this;if(this.amount*w.FEE_CROW_HUNTING>b.LE)v.Instance.ShowToast("Error","Not enough LE!",0);else{var i={amount:this.amount,totalSlots:this.totalSlots,selectedSlots:this.selectedSlots};this.nodeLoading.active=!0,p.PostRequest(d.LINK_API+d.crow_hunting,i,(function(i){i=JSON.parse(i).data,e.nodeLoading.active=!1,b.LE=parseInt(i.remainAmount),t.UpdateResult(i.bettingResult);for(var n=i.selectedSlots,o=i.crowPositions.normal,r=i.crowPositions.special,a=[],s=0;s<e.layoutIcon.children.length;s++){-1!=n.indexOf(s+1)?a.push("select_X_reveal"):a.push("unselect_reveal_X")}for(s=0;s<o.length;s++){var l=o[s],u=n.indexOf(l);a[l-1]=-1!=u?"select_crow_reveal":"unselect_reveal_crow"}for(s=0;s<r.length;s++){var c=r[s],h=n.indexOf(c);a[c-1]=-1!=h?"select_vip_reveal":"unselect_reveal_vip"}for(var f=function(){var e=p,i=e%8;i+=parseInt(e/8+""),t.scheduleOnce(function(){this.layoutIconList[e].PlayAnim(a[e])}.bind(t),.06*i)},p=0;p<e.layoutIcon.children.length;p++)f()}),(function(){e.nodeLoading.active=!1}))}},r.ShowReward=function(t){for(var e=0;e<this.layoutPrize.children.length;e++)this.layoutPrize.children[e].getComponent(S).ShowPoint(t)},r.OnBtnThrow5Times=function(){this.btn5Times.active=!0,this.btn10Times.active=!1,this.ResetData()},r.OnBtnThrow10Times=function(){this.btn5Times.active=!1,this.btn10Times.active=!0,this.ResetData()},e}(h)).prototype,"txtFee",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(L.prototype,"prefabIcon",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(L.prototype,"layoutIcon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(L.prototype,"btn5Times",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(L.prototype,"btn10Times",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(L.prototype,"prefabPrize",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(L.prototype,"layoutPrize",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(L.prototype,"txtStatus",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(L.prototype,"txtReward",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(L.prototype,"nodeLoading",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(L.prototype,"btnThrowActive",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(L.prototype,"btnThrowDisable",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(L.prototype,"btnRandom",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=L))||H));r._RF.pop()}}}));

System.register("chunks:///_virtual/CrowKingManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserModel.ts","./ResHttp.ts","./ConfigApi.ts","./FadeSpriteEffect.ts","./UIPopupManager.ts","./EventSystem.ts","./FarmKingCrowRewardUI.ts"],(function(e){"use strict";var t,i,o,n,r,a,s,l,c,u,h,_,m,p,d,f,g,w,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Sprite,l=e.SpriteFrame,c=e.Node,u=e.instantiate,h=e.Component},function(e){_=e.UserModel},function(e){m=e.ResHttp},function(e){p=e.ConfigApi},function(e){d=e.FadeSpriteEffect},function(e){f=e.UIPopupManager},function(e){g=e.GlobalEvents,w=e.EventType},function(e){b=e.FarmKingCrowRewardUI}],execute:function(){var C,S,v,K,U,y,F,H,k,T,I,P,N,D,R,z,L,M,G,A,E;r._RF.push({},"19076M+F+1L45yXFHhGOm3L","CrowKingManager",void 0);var O=a.ccclass,X=a.property;e("CrowKingManager",(C=O("CrowKingManager"),S=X(s),v=X(l),K=X(l),U=X(c),y=X(b),F=X(c),H=X(l),k=X(l),T=X(c),C((N=t((P=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"m_healthNodes",N,n(t)),o(t,"m_sprite_health_active",D,n(t)),o(t,"m_sprite_health_inactive",R,n(t)),o(t,"m_useToolNode",z,n(t)),o(t,"farmKingCrowRewardUI",L,n(t)),o(t,"m_fadePrefab",M,n(t)),o(t,"m_spriteFrame_miss",G,n(t)),o(t,"m_spriteFrame_hit",A,n(t)),o(t,"m_fadeFX_startPosition",E,n(t)),t.m_fadeSpriteList=[],t.m_toolUsed=-1,t.Socket_onCrowKingHitCallback=void 0,t}i(t,e);var r=t.prototype;return r.start=function(){this.Socket_onCrowKingHitCallback=g.subscribe(w.Socket_onHitCrowKing,this.onSocket_onCrowKingHitHandler.bind(this)),0==this.ShouldDisableCrowKing()&&this.schedule((function(){this.node.active=!1}),_.GetCrowKingAppearanceInMS()/1e3,0,0)},r.onDestroy=function(){g.unsubscribe(w.Socket_onHitCrowKing,this.Socket_onCrowKingHitCallback),this.unscheduleAllCallbacks()},r.onSocket_onCrowKingHitHandler=function(e){_.GetCrowKingData().remainHp=e.remainHp,this.SetupCrowKing(!1)},r.ShouldDisableCrowKing=function(){return console.log("ShouldDisableCrowKing"),1==_.IsCrowKingOutOfTime()||_.GetCrowKingData().remainHp<=0},r.GetFadeSprite=function(){for(var e=0;e<this.m_fadeSpriteList.length;e++)if(0==this.m_fadeSpriteList[e].node.active)return this.m_fadeSpriteList[e];var t=u(this.m_fadePrefab);t.setParent(this.m_fadeFX_startPosition),t.setPosition(0,0,0);var i=t.getComponent(d);return this.m_fadeSpriteList.push(i),i},r.ShowCrowKingRewardUI=function(e){var t=this.GetFadeSprite();t.node.active=!0,t.Play(this.m_spriteFrame_hit,0),this.farmKingCrowRewardUI.Show(e),_.GetCrowKingData().remainHp-=e,_.LE+=e*_.farmWorldInfo.crowKingPrize,this.SetupCrowKing(!1)},r.UseTool=function(e){var t=this;if(1!=this.ShouldDisableCrowKing())if(_.ScareCrow<e)f.Instance.ShowPopupConfirmUI("Not enough tool","",(function(){}),(function(){}),"OK",!1,!0,!0);else{this.m_toolUsed=e;var i={numberChaseTool:e};m.PostRequest(p.LINK_API+p.farm_chase_crow_king,i,(function(e){var i=JSON.parse(e),o=i.data;if(0===i.status){_.ScareCrow-=t.m_toolUsed,o.numberHitted>0&&t.ShowCrowKingRewardUI(o.numberHitted);var n=.1;n=1==t.m_toolUsed||10==t.m_toolUsed?.1:100==t.m_toolUsed?.03:.005,t.schedule((function(){var e=this.GetFadeSprite();e.node.active=!0,e.Play(this.m_spriteFrame_miss,0)}),n,t.m_toolUsed-1,0)}t.m_toolUsed=0}),(function(e){188===JSON.parse(e).status&&(t.node.active=!1),t.m_toolUsed=0}))}else this.node.active=!1},r.SetupCrowKing=function(e){if(1!=this.ShouldDisableCrowKing()){for(var t=0;t<this.m_healthNodes.length;t++)t<_.GetCrowKingData().remainHp?this.m_healthNodes[t].spriteFrame=this.m_sprite_health_active:this.m_healthNodes[t].spriteFrame=this.m_sprite_health_inactive;1==e&&(this.m_useToolNode.active=!1,this.farmKingCrowRewardUI.Hide())}else this.node.active=!1},r.btnCrowKing_onClicked=function(){this.m_useToolNode.active=!0},r.btnCloseTool_onClicked=function(){this.m_useToolNode.active=!1},r.btnUseTool_1_onClicked=function(){this.UseTool(1)},r.btnUseTool_10_onClicked=function(){this.UseTool(10)},r.btnUseTool_100_onClicked=function(){this.UseTool(100)},r.btnUseTool_1000_onClicked=function(){this.UseTool(1e3)},t}(h)).prototype,"m_healthNodes",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=t(P.prototype,"m_sprite_health_active",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(P.prototype,"m_sprite_health_inactive",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(P.prototype,"m_useToolNode",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(P.prototype,"farmKingCrowRewardUI",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(P.prototype,"m_fadePrefab",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(P.prototype,"m_spriteFrame_miss",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(P.prototype,"m_spriteFrame_hit",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(P.prototype,"m_fadeFX_startPosition",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=P))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/dealOrNoDealConfig.ts",["cc"],(function(E){"use strict";var A;return{setters:[function(E){A=E.cclegacy}],execute:function(){A._RF.push({},"c6a33+80OdKW6eOQb/FjvE8","dealOrNoDealConfig",void 0);var S=E("dealOrNoDealConfig",(function(){}));S.GAME_STATE={RESTING_PHASE:0,BETTING_PHASE:1,VOTING_PHASE:2,VOTING_RESULT:3,DEAL_FIRST_PHASE:4,VOTING_SECOND_PHASE:5,DEAL_SECOND_PHASE:6,VOTING_THIRD_PHASE:7,DEAL_THIRD_PHASE:8,VOTING_FOURTH_PHASE:9,DEAL_FOURTH_PHASE:10,VOTING_LAST_PHASE:11,DEAL_LAST_PHASE:12},S.GAME_STATE_NAME=["WAITING","CHOOSE BET","VOTE 1 CASE TO KEEP","VOTE RESULT","DEAL FIRST PHASE","CHOOSE 3 CASES TO REVEAL","DEAL SECOND PHASE","CHOOSE 4 CASES TO REVEAL","DEAL THIRD PHASE","CHO0SE 4 CASES TO REVEAL","DEAL FOURTH PHASE","CHOOSE 3 CASES TO REVEAL","DEAL LAST PHASE"],S.NUMBER_OF_CASES_TO_REMOVE=[0,0,1,0,0,3,0,4,0,4,0,3,0],S.GAME_PHASE_STATUS={WAITING:0,RUNNING:1},S.PHASE_DURATION={RESTING_PHASE:10,BETTING_PHASE:30,VOTING_PHASE:30,VOTING_RESULT:30,DEAL_FIRST_PHASE:30,VOTING_SECOND_PHASE:30,DEAL_SECOND_PHASE:30,VOTING_THIRD_PHASE:30,DEAL_THIRD_PHASE:30,DEAL_FOURTH_PHASE:30,VOTING_LAST_PHASE:30,DEAL_LAST_PHASE:30},S.VALID_CASE_NUMBERS=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],S.CASE_NAMES=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P"],S.VALID_BETTING_AMOUNT=[1e3,5e3,1e4,2e4,5e4,1e5,2e5,5e5],S.VALID_RATE_LIST=[1e-4,2e-4,5e-4,.001,.005,.01,.02,.035,.05,.075,.2,.35,.45,1.5,2,10],S.BETTING_DEV_FEE=.05,S.MAX_LIMIT_ROOMS_SIZE=1e3,A._RF.pop()}}}));

System.register("chunks:///_virtual/DealOrNoDealMiniGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SocketDealOrNoDealHandler.ts","./EventSystem.ts","./dealOrNoDealConfig.ts","./PanelDond_CaseValue.ts","./PanelDond_Chat.ts","./PanelDond_CountDownVote.ts","./PanelDond_VoteCases.ts","./PanelDond_YourBet.ts","./PanelDond_NumberUser.ts","./PanelDond_Offer.ts","./PanelDond_Result.ts","./PanelDond_Waiting.ts","./UserModel.ts","./PanelDond_CountDownNextGame.ts","./SoundController.ts","./PanelDond_LastDealOffer.ts","./UIPopupManager.ts","./DondSoundController.ts"],(function(e){"use strict";var t,n,i,s,a,o,l,r,u,c,h,d,f,b,D,p,S,_,C,O,m,g,N,A,V,G,R,E,P,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Label,r=e.log,u=e.Component},function(e){c=e.SocketDealOrNoDealHandler},function(e){h=e.GlobalEvents,d=e.EventType},function(e){f=e.dealOrNoDealConfig},function(e){b=e.PanelDond_CaseValue},function(e){D=e.PanelDond_Chat},function(e){p=e.PanelDond_CountDownVote},function(e){S=e.PanelDond_VoteCases},function(e){_=e.PanelDond_YourBet},function(e){C=e.PanelDond_NumberUser},function(e){O=e.PanelDond_Offer},function(e){m=e.PanelDond_Result},function(e){g=e.PanelDond_Waiting},function(e){N=e.UserModel},function(e){A=e.PanelDond_CountDownNextGame},function(e){V=e.SoundController,G=e.EnumSound},function(e){R=e.PanelDond_LastDealOffer},function(e){E=e.UIPopupManager},function(e){P=e.DondSoundController,w=e.DondSoundEnum}],execute:function(){var y,U,I,T,v,k,M,L,B,H,J,z,x,W,Y,F,j,X,q,K,Q,Z,$,ee,te,ne,ie,se,ae,oe;a._RF.push({},"b4bd3+hBnhOEbWNry109nbn","DealOrNoDealMiniGame",void 0);var le=o.ccclass,re=o.property;e("DealOrNoDealMiniGame",(y=le("DealOrNoDealMiniGame"),U=re(l),I=re(l),T=re(A),v=re(g),k=re(b),M=re(D),L=re(p),B=re(S),H=re(_),J=re(C),z=re(O),x=re(R),W=re(m),y(((oe=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"lbNumDeal",j,s(t)),i(t,"lbNumNoDeal",X,s(t)),i(t,"panelCountDownNextGame",q,s(t)),i(t,"panelWaiting",K,s(t)),i(t,"panelCaseValue",Q,s(t)),i(t,"panelChat",Z,s(t)),i(t,"panelCountDownVote",$,s(t)),i(t,"panelVoteCases",ee,s(t)),i(t,"panelYourBet",te,s(t)),i(t,"panelNumberUser",ne,s(t)),i(t,"panelOffer",ie,s(t)),i(t,"panelLastDealOffer",se,s(t)),i(t,"panelResult",ae,s(t)),t.stateCur=0,t.isViewer=!0,t.playerInfo=null,t.highestVotedCase=-1,t.bettingAmount=0,t.isCompleted=!1,t.lastPhaseReward=null,t.userLastAction=-1,t.isJoined=!1,t.isVotedRemove=!1,t.isVoted=!1,t}n(t,e);var a=t.prototype;return a.onLoad=function(){t.Instance=this},a.Show=function(){V.Instance.SetBgMusic(G.BGM_Dond),c.Connect(),h.subscribe(d.Socket_Dond_GameInit,this.OnGameInit.bind(this)),h.subscribe(d.Socket_Dond_PlayerInfo,this.OnPlayerInfo.bind(this)),h.subscribe(d.Socket_Dond_Notice,this.OnNotice.bind(this)),h.subscribe(d.Socket_Dond_Voting_Result,this.OnVotingResult.bind(this)),h.subscribe(d.Socket_Dond_Remove_Voting,this.OnRemoveVoting.bind(this)),h.subscribe(d.Socket_Dond_Game_Progress,this.OnGameProgress.bind(this)),h.subscribe(d.Socket_Dond_Chat,this.OnChat.bind(this)),h.subscribe(d.Socket_Dond_Bet,this.OnBet.bind(this)),h.subscribe(d.Socket_Dond_Update_Cases,this.OnUpdateCases.bind(this)),h.subscribe(d.Socket_Dond_Show_Deal,this.OnShowDeal.bind(this)),h.subscribe(d.Socket_Dond_Deal,this.OnDeal.bind(this)),h.subscribe(d.Socket_Dond_Remaining_Cases,this.OnRemianingCases.bind(this)),h.subscribe(d.Socket_Dond_Select_Case,this.OnSelectCase.bind(this)),h.subscribe(d.Socket_Dond_Auto_Deal,this.OnAutoDeal.bind(this)),h.subscribe(d.Socket_Dond_Game_Statistics,this.OnGameStatistics.bind(this)),h.subscribe(d.Socket_Dond_Removed_Case,this.OnRemovedCases.bind(this)),this.node.active=!0},a.Hide=function(){V.Instance.SetBgMusic(G.BG_Main),h.unsubscribe(d.Socket_Dond_GameInit,this.OnGameInit),h.unsubscribe(d.Socket_Dond_PlayerInfo,this.OnPlayerInfo.bind(this)),h.unsubscribe(d.Socket_Dond_Notice,this.OnNotice.bind(this)),h.unsubscribe(d.Socket_Dond_Voting_Result,this.OnVotingResult.bind(this)),h.unsubscribe(d.Socket_Dond_Remove_Voting,this.OnRemoveVoting.bind(this)),h.unsubscribe(d.Socket_Dond_Game_Progress,this.OnGameProgress.bind(this)),h.unsubscribe(d.Socket_Dond_Chat,this.OnChat.bind(this)),h.unsubscribe(d.Socket_Dond_Bet,this.OnBet.bind(this)),h.unsubscribe(d.Socket_Dond_Update_Cases,this.OnUpdateCases.bind(this)),h.unsubscribe(d.Socket_Dond_Show_Deal,this.OnShowDeal.bind(this)),h.unsubscribe(d.Socket_Dond_Deal,this.OnDeal.bind(this)),h.unsubscribe(d.Socket_Dond_Remaining_Cases,this.OnRemianingCases.bind(this)),h.unsubscribe(d.Socket_Dond_Select_Case,this.OnSelectCase.bind(this)),h.unsubscribe(d.Socket_Dond_Auto_Deal,this.OnAutoDeal.bind(this)),h.unsubscribe(d.Socket_Dond_Game_Statistics,this.OnGameStatistics.bind(this)),h.unsubscribe(d.Socket_Dond_Removed_Case,this.OnRemovedCases.bind(this)),c.Disconnect(),this.node.active=!1},a.Deal=function(){this.isViewer=!0,c.Deal()},a.NoDeal=function(){this.panelVoteCases.SetWaitingOtherPlayer(),this.userLastAction=1},a.SwitchCase=function(e){c.SwitchCase(e),this.userLastAction=0},a.ResetGame=function(){this.isJoined||(this.isJoined=!1,this.isVoted=!1,this.isVotedRemove=!1,this.isCompleted=!1,this.bettingAmount=0,this.playerInfo=null,this.isViewer=!0,this.highestVotedCase=-1,this.lastPhaseReward=null,this.userLastAction=-1,this.lbNumDeal.string="0",this.lbNumNoDeal.string="0",c.JoinGame())},a.GetIndexByCaseAlplaBet=function(e){return f.CASE_NAMES.indexOf(e.toUpperCase())},a.UpdateHighestVotedCase=function(e){if(null!=e){var t=e.find((function(e){return 1==e.isHighestVoted}));null!=t&&(this.highestVotedCase=f.CASE_NAMES.indexOf(t.caseAlphabet.toString().toUpperCase()))}},a.OnGameMaintenance=function(e){r("DealOrNoDeal OnGameMaintenance:"+JSON.stringify(e));var t=function(){E.Instance.ShowUIMinigameMenu()};E.Instance.ShowPopupConfirmUI("MAINTENANCE!","Server is closed for maintenance",t,t)},a.OnRemovedCases=function(e){r("DealOrNoDeal OnRemovedCases:"+JSON.stringify(e)),this.panelVoteCases.UpdateRemovedCases(e),this.panelCaseValue.UpdateRemovedCases(e)},a.OnGameStatistics=function(e){r("DealOrNoDeal OnGameStatistics:"+JSON.stringify(e));var t=e.playerCount,n=e.participantCount;this.panelNumberUser.SetNumberUser(t,n)},a.OnGameInit=function(e){r("DealOrNoDeal OnGameInit:"+JSON.stringify(e));var t=e.gameConfig;t&&t.caseList&&t.caseList.forEach((function(e,t){f.VALID_RATE_LIST[t]=e.rate}));var n=e.playerInfo;this.OnPlayerInfo(n);var i=e.gameProgress;this.OnGameProgress(i),this.UpdateVoted(n,i),this.UpdateBettingAmount(this.bettingAmount);var s=e.userInfo;s&&(N.LE=s.leAmount)},a.OnPlayerInfo=function(e){null!=e&&null!=e.bettingAmount&&(this.isViewer=!1,this.isCompleted=e.isCompleted,this.UpdateBettingAmount(e.bettingAmount),this.playerInfo=e,r("DealOrNoDeal OnPlayerInfo:"+JSON.stringify(e)))},a.OnNotice=function(e){r("DealOrNoDeal OnNotice:"+JSON.stringify(e))},a.OnVotingResult=function(e){r("DealOrNoDeal OnVotingResult:"+JSON.stringify(e));e.cases;this.highestVotedCase=f.CASE_NAMES.indexOf(e.highestVotedCase.caseAlphabet.toUpperCase()),this.panelVoteCases.UpdateHighestVotedCase(),P.Instance.PlaySound(w.SFX_Case_Choose_Done)},a.OnRemoveVoting=function(e){r("DealOrNoDeal OnRemoveVoting:"+JSON.stringify(e))},a.OnGameProgress=function(e){r("=========== GAME PROGRESSS ",e),e.state==f.GAME_STATE.BETTING_PHASE&&this.ResetGame(),this.isVotedRemove=!1,this.stateCur=e.state,this.UpdateHighestVotedCase(e.cases),this.panelYourBet.UpdateState(e),this.panelWaiting.UpdateState(e),this.panelCountDownVote.UpdateState(e),this.panelVoteCases.UpdateState(e),this.panelCaseValue.UpdateState(e),this.panelOffer.UpdateState(e),this.panelLastDealOffer.UpdateState(e),this.panelResult.UpdateState(e),this.panelCountDownNextGame.UpdateState(e)},a.OnChat=function(e){for(var t in e)if(null!=e[t]){this.panelChat.OnChat({address:t,msg:e[t],time:e.time});break}r("DealOrNoDeal OnChat:"+JSON.stringify(e))},a.OnBet=function(e){r("DealOrNoDeal OnBet:"+JSON.stringify(e)),this.isViewer=!1,N.LE=e.remainAmount,this.UpdateBettingAmount(e.bettingAmount),this.panelVoteCases.SetWaitingOtherPlayer()},a.UpdateBettingAmount=function(e){switch(this.bettingAmount=e,r("UpdateBettingAmount:"+e),this.stateCur){case f.GAME_STATE.BETTING_PHASE:case f.GAME_STATE.VOTING_PHASE:case f.GAME_STATE.VOTING_RESULT:e>0?(this.panelYourBet.Hide(),this.panelCaseValue.Show(),this.panelCaseValue.ShowYourBet()):(this.panelYourBet.Show(),this.panelCaseValue.Hide())}},a.OnUpdateCases=function(e){r("DealOrNoDeal OnUpdateCases:"+JSON.stringify(e)),this.panelVoteCases.UpdateCases(e)},a.OnShowDeal=function(e){r("DealOrNoDeal OnShowDeal:"+JSON.stringify(e))},a.OnDeal=function(e){r("DealOrNoDeal OnDeal:"+JSON.stringify(e)),this.ShowUserResult(e)},a.OnRemianingCases=function(e){this.panelVoteCases.UpdateRemainingCases(e),this.panelCaseValue.UpdateRemainingCases(e),r("OnRemianingCases:"+JSON.stringify(e))},a.OnSelectCase=function(e){r("DealOrNoDeal OnSelectCase:"+JSON.stringify(e)),this.ShowUserResult(e)},a.OnAutoDeal=function(e){r("DealOrNoDeal OnAutoDeal:"+JSON.stringify(e)),this.ShowUserResult(e),this.userLastAction=1},a.OnShowCases=function(e){r("DealOrNoDeal OnShowCases:"+JSON.stringify(e)),this.panelResult.ShowCaseResult(e)},a.OnGameActionStats=function(e){r("DealOrNoDeal OnGameActionStats:"+JSON.stringify(e)),null!=e.dealCount&&null!=e.dealCount&&(this.lbNumDeal.string=e.dealCount),null!=e.noDealCount&&null!=e.noDealCount&&(this.lbNumNoDeal.string=e.noDealCount),this.panelLastDealOffer.UpdatePercentVote(e)},a.ShowUserResult=function(e){this.isCompleted=!0,this.stateCur==f.GAME_STATE.DEAL_LAST_PHASE||this.stateCur==f.GAME_STATE.RESTING_PHASE&&this.panelResult.isEffectShowCase?this.lastPhaseReward=e:(N.LE=e.remainingAmount,this.panelResult.Show(e.reward,this.stateCur))},a.CanVoting=function(){return this.stateCur==f.GAME_STATE.VOTING_PHASE||this.stateCur==f.GAME_STATE.VOTING_SECOND_PHASE||this.stateCur==f.GAME_STATE.VOTING_THIRD_PHASE||this.stateCur==f.GAME_STATE.VOTING_FOURTH_PHASE||this.stateCur==f.GAME_STATE.VOTING_LAST_PHASE},a.IsLastOffer=function(){return this.stateCur==f.GAME_STATE.DEAL_LAST_PHASE},a.UpdateVoted=function(e,t){this.isVoted=e.isVoted,null==e.votedRemoveCases||0==e.votedRemoveCases.length?this.isVotedRemove=!1:(this.isVotedRemove=!0,this.panelVoteCases.UpdateHighLightVoted(e.votedRemoveCases)),this.panelVoteCases.UpdateButtonConfirm()},a.IsViewer=function(){return this.isViewer},a.IsCompleted=function(){return this.isCompleted},a.GetBettingAmount=function(){return this.bettingAmount},a.GetHighestVotedCase=function(){return this.highestVotedCase},a.GetState=function(){return this.stateCur},a.GetPlayerInfo=function(){return this.playerInfo},a.GetLastPhaseReward=function(){return this.lastPhaseReward},a.GetUserLastAction=function(){return this.userLastAction},t}(u)).Instance=null,j=t((F=oe).prototype,"lbNumDeal",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(F.prototype,"lbNumNoDeal",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(F.prototype,"panelCountDownNextGame",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(F.prototype,"panelWaiting",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(F.prototype,"panelCaseValue",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(F.prototype,"panelChat",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(F.prototype,"panelCountDownVote",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(F.prototype,"panelVoteCases",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(F.prototype,"panelYourBet",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(F.prototype,"panelNumberUser",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(F.prototype,"panelOffer",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(F.prototype,"panelLastDealOffer",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(F.prototype,"panelResult",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=F))||Y));a._RF.pop()}}}));

System.register("chunks:///_virtual/DondSoundController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventSystem.ts","./UserModel.ts"],(function(o){"use strict";var n,e,t,i,u,s,r,a,l,d,c,p;return{setters:[function(o){n=o.applyDecoratedDescriptor,e=o.inheritsLoose,t=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){u=o.cclegacy,s=o._decorator,r=o.AudioSource,a=o.AudioClip,l=o.Component},function(o){d=o.GlobalEvents,c=o.EventType},function(o){p=o.UserModel}],execute:function(){var S,_,h,F,f,X,C,D,v;o("DondSoundEnum",void 0),u._RF.push({},"8cf0446uH9Hy6T8vUkIbT0P","DondSoundController",void 0),function(o){o[o.SFX_Case_Drop=0]="SFX_Case_Drop",o[o.SFX_Case_Choose_Done=1]="SFX_Case_Choose_Done",o[o.SFX_Click=2]="SFX_Click",o[o.SFX_Last_Case_Open=3]="SFX_Last_Case_Open",o[o.SFX_Offer_Appear=4]="SFX_Offer_Appear",o[o.SFX_Receive_Reward=5]="SFX_Receive_Reward",o[o.SFX_Select_Case=6]="SFX_Select_Case"}(v||(v=o("DondSoundEnum",{})));var y=s.ccclass,b=s.property;o("DondSoundController",(S=y("DondSoundController"),_=b(r),h=b(a),S(((D=function(o){function n(){for(var n,e=arguments.length,u=new Array(e),s=0;s<e;s++)u[s]=arguments[s];return n=o.call.apply(o,[this].concat(u))||this,t(n,"SoundFX",X,i(n)),t(n,"AudioClips",C,i(n)),n}e(n,o);var u=n.prototype;return u.onLoad=function(){n.Instance=this,d.subscribe(c.UPDATE_SOUND,this.onUpdateSound.bind(this))},u.onDestroy=function(){d.unsubscribe(c.UPDATE_SOUND,this.onUpdateSound.bind(this))},u.onUpdateSound=function(){console.log("CheckingGame onUpdateSound:"+p.userLocalData.soundOn),this.SoundFX.volume=p.userLocalData.soundOn?1:0},u.PlaySound=function(o,n){void 0===n&&(n=.5),p.userLocalData.soundOn&&(this.SoundFX.loop=!1,this.SoundFX.playOneShot(this.AudioClips[o],n))},u.PlaySoundLoop=function(o,n){void 0===n&&(n=.5),p.userLocalData.soundOn&&(this.SoundFX.volume=n,this.SoundFX.loop=!0,this.SoundFX.clip=this.AudioClips[o],this.SoundFX.play())},u.StopSoundLoop=function(){this.SoundFX.stop()},n}(l)).Instance=void 0,X=n((f=D).prototype,"SoundFX",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=n(f.prototype,"AudioClips",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=f))||F));u._RF.pop()}}}));

System.register("chunks:///_virtual/EngineHelper.ts",["cc"],(function(e){"use strict";var c,n;return{setters:[function(e){c=e.cclegacy,n=e._decorator}],execute:function(){var t;c._RF.push({},"968c58oiXVLH7I9yh+cPsZg","EngineHelper",void 0);var i=n.ccclass;n.property,e("EngineHelper",i("EngineHelper")(t=function(){function e(){}return e.TouchEndWithoutStart=function(e){var c=e._eventProcessor.touchListener._claimedTouches;e._eventProcessor.touchListener._claimedTouches={local_claimedTouches:c,get length(){return 1},indexOf:function(e){var c=this.local_claimedTouches.indexOf(e);return c>=0?c:0},splice:function(e,c){this.local_claimedTouches.length>0&&this.local_claimedTouches.splice(e,c)},push:function(e){this.local_claimedTouches.push(e)},includes:function(e){return this.local_claimedTouches.includes(e)}}},e}())||t);c._RF.pop()}}}));

System.register("chunks:///_virtual/EventSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var o,t;return{setters:[function(e){o=e.createForOfIteratorHelperLoose},function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"b9d7bkNeKJB7bNv1zgw8xOD","EventSystem",void 0);e("EventType",{LE_INFO_UPDATED:0,FREETICKET_INFO_UPDATED:1,UPDATE_MUSIC:2,UPDATE_SOUND:3,FARM_WORLD_UPDATE:4,FARM_BANNER_UPDATE:5,WATERING_INFO_UPDATED:6,SCARECROW_INFO_UPDATED:7,FACTION_ICON_CLICK:8,FACTION_ICON_UNCLICK:9,Socket_onChatCallback:10,Socket_onConnectCallback:11,Socket_onErrorCallback:12,Socket_onChatAllCallback:13,Socket_onSlotUpdateCallback:14,Socket_onChangeLand:15,Socket_onChangeNumberViewer:16,Socket_onErr:17,Socket_onNotice:18,Socket_onHitCrowKing:19,Socket_Dond_GameInit:20,Socket_Dond_PlayerInfo:21,Socket_Dond_Notice:22,Socket_Dond_Voting_Result:23,Socket_Dond_Remove_Voting:24,Socket_Dond_Game_Progress:25,Socket_Dond_Chat:26,Socket_Dond_Bet:27,Socket_Dond_Update_Cases:28,Socket_Dond_Show_Deal:29,Socket_Dond_Deal:30,Socket_Dond_Remaining_Cases:31,Socket_Dond_Select_Case:32,Socket_Dond_Auto_Deal:33,Socket_Dond_Game_Statistics:34,Socket_Dond_Removed_Case:35}),e("GlobalEvents",new(function(){function e(){this.subscribers={}}var t=e.prototype;return t.publish=function(e,t){var n=this.subscribers[e];if(!n)return!1;for(var _,c=o(n);!(_=c()).done;){(0,_.value)(t)}return!0},t.subscribe=function(e,o){return this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push(o),o},t.unsubscribe=function(e,o){this.subscribers[e]&&(this.subscribers[e]=o?this.subscribers[e].filter((function(e){return e!==o})):void 0)},e}()));t._RF.pop()}}}));

System.register("chunks:///_virtual/FadeSpriteEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,o,a,n,c,p,s,l,u,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,n=t._decorator,c=t.Sprite,p=t.UIOpacity,s=t.Vec3,l=t.tween,u=t.v3,y=t.Component}],execute:function(){var f,d,m,h,_,v,b;a._RF.push({},"7f718YnjtZDaoayrgp1jOrN","FadeSpriteEffect",void 0);var g=n.ccclass,F=n.property;t("FadeSpriteEffect",(f=g("FadeSpriteEffect"),d=F(c),m=F(p),f((v=e((_=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return e=t.call.apply(t,[this].concat(a))||this,r(e,"m_sprite",v,o(e)),r(e,"m_opacity",b,o(e)),e}return i(e,t),e.prototype.Play=function(t,e){var i=this;this.m_sprite.spriteFrame=t,this.m_opacity.opacity=255,this.node.setPosition(new s(0,0,0)),l(this.m_opacity).delay(e).to(1,{opacity:0}).start(),l(this.node).delay(e).to(1,{position:u(0,75,0)},{onComplete:function(t){i.node.active=!1,i.m_opacity.opacity=255}}).start()},e}(y)).prototype,"m_sprite",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=e(_.prototype,"m_opacity",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=_))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/FarmBannerUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIPopupManager.ts","./UserModel.ts","./ResHttp.ts","./ConfigApi.ts","./AdsBannerController.ts","./EventSystem.ts","./ConfigGame.ts"],(function(n){"use strict";var e,t,a,r,i,o,l,u,c,s,p,f,b,d,B,v,h,y;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,a=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){i=n.cclegacy,o=n._decorator,l=n.Node,u=n.Sprite,c=n.Label,s=n.Component},function(n){p=n.UIPopupManager},function(n){f=n.UserModel},function(n){b=n.ResHttp},function(n){d=n.ConfigApi},function(n){B=n.AdsBannerController},function(n){v=n.GlobalEvents,h=n.EventType},function(n){y=n.ConfigGame}],execute:function(){var A,D,m,L,U,F,g,_,I;i._RF.push({},"a8d50qBqhFMbpS9qkceDY+S","FarmBannerUI",void 0);var R=o.ccclass,C=o.property;n("FarmBannerUI",(A=R("FarmBannerUI"),D=C(l),m=C(u),L=C(c),A((g=e((F=function(n){function e(){for(var e,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e=n.call.apply(n,[this].concat(i))||this,a(e,"bannerDefault",g,r(e)),a(e,"banner",_,r(e)),e.onFarmBannerUpdateCallBack=null,a(e,"priceLabel",I,r(e)),e}t(e,n);var i=e.prototype;return i.start=function(){this.priceLabel.string="ADS BANNER: "+y.PRICE_BANNER+" LE",this.onFarmBannerUpdateCallBack=v.subscribe(h.FARM_BANNER_UPDATE,this.onFarmBannerUpdate.bind(this))},i.ShowAd=function(){this.banner.node.active=!1,this.bannerDefault.active=!0,this.InitAdBanner()},i.onDestroy=function(){v.unsubscribe(h.FARM_BANNER_UPDATE,this.onFarmBannerUpdateCallBack)},i.onFarmBannerUpdate=function(n){this.LoadBannerByLocation(n.x,n.y)},i.LoadBannerByLocation=function(n,e){var t=this;t.banner.node.active=!1,t.bannerDefault.active=!0;var a={x:n,y:e};b.GetRequest(d.LINK_API+d.lands_get_banner_by_coordinate,a,(function(n){var e=JSON.parse(n).data;B.LoadSpriteAdByUrl(e,(function(n){null!=n&&null!=t&&null!=t.banner&&null!=t.bannerDefault&&(t.banner.spriteFrame=n,t.banner.node.active=!0,t.bannerDefault.active=!1)}))}),(function(n){}))},i.InitAdBanner=function(){var n=this;B.LoadSpriteAdByUrl(f.currentLandData.ads,(function(e){null!=e&&null!=n&&null!=n.banner&&null!=n.bannerDefault&&(n.banner.node.active=!0,n.bannerDefault.active=!1,n.banner.spriteFrame=e)}))},i.OnBtnRent=function(){p.Instance.ShowUIPopupBidAd(f.currentLandData.location[0],f.currentLandData.location[1],f.currentLandData._id)},e}(s)).prototype,"bannerDefault",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(F.prototype,"banner",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(F.prototype,"priceLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=F))||U));i._RF.pop()}}}));

System.register("chunks:///_virtual/FarmBiddingUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserModel.ts","./Utility.ts","./ConfigApi.ts","./ResHttp.ts","./ConfigGame.ts","./UIPopupManager.ts"],(function(t){"use strict";var i,e,n,l,a,r,o,s,d,c,p,u,h,b,f,g,S,m;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,o=t.Widget,s=t.Label,d=t.EditBox,c=t.Node,p=t.tween,u=t.Component},function(t){h=t.UserModel},function(t){b=t.Utility},function(t){f=t.ConfigApi},function(t){g=t.ResHttp},function(t){S=t.EnumPlantSlotStage},function(t){m=t.UIPopupManager}],execute:function(){var _,L,B,P,v,I,y,U,w,E,A,F,C,W,x,z,M,R,D,N,G,H,q,T,V;a._RF.push({},"a2dacqMxvRPF5qeA4pnTqRW","FarmBiddingUI",void 0);var k=r.ccclass,O=r.property;t("FarmBiddingUI",(_=k("FarmBiddingUI"),L=O(o),B=O(s),P=O(s),v=O(s),I=O(s),y=O(s),U=O(s),w=O(d),E=O(s),A=O(c),F=O(c),_((x=i((W=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return i=t.call.apply(t,[this].concat(a))||this,n(i,"panelWidget",x,l(i)),n(i,"locationLabel",z,l(i)),n(i,"floorPriceLabel",M,l(i)),n(i,"ceilingPriceLabel",R,l(i)),n(i,"userBiddingLabel",D,l(i)),n(i,"yourBidLabel",N,l(i)),n(i,"LeBalanceLabel",G,l(i)),n(i,"LeEditBox",H,l(i)),n(i,"feeLabel",q,l(i)),n(i,"btn_Bids",T,l(i)),n(i,"btn_Cancels",V,l(i)),i.farmUI=void 0,i.plantSlot=void 0,i.isActive=!1,i}e(i,t);var a=i.prototype;return a.Show=function(t,i){if(this.isActive=!0,t.HideAllPopup(this),this.farmUI=t,this.plantSlot=i,this.locationLabel.string="SLOT: "+i._d.location[0]+","+i._d.location[1],this.LeBalanceLabel.string=b.numberWithCommas(h.LE),this.floorPriceLabel.string=i._d.prices.floorPrice,this.ceilingPriceLabel.string=i._d.prices.ceilingPrice,this.feeLabel.string="Fee: "+h.farmWorldInfo.biddingFee+"LE",this.yourBidLabel.string=i.yourbid.toString(),this.node.active||(this.node.active=!0,p(this.panelWidget).to(.15,{right:0}).start()),null==this.plantSlot._d.prices.highestPrice){var e=0;this.plantSlot._d.prices.biddingUser.forEach((function(t){t.price>e&&(e=t)})),this.plantSlot._d.prices.highestPrice=e}this.userBiddingLabel.string=this.plantSlot._d.prices.highestPrice,this.LeEditBox.string="0",this.LeEditBox.string=this.bidValue().toString(),this.updateBidBtn()},a.Socket_onSlotUpdateCallback=function(t){this.isActive&&t==this.plantSlot&&this.Show(this.farmUI,this.plantSlot)},a.Hide=function(){var t=this;this.node.active&&(this.isActive=!1,this.farmUI.onCloseSelect(),p(this.panelWidget).to(.15,{right:-650}).call((function(){t.node.active=!1})).start())},a.onCancelBid=function(){var t=this;g.DeleteRequest(f.LINK_API+f.farm_bidding+this.plantSlot._d._id,(function(i){h.LE=JSON.parse(i).data.leAmount;for(var e=0;e<t.plantSlot._d.prices.biddingUser.length;e++)if(t.plantSlot._d.prices.biddingUser[e].userId==h.ownerId)return t.farmUI.totalPlayerBid-=1,t.plantSlot._d.prices.biddingUser.splice(e,1),t.plantSlot.fillData(t.plantSlot._d,h.GetFarmWorldState()),void t.Show(t.farmUI,t.plantSlot)}),(function(t){}))},a.onBid=function(){var t=this,i=this.bidValue();if(i<=this.plantSlot._d.prices.highestPrice)m.Instance.ShowToast("Error","Your Bid must be higher than Current Bid!",0);else if(i+h.farmWorldInfo.biddingFee>h.LE)m.Instance.ShowToast("Error","Not enough LE!",0);else{var e={price:i};g.PostRequest(f.LINK_API+f.farm_bidding+this.plantSlot._d._id,e,(function(e){var n=JSON.parse(e);h.LE=n.data.leAmount;var l=!1;if(t.plantSlot._d.prices.biddingUser.forEach((function(t){t.userId==h.ownerId&&(l=!0,t.price=i)})),!l){var a={userId:h.ownerId,price:i};t.plantSlot._d.prices.biddingUser.push(a)}i>=t.plantSlot._d.prices.ceilingPrice?(l&&(t.farmUI.totalPlayerBid-=1),t.plantSlot._d.ownerId=h.ownerId,t.farmUI.rentAllPrice=t.farmUI.rentAllPrice-t.plantSlot._d.prices.ceilingPrice-h.farmWorldInfo.biddingFee,t.plantSlot.fillData(t.plantSlot._d,h.GetFarmWorldState()),t.Hide()):(l||(t.farmUI.totalPlayerBid+=1),t.plantSlot.fillData(t.plantSlot._d,h.GetFarmWorldState()),t.plantSlot._d.prices.highestPrice=n.data.highestPrice,t.Show(t.farmUI,t.plantSlot))}),(function(t){}))}},a.onLeEditBox=function(){this.LeEditBox.string=this.bidValue().toString(),this.updateBidBtn()},a.onMax=function(){this.LeEditBox.string=Math.min(h.LE,this.plantSlot._d.prices.ceilingPrice).toString(),this.updateBidBtn()},a.bidValue=function(){var t=+this.LeEditBox.string;return t=Math.min(h.LE-h.farmWorldInfo.biddingFee,this.plantSlot._d.prices.ceilingPrice,t),t=Math.max(this.plantSlot._d.prices.highestPrice+1,t,this.plantSlot._d.prices.floorPrice),t=10*Math.ceil(t/10)},a.updateBidBtn=function(){this.btn_Cancels[0].active=this.plantSlot.enumPlantSlotState==S.bidding||this.plantSlot.enumPlantSlotState==S.otherBidGreater,this.btn_Cancels[1].active=!this.btn_Cancels[0].active,this.btn_Bids[0].active=this.plantSlot.enumPlantSlotState==S.bidding||this.plantSlot.enumPlantSlotState==S.bidNow||this.plantSlot.enumPlantSlotState==S.bidnow_havebid||this.plantSlot.enumPlantSlotState==S.otherBidGreater,this.btn_Bids[1].active=!this.btn_Bids[0].active},i}(u)).prototype,"panelWidget",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(W.prototype,"locationLabel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(W.prototype,"floorPriceLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(W.prototype,"ceilingPriceLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(W.prototype,"userBiddingLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=i(W.prototype,"yourBidLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=i(W.prototype,"LeBalanceLabel",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=i(W.prototype,"LeEditBox",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=i(W.prototype,"feeLabel",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=i(W.prototype,"btn_Bids",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=i(W.prototype,"btn_Cancels",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=W))||C));a._RF.pop()}}}));

System.register("chunks:///_virtual/FarmChatUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserModel.ts","./FarmItemChatUI.ts","./SocketFarmHandler.ts","./Utility.ts","./UIPopupManager.ts","./ConfigGame.ts","./UIToast.ts","./FarnSpeakerUI.ts","./FarmTransferLETab.ts"],(function(t){"use strict";var e,n,a,r,i,o,l,u,h,s,c,f,b,d,C,p,m,I,U,g,w,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,o=t._decorator,l=t.Node,u=t.Label,h=t.ScrollView,s=t.EditBox,c=t.sys,f=t.instantiate,b=t.Component},function(t){d=t.UserModel},function(t){C=t.FarmItemChatUI},function(t){p=t.SocketFarmHandler},function(t){m=t.Utility},function(t){I=t.UIPopupManager},function(t){U=t.ConfigGame},function(t){g=t.TypeNoticeToast},function(t){w=t.FarnSpeakerUI},function(t){v=t.FarmTransferLETab}],execute:function(){var L,S,y,T,N,O,_,k,E,z,D,x,F,A,M,H,P,B,R,G,W,j,J,K,Q,V,Y,q,X,Z,$,tt,et,nt,at,rt,it;i._RF.push({},"5992b3COGJPDbDYWD5QUbKM","FarmChatUI",void 0);var ot=o.ccclass,lt=o.property;t("FarmChatUI",(L=ot("FarmChatUI"),S=lt(w),y=lt(l),T=lt(l),N=lt(v),O=lt(u),_=lt(l),k=lt(l),E=lt(u),z=lt(l),D=lt(l),x=lt(l),F=lt(l),A=lt(l),M=lt(l),H=lt(h),P=lt(u),B=lt(s),L((W=e((G=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,a(e,"farmSpeaker",W,r(e)),a(e,"tabChat",j,r(e)),a(e,"tabSpeaker",J,r(e)),a(e,"farmTransferLETab",K,r(e)),a(e,"txtNumberUser",Q,r(e)),a(e,"btnSendChatUnOwned",V,r(e)),a(e,"btnSendChat",Y,r(e)),a(e,"txtNumberChat",q,r(e)),a(e,"btnChat",X,r(e)),a(e,"panel",Z,r(e)),a(e,"prefabItemChatSpeaker",$,r(e)),a(e,"prefabItemChatUnOwned",tt,r(e)),a(e,"prefabItemChatOther",et,r(e)),a(e,"prefabItemChatMine",nt,r(e)),a(e,"scrollChat",at,r(e)),a(e,"txtTitle",rt,r(e)),a(e,"editChat",it,r(e)),e._farmUI=void 0,e.curLandId="",e.numberChatUnread=0,e}n(e,t);var i=e.prototype;return i.start=function(){},i.ChangeLand=function(t){this._farmUI=t,this.txtNumberChat.node.parent.active=!1,this.farmSpeaker.Init(this),this.LoadHistories(d.currentLandData.chatHistories),this.txtTitle.string="LAND "+d.currentLandData.location[0]+","+d.currentLandData.location[1],this.curLandId=d.currentLandData._id,p.ChangeLand(d.currentLandData._id)},i.Show=function(t){this._farmUI=t,this.node.active=!this.node.active,this.node.active&&(this.LoadButtonsSendChat(),this.LoadNumberUser())},i.ShowTabChat=function(){this.tabChat.active=!0,this.tabSpeaker.active=!1},i.ShowTabSpeaker=function(){this.tabChat.active=!1,this.tabSpeaker.active=!0},i.onTabTransferClick=function(){this.farmTransferLETab.node.active=!this.farmTransferLETab.node.active},i.CheckChatOwned=function(t){for(var e=0;e<this._farmUI.plantSlots.length;e++)if(this._farmUI.plantSlots[e]._d.ownerId==t)return!0;return!1},i.onChangeLand=function(t){d.currentLandData._id==this.curLandId&&(this._farmUI=t)},i.LoadNumberUser=function(){var t=[];this._farmUI.plantSlots.forEach((function(e){if(""!=e._d.ownerId){for(var n=!1,a=0;a<t.length;a++)if(e._d.ownerId==t[a]){n=!0;break}0==n&&t.push(e._d.ownerId)}})),this.txtNumberUser.string=t.length+"",this.farmTransferLETab.Init(t,this._farmUI)},i.LoadButtonsSendChat=function(){1==this.CheckChatOwned(d.ownerId)?(this.btnSendChat.active=!0,this.btnSendChatUnOwned.active=!1):(this.btnSendChat.active=!1,this.btnSendChatUnOwned.active=!0)},i.LoadHistories=function(t){if(this.scrollChat.content.destroyAllChildren(),null!=t){for(var e=0;e<t.length;e++){var n=t[e];for(var a in n)if(null!=n[a]){this.OnChat({address:a,msg:n[a],time:n.time});break}}this.ClearNumberChatUnread()}},i.onChatMessage=function(t){if(null!=t)if(Array.isArray(t))this.LoadHistories(t);else for(var e in t)if(null!=t[e]){this.OnChat({address:e,msg:t[e],time:t.time});break}},i.Log=function(t){},i.onChatAllMessage=function(t){this.OnChatAll(t)},i.OnBtnSend=function(){if(this.Log("OnBtnSend "+this.editChat.string+"  "+this.node.active),null!=this.editChat.string&&""!=this.editChat.string){var t=this.editChat.string.trim(),e=function(){p.SendChat(t),this.editChat.string="",0==c.isNative&&this.forcusEditChat()}.bind(this);0==this.CheckChatOwned(d.ownerId)?d.LE<U.PRICE_CHAT_UNOWNED_LAND?I.Instance.ShowToast("INFO","Not enough to LE",g.Info):(e(),d.LE-=U.PRICE_CHAT_UNOWNED_LAND):e()}else this.forcusEditChat()},i.forcusEditChat=function(){var t=this;m.AsyncDelay(50).then((function(){t.editChat.setFocus()}))},i.UpdateTxtNumberChatUnread=function(){0==this.node.active&&(this.numberChatUnread++,this.txtNumberChat.string=this.numberChatUnread>=100?"99+":this.numberChatUnread+"",this.txtNumberChat.node.parent.active=!0)},i.ClearNumberChatUnread=function(){this.numberChatUnread=0,this.txtNumberChat.node.parent.active=!1},i.onEnable=function(){this.ClearNumberChatUnread()},i.OnChat=function(t){var e=null;(e=t.address==d.ownerId?f(this.prefabItemChatMine):this.CheckChatOwned(t.address)?f(this.prefabItemChatOther):f(this.prefabItemChatUnOwned)).parent=this.scrollChat.content,e.setPosition(0,0,0),e.getComponent(C).Init(t),this.UpdateTxtNumberChatUnread()},i.OnChatAll=function(t){var e=f(this.prefabItemChatSpeaker);e.parent=this.scrollChat.content,e.setPosition(0,0,0),e.getComponent(C).Init(t),this.UpdateTxtNumberChatUnread()},e}(b)).prototype,"farmSpeaker",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(G.prototype,"tabChat",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(G.prototype,"tabSpeaker",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(G.prototype,"farmTransferLETab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(G.prototype,"txtNumberUser",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(G.prototype,"btnSendChatUnOwned",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(G.prototype,"btnSendChat",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(G.prototype,"txtNumberChat",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(G.prototype,"btnChat",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(G.prototype,"panel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(G.prototype,"prefabItemChatSpeaker",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=e(G.prototype,"prefabItemChatUnOwned",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=e(G.prototype,"prefabItemChatOther",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=e(G.prototype,"prefabItemChatMine",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e(G.prototype,"scrollChat",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e(G.prototype,"txtTitle",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(G.prototype,"editChat",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=G))||R));i._RF.pop()}}}));

System.register("chunks:///_virtual/FarmDecorBuff.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConfigGame.ts"],(function(t){"use strict";var i,e,a,n,r,l,s,o,u,h;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,s=t.Label,o=t.Node,u=t.Component},function(t){h=t.ConfigGame}],execute:function(){var c,f,g,p,d,b,P,v,m,y,_,B,w;r._RF.push({},"71a31naaz5DlYci+VjCIBX1","FarmDecorBuff",void 0);var L=l.ccclass,D=l.property;t("FarmDecorBuff",(c=L("FarmDecorBuff"),f=D(s),g=D(s),p=D(s),d=D(o),b=D(o),c((m=i((v=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),l=0;l<e;l++)r[l]=arguments[l];return i=t.call.apply(t,[this].concat(r))||this,a(i,"title_all",m,n(i)),a(i,"title_buff",y,n(i)),a(i,"des",_,n(i)),a(i,"btnRight",B,n(i)),a(i,"btnLeft",w,n(i)),i.curPage=0,i.totalPage=10,i.data=null,i.farmUI=void 0,i.plantSlot=void 0,i}e(i,t);var r=i.prototype;return r.Show=function(t,i,e){this.plantSlot=e,this.farmUI=t,this.data=i,this.curPage=0,this.totalPage=this.data.length,0==this.totalPage&&(this.totalPage=1),this.title_all.string="DECOR BUFF : "+this.data.length,this.onLeft()},r.onRight=function(){this.curPage+=1,this.curPage>=this.totalPage&&(this.curPage=this.totalPage-1),this.btnRight.active=this.curPage<this.totalPage-1,this.btnLeft.active=this.curPage>0,this.showBuffText()},r.onLeft=function(){this.curPage-=1,this.curPage<0&&(this.curPage=0),this.btnRight.active=this.curPage<this.totalPage-1,this.btnLeft.active=this.curPage>0,this.showBuffText()},r.showBuffText=function(){var t=this;if(0==this.data.length)return this.title_buff.string="",void(this.des.string="");this.title_buff.string="Buff: "+this.data[this.curPage].id;var i=this.data[this.curPage].description;if(null!=this.data[this.curPage].faction)i+=" ("+h.FactionText[this.data[this.curPage].faction]+")";else if(402==this.data[this.curPage].id&&null!=this.plantSlot){this.data[this.curPage].slotLocations.findIndex((function(i){return i[0]==t.plantSlot._d.location[0]&&i[1]==t.plantSlot._d.location[1]}))>=0&&(i+=" (this Plant)")}this.des.string=i},i}(u)).prototype,"title_all",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=i(v.prototype,"title_buff",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(v.prototype,"des",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(v.prototype,"btnRight",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=i(v.prototype,"btnLeft",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=v))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/FarmDecorUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserModel.ts","./ResHttp.ts","./ConfigApi.ts","./UIPopupManager.ts","./FarmDecorBuff.ts"],(function(t){"use strict";var e,i,r,n,a,o,l,s,c,p,u,f,d,m,h,v,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,l=t.Widget,s=t.Sprite,c=t.SpriteFrame,p=t.Node,u=t.tween,f=t.Component},function(t){d=t.UserModel},function(t){m=t.ResHttp},function(t){h=t.ConfigApi},function(t){v=t.LoadingType},function(t){b=t.FarmDecorBuff}],execute:function(){var y,g,S,I,D,U,R,B,w,F,_,z,A,C,H,L,P;a._RF.push({},"9af50f2fkJCtrn5tjYC3DUB","FarmDecorUI",void 0);var T=o.ccclass,W=o.property;t("FarmDecorUI",(y=T("FarmDecorUI"),g=W(l),S=W(s),I=W(s),D=W(c),U=W(p),R=W(p),B=W(b),y((_=e((F=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,r(e,"panelWidget",_,n(e)),e.animTime=.15,r(e,"DecorSprite",z,n(e)),r(e,"raritySprite",A,n(e)),r(e,"baseRaritys",C,n(e)),r(e,"BtnRemove",H,n(e)),r(e,"BtnRemoveGrey",L,n(e)),r(e,"farmDecorBuff",P,n(e)),e.farmUI=void 0,e.plantSlot=void 0,e.isActive=!1,e}i(e,t);var a=e.prototype;return a.Show=function(t,e){this.isActive=!0,t.HideAllPopup(this),null!=e._d.decInfos?(this.farmUI=t,this.plantSlot=e,this.DecorSprite.spriteFrame=e.decorSprite.spriteFrame,this.BtnRemove.active=e._d.decInfos.ownerId==d.ownerId,this.BtnRemoveGrey.active=!this.BtnRemove.active,this.raritySprite.spriteFrame=this.baseRaritys[e.config.rarity],this.farmDecorBuff.Show(this.farmUI,d.currentLandData.decoStatus.effects,null),this.node.active||(this.node.active=!0,u(this.panelWidget).to(this.animTime,{right:0}).start())):this.Hide()},a.Socket_onSlotUpdateCallback=function(t){this.isActive||t==this.plantSlot&&this.Show(this.farmUI,this.plantSlot)},a.Hide=function(){var t=this;this.node.active&&(this.isActive=!1,this.farmUI.onCloseSelect(),u(this.panelWidget).to(this.animTime,{right:-450}).call((function(){t.node.active=!1})).start())},a.OnBtnRemove=function(){var t=this,e={slots:[{slotId:this.plantSlot._d._id}],landId:d.currentLandData._id};m.PostRequest(h.LINK_API+h.decorations_put,e,(function(e){t.farmUI.UpdateData()}),(function(e){t.farmUI.UpdateData()}),!0,v.normal),this.Hide()},e}(f)).prototype,"panelWidget",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(F.prototype,"DecorSprite",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(F.prototype,"raritySprite",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(F.prototype,"baseRaritys",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=e(F.prototype,"BtnRemove",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(F.prototype,"BtnRemoveGrey",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(F.prototype,"farmDecorBuff",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=F))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/FarmInfoUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventSystem.ts","./UserModel.ts","./Utility.ts","./ConfigGame.ts"],(function(e){"use strict";var t,i,n,a,o,r,s,l,m,T,f,u,c,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,s=e.Label,l=e.Component},function(e){m=e.GlobalEvents,T=e.EventType},function(e){f=e.UserModel,u=e.FarmWorldState},function(e){c=e.Utility},function(e){h=e.ConfigGame}],execute:function(){var d,p,b,D,I,v,g;o._RF.push({},"80c67sY81JE+aOxks8IRP3J","FarmInfoUI",void 0);var U=r.ccclass,E=r.property;e("FarmInfoUI",(d=U("FarmInfoUI"),p=E(s),b=E(s),d((v=t((I=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"infoTitleLabel",v,a(t)),n(t,"infoTimeLabel",g,a(t)),t.cb=void 0,t.nextTime=void 0,t.onDataChangeCb=null,t.updateTimelAtTimmer=void 0,t.isUpdateTimelAt=void 0,t}i(t,e);var o=t.prototype;return o.start=function(){this.cb=m.subscribe(T.FARM_WORLD_UPDATE,this.onDataChange.bind(this))},o.Init=function(e){this.onDataChangeCb=e,this.onDataChange(),this.CorouUpdateTime()},o.onDestroy=function(){m.unsubscribe(T.FARM_WORLD_UPDATE,this.cb),this.StopUpdateTime()},o.onDataChange=function(e){if(null!=f.farmWorldInfo){this.node.active=!0;var t=f.GetFarmWorldState();switch(null!=this.onDataChangeCb&&this.onDataChangeCb(t),t){case u.PRE_BIDDING:f.serverTime>=f.farmWorldInfo.endDate?(this.infoTitleLabel.string="NEXT YEAR IN:",this.nextTime=f.farmWorldInfo.endDate+h.YearBreakDuration):(this.infoTitleLabel.string="SETTING UP NEW SEASON:",this.nextTime=f.farmWorldInfo.startBidding);break;case u.BIDDING:this.infoTitleLabel.string="BIDDING TIME LEFT:",this.nextTime=f.farmWorldInfo.startDemo;break;case u.DEMO:this.infoTitleLabel.string="DEMO TIME LEFT:",this.nextTime=f.farmWorldInfo.startDate;break;default:this.node.active=!1}}else this.node.active=!1},o.StopUpdateTime=function(){clearTimeout(this.updateTimelAtTimmer),this.isUpdateTimelAt=!1},o.CorouUpdateTime=function(){var e=this;this.updateTime();this.isUpdateTimelAt=!0,this.updateTimelAtTimmer=setTimeout((function t(){e.isUpdateTimelAt&&(e.updateTimelAtTimmer=setTimeout(t,1e3),e.updateTime())}),1e3)},o.updateTime=function(){this.node.active&&(f.serverTime>=f.farmWorldInfo.endDate&&f.serverTime>this.nextTime||(null==f.farmWorldInfo||f.serverTime>this.nextTime?this.onDataChange():this.infoTimeLabel.string=c.TimeToString_v1(this.nextTime-f.serverTime)))},t}(l)).prototype,"infoTitleLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=t(I.prototype,"infoTimeLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=I))||D));o._RF.pop()}}}));

System.register("chunks:///_virtual/FarmingServicesApi.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConfigApi.ts","./ResHttp.ts","./UIPopupManager.ts"],(function(e){"use strict";var t,n,r,s,i,u;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy},function(e){s=e.ConfigApi},function(e){i=e.ResHttp},function(e){u=e.LoadingType}],execute:function(){var o;e("FarmingServicesApi",void 0),r._RF.push({},"99043UU1cFM2biQOAdykN7R","FarmingServicesApi",void 0),function(e){function r(){return(r=t(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){i.PostRequest(s.LINK_API+s.user_register,{publicAddress:t},e,e)}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(){return(o=t(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.GetRequest(s.LINK_API+s.user_info,null,t,r,!0,u.noAnim);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return(c=t(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.GetRequest(s.LINK_API+s.bettings_info,null,t,r);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(){return(a=t(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.GetRequest(s.LINK_API+s.farm_world,null,t,r,!0,u.noAnim);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=t(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.GetRequest(s.LINK_API+s.plants_config,null,t,r,!0,u.noAnim);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e.RequestLoginWithMeta=function(e,t,n){var r={publicAddress:e};i.GetRequest(s.LINK_API+s.user_login,r,t,n)},e.RequestRegisterAccount=function(e){return r.apply(this,arguments)},e.PostRequestUserAuth=function(e,t,n,r,u){var o=s.LINK_API+s.user_auth,c={publicAddress:e,signature:t};i.PostRequest(o,c,r,u)},e.RequestUserInfo=function(e,t){return o.apply(this,arguments)},e.RequestBettingsInfo=function(e,t){return c.apply(this,arguments)},e.RequestBetting=function(e,t,n,r,u){var o=s.LINK_API+s.bettings,c={amount:e,choice:0==t?"head":"tail",times:n};i.PostRequest(o,c,r,u)},e.RequestFarmWorld=function(e,t){return a.apply(this,arguments)},e.RequestPlantConfig=function(e,t){return p.apply(this,arguments)}}(o||(o=e("FarmingServicesApi",{}))),r._RF.pop()}}}));

System.register("chunks:///_virtual/FarmInventoryItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./IconInfo.ts","./ConfigGame.ts","./FarmUI.ts"],(function(i){"use strict";var e,t,n,o,a,r,l,c,s,p,f,u,b,h,d,I;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){a=i.cclegacy,r=i._decorator,l=i.Sprite,c=i.Label,s=i.Node,p=i.SpriteFrame,f=i.color,u=i.Component},function(i){b=i.ResourcesManager},function(i){h=i.IconInfo},function(i){d=i.ConfigGame},function(i){I=i.FarmUI}],execute:function(){var m,g,y,S,v,T,k,L,w,F,Z,z,C,D,E,P,R,x,A,U,_,M,B,N,G,j,q,H,J,Q,X,K,O,V,W,Y,$,ii,ei,ti,ni;a._RF.push({},"f6d8dPEQjJCapfclwmXf7wm","FarmInventoryItem",void 0);var oi=r.ccclass,ai=r.property;i("FarmInventoryItem",(m=oi("FarmInventoryItem"),g=ai(l),y=ai(c),S=ai(c),v=ai(l),T=ai(c),k=ai(c),L=ai(h),w=ai(h),F=ai(h),Z=ai(h),z=ai(h),C=ai(l),D=ai(s),E=ai(s),P=ai(p),R=ai(l),x=ai(c),A=ai(l),U=ai(s),m((B=e((M=function(i){function e(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return e=i.call.apply(i,[this].concat(a))||this,n(e,"TreeSprite",B,o(e)),n(e,"TreeS1Label",N,o(e)),n(e,"TreeS2Label",G,o(e)),n(e,"mTreeSprite",j,o(e)),n(e,"mTreeS1Label",q,o(e)),n(e,"mTreeS2Label",H,o(e)),n(e,"factionIcon",J,o(e)),n(e,"skillIcon",Q,o(e)),n(e,"skillZoneIcon",X,o(e)),n(e,"abilityIcon",K,o(e)),n(e,"abilityZoneIcon",O,o(e)),n(e,"DecorSprite",V,o(e)),n(e,"selectNode",W,o(e)),n(e,"placedNode",Y,o(e)),n(e,"baseRarity",$,o(e)),n(e,"tabInfo",ii,o(e)),e.tabInfoColor=["#E6E4D5","#A6ECA7","#8CC5FF","#D19EFF","#CC7474"],n(e,"tabLabel",ei,o(e)),e.tabLabelColor=["#959477","#5F935F","#3D6792","#7E4BB0","#8A2B2B"],n(e,"base",ti,o(e)),n(e,"diamond",ni,o(e)),e.data=null,e.farmInventoryUI=void 0,e.index=void 0,e.config=void 0,e.type=0,e}t(e,i);var a=e.prototype;return a.Init=function(i,e,t,n){var o=this;if(this.farmInventoryUI=e,this.index=t,this.data=i,this.type=n,this.selectNode.active=!1,this.showPlaced(!1),0==n){this.TreeSprite.node.parent.active=!1,this.mTreeSprite.node.parent.active=!1,this.DecorSprite.node.parent.active=!0,this.config=e.farmUI.GetConfigByDecorId(i.decorId.toString()),this.factionIcon.Init(null),this.skillIcon.Init(null),this.skillZoneIcon.Init(null),this.abilityIcon.Init(null),this.abilityZoneIcon.Init(null),this.diamond[0].active=this.diamond[1].active=!1,this.setRarity(this.config.rarity),this.DecorSprite.node.active=!1;b.Instance.LoadDecor(this.config.name,(function(i){o.DecorSprite.spriteFrame=i,o.DecorSprite.node.active=!0}))}else{switch(this.config=e.farmUI.GetConfigByPlantId(i.plantId.toString(),i.origin),this.DecorSprite.node.parent.active=!1,b.Instance.LoadFactionSprite(this.config.plant.faction,(function(i){o.factionIcon.Init(i,"Faction: "+d.FactionText[o.config.plant.faction],!0,o.config.plant.faction)})),null==this.config.ability?this.abilityIcon.Init(null):this.abilityIcon.Init(b.Instance.LoadAbilitySprite(this.config.ability.abilityId),this.config.ability.description),null==this.config.abilityZone?this.abilityZoneIcon.Init(null):b.Instance.LoadAbilityZoneSprite(this.config.abilityZone.abilityZoneId,(function(i){o.abilityZoneIcon.Init(i,o.config.abilityZone.description)})),this.diamond[0].active=this.diamond[1].active=!1,i.origin){case"fused_second":this.diamond[0].active=!0,this.diamond[1].active=!0;break;case"fused":this.diamond[0].active=!0}if(this.setRarity(d.RarityText.findIndex((function(i){return i==o.config.plant.rarity}))),1==n){this.skillIcon.Init(b.Instance.LoadSkillSprite(this.config.skill.skillId),this.config.skill.description),b.Instance.LoadSkillZoneSprite(this.config.skillZone.skillZoneId,(function(i){o.skillZoneIcon.Init(i,o.config.skillZone.description)})),this.TreeSprite.node.parent.active=!0,this.mTreeSprite.node.parent.active=!1,this.TreeS1Label.string=this.config.plant.leStage[0]+this.config.plant_leStage_Extra,this.TreeS2Label.string=this.config.plant.leStage[1]+this.config.plant_leStage_Extra,this.TreeSprite.node.active=!1;b.Instance.LoadPlant(this.config.name,(function(i){o.TreeSprite.spriteFrame=i,o.TreeSprite.node.active=!0}))}else if(2==n){this.skillIcon.Init(b.Instance.LoadSkillSpriteMother(this.config.skill.skillId),this.config.skill.description),b.Instance.LoadSkillZoneSprite(this.config.skillZone.skillZoneId+"m",(function(i){o.skillZoneIcon.Init(i,o.config.skillZone.description)})),this.TreeSprite.node.parent.active=!1,this.mTreeSprite.node.parent.active=!0,console.log("this.config.mTreeAbility",this.config.mTreeAbility),this.mTreeS1Label.string=I.getMinMaxStage(this.config.mTreeAbility.stage1),this.mTreeS2Label.string=I.getMinMaxStage(this.config.mTreeAbility.stage2),this.mTreeSprite.node.active=!1;b.Instance.LoadPlant(this.config.name,(function(i){o.mTreeSprite.spriteFrame=i,o.mTreeSprite.node.active=!0}))}}},a.onClick=function(){this.farmInventoryUI.onFarmInventoryItemClick(this)},a.CheckPlace=function(){var i=this;this.showPlaced(!1),this.farmInventoryUI.farmUI.plantSlots.forEach((function(e){null==e.tempData||i.data.uniqueId!=e.tempData.uniqueId||i.showPlaced(!0)}))},a.showPlaced=function(i){this.placedNode[this.type].active=i},a.setRarity=function(i){var e=this;this.base.spriteFrame=this.baseRarity[i],this.tabInfo.forEach((function(t){t.color=f(e.tabInfoColor[i])})),this.tabLabel.forEach((function(t){t.color=f(e.tabLabelColor[i])}))},e}(u)).prototype,"TreeSprite",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(M.prototype,"TreeS1Label",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(M.prototype,"TreeS2Label",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(M.prototype,"mTreeSprite",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(M.prototype,"mTreeS1Label",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(M.prototype,"mTreeS2Label",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(M.prototype,"factionIcon",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(M.prototype,"skillIcon",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(M.prototype,"skillZoneIcon",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(M.prototype,"abilityIcon",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(M.prototype,"abilityZoneIcon",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(M.prototype,"DecorSprite",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(M.prototype,"selectNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=e(M.prototype,"placedNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=e(M.prototype,"baseRarity",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ii=e(M.prototype,"tabInfo",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ei=e(M.prototype,"tabLabel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ti=e(M.prototype,"base",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ni=e(M.prototype,"diamond",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=M))||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/FarmInventoryUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FarmPage.ts","./FarmInventoryItem.ts","./ResHttp.ts","./ConfigApi.ts","./UIPopupManager.ts","./UserModel.ts"],(function(t){"use strict";var e,a,n,i,o,r,l,s,c,h,u,f,p,m,d,I,g,v,P;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,l=t.Widget,s=t.Node,c=t.ScrollView,h=t.tween,u=t.instantiate,f=t.Component},function(t){p=t.FarmPage},function(t){m=t.FarmInventoryItem},function(t){d=t.ResHttp},function(t){I=t.ConfigApi},function(t){g=t.LoadingType,v=t.UIPopupManager},function(t){P=t.UserModel}],execute:function(){var y,S,F,U,A,D,b,T,C,L,_,q,w,R,M,E,k;o._RF.push({},"35cfc/FdIdCQau9n+pQ37/H","FarmInventoryUI",void 0);var N=r.ccclass,G=r.property;t("FarmInventoryUI",(y=N("FarmInventoryUI"),S=G(l),F=G(s),U=G(c),A=G(s),D=G(s),b=G(p),T=G(s),y((_=e((L=function(t){function e(){for(var e,a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"panelWidget",_,i(e)),n(e,"ContentParent",q,i(e)),e.farmInventoryItems=[],n(e,"Content",w,i(e)),n(e,"NoAsset",R,i(e)),n(e,"FarmInventoryItemPrefab",M,i(e)),n(e,"farmPage",E,i(e)),n(e,"FilterIndicator",k,i(e)),e.isMotherTree=!0,e.farmUI=void 0,e.plantSlot=void 0,e.isFarm=void 0,e.isActive=!1,e.filters=null,e}a(e,t);var o=e.prototype;return o.Show=function(t,e,a){this.isActive=!0,t.HideAllPopup(this),this.filters=null,this.farmUI=t,this.plantSlot=e,this.isFarm=a,this.node.active||(this.node.active=!0,h(this.panelWidget).to(.15,{right:0}).start()),this.updateTreeToggle(e)},o.UpdatePlantSlotSelect=function(t){this.plantSlot=t,this.isMotherTree!=t.isMotherTreeSlot?this.updateTreeToggle(t):this.UpdateSelectItem()},o.updateTreeToggle=function(t){this.isMotherTree=t.isMotherTreeSlot,this.farmPage.toPage(0),this.RequestLoadApply()},o.Hide=function(){var t=this;this.node.active&&(this.isActive=!1,this.farmUI.onCloseSelect(),this.farmUI.ClearAllPlantSlotTempPlant(),h(this.panelWidget).to(.15,{right:-650}).call((function(){t.node.active=!1})).start())},o.OnSave=function(){this.isFarm?this.savePlant():this.saveDecor(),this.Hide()},o.savePlant=function(){var t=this,e={slots:[]};this.farmUI.plantSlots.forEach((function(t){if(null!=t.tempData){var a={plantUniqueId:t.tempData.uniqueId,slotId:t._d._id};0==t.tempData.faction&&(a.selectFaction=t.tempSelectFaction),e.slots.push(a)}})),e.slots.length>0&&d.PostRequest(I.LINK_API+I.farms_growth_plant,e,(function(e){t.farmUI.UpdateData()}),(function(e){t.farmUI.UpdateData()}),!0,g.normal)},o.saveDecor=function(){for(var t=this,e=!1,a=0;a<this.farmUI.plantSlots.length;a++)if(this.farmUI.plantSlots[a]._d.ownerId==P.ownerId){e=!0;break}if(e){var n={slots:[],landId:P.currentLandData._id};this.farmUI.plantSlots.forEach((function(t){if(null!=t.tempData){var e={decorUniqueId:t.tempData.uniqueId,slotId:t._d._id};n.slots.push(e)}})),n.slots.length>0&&d.PostRequest(I.LINK_API+I.decorations_put,n,(function(e){t.farmUI.UpdateData()}),(function(e){t.farmUI.UpdateData()}),!0,g.normal)}else v.Instance.ShowPopupConfirmUI("Own a Planning slot to","place Decoration",null,null)},o.onFilter=function(){var t=this;this.isFarm?v.Instance.ShowFarmPopupFilterPlantUI(function(e){t.filters=e,t.farmPage.toPage(0),t.RequestLoadApply()}.bind(this)):v.Instance.ShowFarmPopupFilterDecorUI(function(e){t.filters=e,t.farmPage.toPage(0),t.RequestLoadApply()}.bind(this))},o.RequestLoadApply=function(){for(var t=0;t<this.farmInventoryItems.length;t++)this.farmInventoryItems[t].node.active=!1;this.isFarm?this.RequestLoadMyPlants():this.RequestLoadMyDecor()},o.GetFarmInventoryItemPrefab=function(t){var e;t<this.farmInventoryItems.length?e=this.farmInventoryItems[t]:(e=u(this.FarmInventoryItemPrefab).getComponent(m),this.farmInventoryItems.push(e));return e.node.active=!0,e.node.setParent(this.ContentParent),e.node.setScale(1,1,1),e},o.RequestLoadMyPlants=function(){var t=this,e=this.isMotherTree?2:1;this.farmPage.DisableControll();var a={offset:this.farmPage.currentPage*I.DEFAULT_PAGE,limit:I.DEFAULT_PAGE,type:e,status:0},n=this.filters,i=!1;null!=n&&(null!=n.origins&&n.origins.length>0&&(a.origins=n.origins,i=!0),null!=n.factions&&n.factions.length>0&&(a.factions=n.factions,i=!0),null!=n.rarities&&n.rarities.length>0&&(a.rarities=n.rarities,i=!0),null!=n.skillTiers&&n.skillTiers.length>0&&(a.skillTiers=n.skillTiers,i=!0),null!=n.skillZoneTiers&&n.skillZoneTiers.length>0&&(a.skillZoneTiers=n.skillZoneTiers,i=!0),null!=n.plantId&&n.plantId.length>0&&(a.plantId=n.plantId,i=!0)),this.FilterIndicator.active=i,d.GetRequest(I.LINK_API+I.plants_inventory,a,(function(a){t.LoadMyPlants(JSON.parse(a),e)}),null)},o.LoadMyPlants=function(t,e){var a=this;if(this.Content.stopAutoScroll(),this.Content.scrollToLeft(),null==t.data)this.Content.node.active=!1,this.farmPage.node.active=!1,this.UpdateSelectItem();else if(null!=t.total&&t.total>0&&this.farmPage.currentPage>0&&0==t.data.length)this.farmPage.ChangePage(-1),this.RequestLoadApply();else{this.Content.node.active=t.data.length>0;null!=t.total&&t.total>0?(this.farmPage.node.active=!0,this.farmPage.Init((function(){a.RequestLoadApply()}),t.total,I.DEFAULT_PAGE)):this.farmPage.node.active=!1;for(var n=0;n<t.data.length;n++){this.GetFarmInventoryItemPrefab(n).Init(t.data[n],this,n,e)}this.UpdateSelectItem()}this.NoAsset.active=!this.Content.node.active},o.RequestLoadMyDecor=function(){var t=this;this.farmPage.DisableControll();var e={offset:this.farmPage.currentPage*I.DEFAULT_PAGE,limit:I.DEFAULT_PAGE,status:0},a=this.filters,n=!1;null!=a&&null!=a.rarities&&a.rarities.length>0&&(e.rarities=a.rarities,n=!0),this.FilterIndicator.active=n,d.GetRequest(I.LINK_API+I.decorations_inventory,e,(function(e){t.LoadMyDecors(JSON.parse(e))}),null)},o.LoadMyDecors=function(t){var e=this;if(this.Content.stopAutoScroll(),this.Content.scrollToLeft(),null==t.data)this.Content.node.active=!1,this.farmPage.node.active=!1,this.UpdateSelectItem();else if(null!=t.total&&t.total>0&&this.farmPage.currentPage>0&&0==t.data.length)this.farmPage.ChangePage(-1),this.RequestLoadApply();else{this.Content.node.active=t.data.length>0;null!=t.total&&t.total>0?(this.farmPage.node.active=!0,this.farmPage.Init((function(){e.RequestLoadApply()}),t.total,I.DEFAULT_PAGE)):this.farmPage.node.active=!1;for(var a=0;a<t.data.length;a++){this.GetFarmInventoryItemPrefab(a).Init(t.data[a],this,a,0)}this.UpdateSelectItem()}this.NoAsset.active=!this.Content.node.active},o.onFarmInventoryItemClick=function(t){var e=this;t.selectNode.active?this.plantSlot.ClearTempImage():(this.farmUI.plantSlots.forEach((function(e){null!=e.tempData&&e.tempData.uniqueId==t.data.uniqueId&&e.ClearTempImage()})),this.isFarm?(0==t.data.faction&&this.farmUI.ShowFarmSelectFaction((function(t){e.plantSlot.tempSelectFaction=t}),(function(){e.onFarmInventoryItemClick(t)}),t.node),this.plantSlot.ShowPlantSpine(t.config.name+(1==t.type?"1":""),t.data)):this.plantSlot.ShowDecorImage(t.config.name,t.data)),this.UpdateSelectItem()},o.UpdateSelectItem=function(){var t=this;this.farmInventoryItems.forEach((function(e){e.selectNode.active=null!=t.plantSlot.tempData&&e.data.uniqueId==t.plantSlot.tempData.uniqueId,e.CheckPlace()}))},e}(f)).prototype,"panelWidget",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(L.prototype,"ContentParent",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(L.prototype,"Content",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(L.prototype,"NoAsset",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(L.prototype,"FarmInventoryItemPrefab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(L.prototype,"farmPage",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(L.prototype,"FilterIndicator",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=L))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/FarmItemChatUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utility.ts"],(function(t){"use strict";var e,r,i,n,a,o,s,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,s=t.Label,l=t.Component},function(t){u=t.Utility}],execute:function(){var c,m,d,p,g,b,f,h,I;a._RF.push({},"0aac4oc/fBFqrVcDn6P9Bj2","FarmItemChatUI",void 0);var y=o.ccclass,x=o.property;t("FarmItemChatUI",(c=y("FarmItemChatUI"),m=x(s),d=x(s),p=x(s),c((f=e((b=function(t){function e(){for(var e,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"txtAddress",f,n(e)),i(e,"txtTime",h,n(e)),i(e,"txtContent",I,n(e)),e}return r(e,t),e.prototype.Init=function(t){if(this.txtAddress.string=u.reduceWallet(t.address),this.txtContent.string=t.msg,null!=t.time){var e=new Date(t.time);this.txtTime.string=u.AddZeroInNumber(e.getHours())+":"+u.AddZeroInNumber(e.getMinutes())}else{var r=new Date;this.txtTime.string=u.AddZeroInNumber(r.getHours())+":"+u.AddZeroInNumber(r.getMinutes())}},e}(l)).prototype,"txtAddress",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=e(b.prototype,"txtTime",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(b.prototype,"txtContent",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=b))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/FarmKingCrowRewardUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts","./Utility.ts","./UserModel.ts"],(function(t){"use strict";var r,e,i,o,n,a,l,c,s,u;return{setters:[function(t){r=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,l=t.Label},function(t){c=t.PopUpBase},function(t){s=t.Utility},function(t){u=t.UserModel}],execute:function(){var p,d,f,w,h,y,g;n._RF.push({},"ea734zkXhVOZarQQaGt0A8J","FarmKingCrowRewardUI",void 0);var m=a.ccclass,U=a.property;t("FarmKingCrowRewardUI",(p=m("FarmKingCrowRewardUI"),d=U(l),f=U(l),p((y=r((h=function(t){function r(){for(var r,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return r=t.call.apply(t,[this].concat(n))||this,i(r,"txtNotice",y,o(r)),i(r,"txtReward",g,o(r)),r}e(r,t);var n=r.prototype;return n.Show=function(r){this.txtNotice.string="YOU HIT KING CROW "+r+"HP",this.txtReward.string=s.numberWithCommas(r*u.farmWorldInfo.crowKingPrize),t.prototype.OnShow.call(this)},n.Hide=function(){t.prototype.OnHide.call(this)},r}(c)).prototype,"txtNotice",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=r(h.prototype,"txtReward",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=h))||w));n._RF.pop()}}}));

System.register("chunks:///_virtual/FarmPage.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,a,n,r,o,s,l,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,s=t.EditBox,l=t.Label,u=t.Button,c=t.Component}],execute:function(){var g,h,P,b,p,m,f,N,d,B,T;r._RF.push({},"2cc9etTJuVGDIiUQWoQI3XA","FarmPage",void 0);var A=o.ccclass,y=o.property;t("FarmPage",(g=A("FarmPage"),h=y(s),P=y(l),b=y(u),p=y(u),g((N=e((f=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,a(e,"NumLabel",N,n(e)),a(e,"NumTotalLabel",d,n(e)),a(e,"BtnBack",B,n(e)),a(e,"BtnNext",T,n(e)),e.currentPage=0,e.totalPage=1,e.goToPageAction=void 0,e}i(e,t);var r=e.prototype;return r.Init=function(t,e,i){this.goToPageAction=t,this.totalPage=Math.ceil(e/i),this.NumTotalLabel.string="/"+this.AddZeroToNumber(this.totalPage),this.toPage(this.currentPage),this.node.active=this.totalPage>1},r.OnButtonBackClick=function(){this.ChangePage(-1)},r.OnButtonNextClick=function(){this.ChangePage(1)},r.OnNumInputDone=function(){var t=this.NumLabel.string;if(""==t)this.NumLabel.string=this.AddZeroToNumber(this.currentPage+1);else{var e=parseInt(t);e<=0&&(e=1),e>this.totalPage&&(e=this.totalPage),this.currentPage!=e-1&&(this.currentPage=e-1,this.goToPageAction&&this.goToPageAction()),this.toPage(this.currentPage),this.NumLabel.string=this.AddZeroToNumber(e)}},r.ChangePage=function(t){0!=t&&(this.currentPage+t>0||this.currentPage+1+t<this.totalPage)&&(this.currentPage+=t,this.goToPageAction&&this.goToPageAction(),this.toPage(this.currentPage))},r.toPage=function(t){this.currentPage=t,this.NumLabel.string=this.AddZeroToNumber(this.currentPage+1),this.BtnBack.interactable=this.currentPage>0,this.BtnNext.interactable=this.currentPage+1<this.totalPage},r.DisableControll=function(){this.BtnBack.interactable=!1,this.BtnNext.interactable=!1},r.AddZeroToNumber=function(t){return t<10?"0"+t.toString():t.toString()},e}(c)).prototype,"NumLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=e(f.prototype,"NumTotalLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(f.prototype,"BtnBack",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(f.prototype,"BtnNext",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=f))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/FarmPlantUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FarmUI.ts","./UserModel.ts","./ResHttp.ts","./ConfigApi.ts","./UIPopupManager.ts","./ResourcesManager.ts","./FarmDecorBuff.ts","./ConfigGame.ts","./Utility.ts","./IconInfo.ts"],(function(t){"use strict";var i,e,n,a,o,s,f,r,l,c,u,h,b,p,g,v,I,d,m,B,S,y,L,w,_;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,f=t.Widget,r=t.Sprite,l=t.Node,c=t.Label,u=t.SpriteFrame,h=t.color,b=t.tween,p=t.instantiate,g=t.Component},function(t){v=t.FarmUI},function(t){I=t.UserModel},function(t){d=t.ResHttp},function(t){m=t.ConfigApi},function(t){B=t.LoadingType},function(t){S=t.ResourcesManager},function(t){y=t.FarmDecorBuff},function(t){L=t.ConfigGame},function(t){w=t.Utility},function(t){_=t.IconInfo}],execute:function(){var T,k,P,A,z,U,M,C,D,R,F,E,O,Z,x,H,G,W,q,N,K,j,Y,J,Q,V,X,$,tt,it,et,nt,at,ot,st,ft,rt,lt,ct,ut,ht,bt,pt,gt,vt,It,dt,mt,Bt;o._RF.push({},"771afNSqtZPLqT0r7Yb3Kxz","FarmPlantUI",void 0);var St=s.ccclass,yt=s.property;t("FarmPlantUI",(T=St("FarmPlantUI"),k=yt(f),P=yt(r),A=yt(l),z=yt(l),U=yt(c),M=yt(c),C=yt(r),D=yt(u),R=yt(c),F=yt(c),E=yt(c),O=yt(c),Z=yt(c),x=yt(c),H=yt(c),G=yt(l),W=yt(_),q=yt(y),N=yt(l),K=yt(l),j=yt(c),Y=yt(l),J=yt(l),T((X=i((V=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return i=t.call.apply(t,[this].concat(o))||this,n(i,"panelWidget",X,a(i)),i.animTime=.15,n(i,"plantSprite",$,a(i)),n(i,"BtnRemove",tt,a(i)),n(i,"BtnRemoveGrey",it,a(i)),n(i,"timeLabel",et,a(i)),n(i,"removeTimeLabel",nt,a(i)),n(i,"raritySprite",at,a(i)),n(i,"baseRaritys",ot,a(i)),n(i,"ssBuffTitle",st,a(i)),n(i,"ssBuffvalue",ft,a(i)),n(i,"ssDeBuffTitle",rt,a(i)),n(i,"ssDeBuffvalue",lt,a(i)),n(i,"harvestTitle",ct,a(i)),n(i,"harvestLabel",ut,a(i)),n(i,"harvestBuffLabel",ht,a(i)),i.harvestBuffColor=["#00B674","#EA3737"],n(i,"harvestLEicon",bt,a(i)),n(i,"iconInfos",pt,a(i)),n(i,"farmDecorBuff",gt,a(i)),n(i,"ContentParent",vt,a(i)),i.iconInfoItems=[],n(i,"iconInfoItemPrefab",It,a(i)),n(i,"skillLabel",dt,a(i)),n(i,"buffArrows",mt,a(i)),n(i,"diamond",Bt,a(i)),i.buffOffset=void 0,i.buffContentMax=16,i.farmUI=void 0,i.plantSlot=void 0,i.isActive=!1,i._buffIn=[],i.totalBuffPage=0,i}e(i,t);var o=i.prototype;return o.Show=function(t,i){var e=this;if(this.isActive=!0,t.HideAllPopup(this),null!=i._d.plantInfos.uniqueId){this.farmUI=t,this.plantSlot=i,this.BtnRemove.active=i._d.ownerId==I.ownerId,this.BtnRemoveGrey.active=!this.BtnRemove.active,this.raritySprite.spriteFrame=this.baseRaritys[L.RarityText.findIndex((function(t){return t==i.config.plant.rarity}))],this.timeLabel.node.parent.active=!0,this.timeLabel.string=w.TimeToString_v1(i._d.harvestTime-I.serverTime),null!=I.farmWorldInfo.removePlantTime?this.removeTimeLabel.string=w.TimeToString_v1(i._d.removeStartTime+I.farmWorldInfo.removePlantTime-I.serverTime):this.removeTimeLabel.string=w.TimeToString_v1(i._d.removeStartTime+L.PlantRemoveTime-I.serverTime),this.ssBuffTitle.string=i.config.seasonSupport.season,this.ssDeBuffTitle.string=i.config.seasonSabotage.season,this.iconInfos[0].node.active=0==i.config.plant.faction,this.iconInfos[0].node.active=!1,S.Instance.LoadFactionSprite(i._d.plantInfos.faction,(function(t){e.iconInfos[1].Init(t,"Faction: "+L.FactionText[i._d.plantInfos.faction],!0,i._d.plantInfos.faction)})),this.plantSprite.node.active=!1;var n=function(t){e.plantSprite.spriteFrame=t,e.plantSprite.node.active=!0};if(2==i.config.plant.type)this.harvestTitle.string="Drop items when harvesting",this.harvestLEicon[0].active=!1,this.harvestLEicon[1].active=!1,this.harvestBuffLabel[0].node.active=!1,this.harvestBuffLabel[1].node.active=!1,this.harvestLabel[0].string=v.getMinMaxStage(i.config.mTreeAbility.stage1),this.harvestLabel[1].string=v.getMinMaxStage(i.config.mTreeAbility.stage2),this.ssBuffvalue[0].string="+ 0%",this.ssDeBuffvalue[0].string="- 0%",this.ssBuffvalue[1].string="",this.ssDeBuffvalue[1].string="",this.iconInfos[2].Init(S.Instance.LoadSkillSpriteMother(i.config.skill.skillId),i.config.skill.description),S.Instance.LoadSkillZoneSprite(i.config.skillZone.skillZoneId+"m",(function(t){e.iconInfos[3].Init(t,i.config.skillZone.description)})),this.initBuff(!1),this.buffArrows[0].active=!1,this.buffArrows[1].active=!1,S.Instance.LoadPlant(i.config.name,n),this.farmDecorBuff.Show(this.farmUI,I.currentLandData.decoStatus.effects,i);else{this.harvestTitle.string="LE Harvest",this.harvestLEicon[0].active=!0,this.harvestLEicon[1].active=!0,this.harvestBuffLabel[0].node.active=!0,this.harvestBuffLabel[1].node.active=!0;var a=i.GetLEBuff(),o="+";a>=0?(this.harvestBuffLabel[0].color=h(this.harvestBuffColor[0]),this.harvestBuffLabel[1].color=h(this.harvestBuffColor[0])):(this.harvestBuffLabel[0].color=h(this.harvestBuffColor[1]),this.harvestBuffLabel[1].color=h(this.harvestBuffColor[1]),o="");var s=i.config.plant.leStage[0]+i.config.plant_leStage_Extra;this.harvestBuffLabel[0].string=o+Math.floor(s*a),this.harvestLabel[0].string=s,s=i.config.plant.leStage[1]+i.config.plant_leStage_Extra,this.harvestBuffLabel[1].string=o+Math.floor(s*a),this.harvestLabel[1].string=s,this.ssBuffvalue[0].string="+ "+Math.floor(100*i.config.seasonSupport.value)+"%",this.ssBuffvalue[1].string="   + "+Math.floor(i.config.seasonSupport.value*i.ssSuportEffect*100)+"%",this.ssDeBuffvalue[1].string="- "+Math.floor(100*i.config.seasonSabotage.value)+"%",this.ssDeBuffvalue[0].string="   + "+Math.floor(i.config.seasonSabotage.value*i.ssSabotageEffect*100)+"%",this.iconInfos[2].Init(S.Instance.LoadSkillSprite(i.config.skill.skillId),i.config.skill.description),S.Instance.LoadSkillZoneSprite(i.config.skillZone.skillZoneId,(function(t){e.iconInfos[3].Init(t,i.config.skillZone.description)})),this.initBuff(!0),this.buffOffset=0,this.onBuffLeftClick(),1==i._d.stage?S.Instance.LoadPlantState1(i.config.name,n):S.Instance.LoadPlant(i.config.name,n),this.farmDecorBuff.Show(this.farmUI,I.currentLandData.decoStatus.effects,i)}switch(this.diamond[0].active=this.diamond[1].active=!1,i._d.plantInfos.origin){case"fused_second":this.diamond[0].active=!0,this.diamond[1].active=!0;break;case"fused":this.diamond[0].active=!0}null==i.config.ability?this.iconInfos[4].Init(null):this.iconInfos[4].Init(S.Instance.LoadAbilitySprite(i.config.ability.abilityId),i.config.ability.description),null==i.config.abilityZone?this.iconInfos[5].Init(null):S.Instance.LoadAbilityZoneSprite(i.config.abilityZone.abilityZoneId,(function(t){e.iconInfos[5].Init(t,i.config.abilityZone.description)})),this.node.active||(this.node.active=!0,b(this.panelWidget).to(this.animTime,{right:0}).start())}else this.Hide()},o.Socket_onSlotUpdateCallback=function(t){this.isActive&&t==this.plantSlot&&this.Show(this.farmUI,this.plantSlot)},o.Hide=function(){var t=this;this.isActive&&(this.isActive=!1,this.farmUI.onCloseSelect(),this.plantSlot&&this.plantSlot.HighlightBuffAffect(!1),b(this.panelWidget).to(this.animTime,{right:-650}).call((function(){t.node.active=!1})).start())},o.OnBtnRemove=function(){var t=this,i={slots:[{slotId:this.plantSlot._d._id}]};d.PostRequest(m.LINK_API+m.farms_growth_plant,i,(function(i){t.farmUI.UpdateData()}),(function(i){t.farmUI.UpdateData()}),!0,B.normal),this.Hide()},o.initBuff=function(t){var i=this;if(t)this._buffIn=[],this.plantSlot.buffIn.forEach((function(t){if(t.isActiveSkill()){var e={id:t.config.skill.skillId,description:t.config.skill.description,type:1};i._buffIn.push(e)}})),this.plantSlot._d.currentEffects.forEach((function(t){if("2"==t.plantUniqueId.toString().slice(0,1)){var e={id:t.skillId,description:L.MotherTreeBuff[t.skillId].description,type:2};i._buffIn.push(e)}})),this.plantSlot.abilityBuffIn.forEach((function(t){if(t.isActiveSkill()){var e={id:t.config.ability.abilityId,description:t.config.ability.description,type:3};i._buffIn.push(e)}})),this.skillLabel.string="BUFF : "+this._buffIn.length,this.totalBuffPage=Math.ceil(this._buffIn.length/this.buffContentMax),0==this.totalBuffPage&&(this.totalBuffPage=1);else{for(var e=0;e<this.iconInfoItems.length;e++)this.iconInfoItems[e].node.active=!1;this.skillLabel.string="BUFF : 0"}},o.onBuffLeftClick=function(){this.buffOffset-=1,this.buffOffset<0&&(this.buffOffset=0),this.buffArrows[0].active=this.buffOffset>0,this.buffArrows[1].active=this.buffOffset<this.totalBuffPage-1,this.showIconBuff()},o.onBuffRightClick=function(){this.buffOffset+=1,this.buffOffset>=this.totalBuffPage&&(this.buffOffset=this.totalBuffPage-1),this.buffArrows[0].active=this.buffOffset>0,this.buffArrows[1].active=this.buffOffset<this.totalBuffPage-1,this.showIconBuff()},o.showIconBuff=function(){for(var t=0;t<this.iconInfoItems.length;t++)this.iconInfoItems[t].node.active=!1;for(var i=this.buffOffset*this.buffContentMax;i<(this.buffOffset+1)*this.buffContentMax;i++)if(i<this._buffIn.length){var e=this.GetIconInfoItemPrefab(i);switch(this._buffIn[i].type){case 1:e.Init(S.Instance.LoadSkillSprite(this._buffIn[i].id),this._buffIn[i].description);break;case 2:e.Init(S.Instance.LoadSkillSpriteMother(this._buffIn[i].id),this._buffIn[i].description);break;case 3:e.Init(S.Instance.LoadAbilitySprite(this._buffIn[i].id),this._buffIn[i].description)}}},o.GetIconInfoItemPrefab=function(t){var i;t<this.iconInfoItems.length?i=this.iconInfoItems[t]:(i=p(this.iconInfoItemPrefab).getComponent(_),this.iconInfoItems.push(i));return i.node.active=!0,i.node.setScale(.588,.588,.588),i.node.setParent(this.ContentParent),i},i}(g)).prototype,"panelWidget",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=i(V.prototype,"plantSprite",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=i(V.prototype,"BtnRemove",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=i(V.prototype,"BtnRemoveGrey",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=i(V.prototype,"timeLabel",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=i(V.prototype,"removeTimeLabel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=i(V.prototype,"raritySprite",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=i(V.prototype,"baseRaritys",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),st=i(V.prototype,"ssBuffTitle",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft=i(V.prototype,"ssBuffvalue",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),rt=i(V.prototype,"ssDeBuffTitle",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=i(V.prototype,"ssDeBuffvalue",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ct=i(V.prototype,"harvestTitle",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=i(V.prototype,"harvestLabel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ht=i(V.prototype,"harvestBuffLabel",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),bt=i(V.prototype,"harvestLEicon",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pt=i(V.prototype,"iconInfos",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),gt=i(V.prototype,"farmDecorBuff",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vt=i(V.prototype,"ContentParent",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),It=i(V.prototype,"iconInfoItemPrefab",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt=i(V.prototype,"skillLabel",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt=i(V.prototype,"buffArrows",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Bt=i(V.prototype,"diamond",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=V))||Q));o._RF.pop()}}}));

System.register("chunks:///_virtual/FarmPopupFilterDecorUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts","./ButtonToggle.ts"],(function(t){"use strict";var i,e,r,n,o,a,l,s,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Label},function(t){s=t.PopUpBase},function(t){u=t.ButtonToggle}],execute:function(){var c,p,h,f,b,R,d;o._RF.push({},"210089k+LJGNJz17TheuI87","FarmPopupFilterDecorUI",void 0);var g=a.ccclass,v=a.property;t("FarmPopupFilterDecorUI",(c=g("FarmPopupFilterDecorUI"),p=v(l),h=v([u]),c((R=i((b=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,r(i,"txtTitle",R,n(i)),r(i,"buttonRarities",d,n(i)),i.callbackApply=null,i}e(i,t);var o=i.prototype;return o.Show=function(t){this.callbackApply=t,this.RegisterEvent(),this.UpdateTitle(),this.OnShow()},o.RegisterEvent=function(){for(var t=0;t<this.buttonRarities.length;t++)this.buttonRarities[t].AddCallBack(this.UpdateTitle.bind(this))},o.UpdateTitle=function(){var t=this.GetTotalFilter();this.txtTitle.string=t<=0?"DECORATION FILTER":"DECORATION FILTER ("+t+")"},o.GetTotalFilter=function(){for(var t=0,i=0;i<this.buttonRarities.length;i++)1==this.buttonRarities[i].border.active&&t++;return t},o.Hide=function(){this.OnHide()},o.SetCallbackHide=function(t){},o.OnBtnClear=function(){for(var t=0;t<this.buttonRarities.length;t++)this.buttonRarities[t].Clear()},o.GetRarities=function(){for(var t=[],i=0;i<this.buttonRarities.length;i++)1==this.buttonRarities[i].border.active&&(0==i?t.push("common"):1==i?t.push("rare"):2==i?t.push("epic"):3==i?t.push("legendary"):4==i&&t.push("mythic"));return t},o.OnBtnApply=function(){var t={};t.rarities=this.GetRarities(),null!=this.callbackApply&&this.callbackApply(t),this.Hide()},i}(s)).prototype,"txtTitle",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=i(b.prototype,"buttonRarities",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=b))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/FarmPopupFilterPlantUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts","./ButtonToggle.ts"],(function(t){"use strict";var i,e,n,r,o,l,s,a,u,h;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,s=t.EditBox,a=t.Label},function(t){u=t.PopUpBase},function(t){h=t.ButtonToggle}],execute:function(){var c,b,p,f,d,g,T,k,v,S,F,y,P,O,R,m,B;o._RF.push({},"9f47eEUuOxDE69GZI4XSmc8","FarmPopupFilterPlantUI",void 0);var G=l.ccclass,I=l.property;t("FarmPopupFilterPlantUI",(c=G("FarmPopupFilterPlantUI"),b=I(s),p=I(a),f=I([h]),d=I([h]),g=I([h]),T=I([h]),k=I([h]),c((F=i((S=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),l=0;l<e;l++)o[l]=arguments[l];return i=t.call.apply(t,[this].concat(o))||this,n(i,"editBoxPlantID",F,r(i)),n(i,"txtTitle",y,r(i)),n(i,"buttonOrigins",P,r(i)),n(i,"buttonFactions",O,r(i)),n(i,"buttonRarities",R,r(i)),n(i,"buttonSkillTiers",m,r(i)),n(i,"buttonSkillZoneTiers",B,r(i)),i.callbackApply=null,i}e(i,t);var o=i.prototype;return o.Show=function(t){this.callbackApply=t,this.RegisterEvent(),this.UpdateTitle(),this.OnShow()},o.RegisterEvent=function(){for(var t=0;t<this.buttonOrigins.length;t++)this.buttonOrigins[t].AddCallBack(this.UpdateTitle.bind(this));for(t=0;t<this.buttonFactions.length;t++)this.buttonFactions[t].AddCallBack(this.UpdateTitle.bind(this));for(t=0;t<this.buttonRarities.length;t++)this.buttonRarities[t].AddCallBack(this.UpdateTitle.bind(this));for(t=0;t<this.buttonSkillTiers.length;t++)this.buttonSkillTiers[t].AddCallBack(this.UpdateTitle.bind(this));for(t=0;t<this.buttonSkillZoneTiers.length;t++)this.buttonSkillZoneTiers[t].AddCallBack(this.UpdateTitle.bind(this))},o.UpdateTitle=function(){var t=this.GetTotalFilter();this.txtTitle.string=t<=0?"PLANT FILTER":"PLANT FILTER ("+t+")"},o.GetTotalFilter=function(){for(var t=0,i=0;i<this.buttonOrigins.length;i++)1==this.buttonOrigins[i].border.active&&t++;for(i=0;i<this.buttonFactions.length;i++)1==this.buttonFactions[i].border.active&&t++;for(i=0;i<this.buttonRarities.length;i++)1==this.buttonRarities[i].border.active&&t++;for(i=0;i<this.buttonSkillTiers.length;i++)1==this.buttonSkillTiers[i].border.active&&t++;for(i=0;i<this.buttonSkillZoneTiers.length;i++)1==this.buttonSkillZoneTiers[i].border.active&&t++;return t},o.Hide=function(){this.OnHide()},o.SetCallbackHide=function(t){},o.OnBtnClear=function(){for(var t=0;t<this.buttonOrigins.length;t++)this.buttonOrigins[t].Clear();for(t=0;t<this.buttonFactions.length;t++)this.buttonFactions[t].Clear();for(t=0;t<this.buttonRarities.length;t++)this.buttonRarities[t].Clear();for(t=0;t<this.buttonSkillTiers.length;t++)this.buttonSkillTiers[t].Clear();for(t=0;t<this.buttonSkillZoneTiers.length;t++)this.buttonSkillZoneTiers[t].Clear();this.editBoxPlantID.string=""},o.GetOrigins=function(){var t=[];return 1==this.buttonOrigins[0].border.active&&t.push("normal"),1==this.buttonOrigins[1].border.active&&t.push("fused"),1==this.buttonOrigins[2].border.active&&t.push("fused_second"),t},o.GetFactions=function(){for(var t=[],i=0;i<this.buttonFactions.length;i++)1==this.buttonFactions[i].border.active&&t.push(i);return t},o.GetRarities=function(){for(var t=[],i=0;i<this.buttonRarities.length;i++)1==this.buttonRarities[i].border.active&&(0==i?t.push("common"):1==i?t.push("rare"):2==i?t.push("epic"):3==i?t.push("legendary"):4==i&&t.push("mythic"));return t},o.GetSkillTiers=function(){for(var t=[],i=0;i<this.buttonSkillTiers.length;i++)1==this.buttonSkillTiers[i].border.active&&(0==i?t.push("tier3"):1==i?t.push("tier2"):2==i&&t.push("tier1"));return t},o.GetSkillZoneTiers=function(){for(var t=[],i=0;i<this.buttonSkillZoneTiers.length;i++)1==this.buttonSkillZoneTiers[i].border.active&&(0==i?t.push("tier3"):1==i?t.push("tier2"):2==i&&t.push("tier1"));return t},o.GetPlantId=function(){return this.editBoxPlantID.string},o.OnBtnApply=function(){var t={};t.origins=this.GetOrigins(),t.factions=this.GetFactions(),t.rarities=this.GetRarities(),t.skillTiers=this.GetSkillTiers(),t.skillZoneTiers=this.GetSkillZoneTiers(),t.plantId=this.GetPlantId(),null!=this.callbackApply&&this.callbackApply(t),this.Hide()},i}(u)).prototype,"editBoxPlantID",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=i(S.prototype,"txtTitle",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(S.prototype,"buttonOrigins",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=i(S.prototype,"buttonFactions",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=i(S.prototype,"buttonRarities",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=i(S.prototype,"buttonSkillTiers",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=i(S.prototype,"buttonSkillZoneTiers",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=S))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/FarmRewardUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts","./FarmRewardUIItem.ts"],(function(t){"use strict";var e,r,a,i,o,n,s,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,n=t._decorator},function(t){s=t.PopUpBase},function(t){c=t.FarmRewardUIItem}],execute:function(){var h,d,f,w,m;o._RF.push({},"ef01cNLvk1D/4Wz+Kkf2S+C","FarmRewardUI",void 0);var u=n.ccclass,p=n.property;t("FarmRewardUI",(h=u("FarmRewardUI"),d=p(c),h((m=e((w=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return e=t.call.apply(t,[this].concat(o))||this,a(e,"farmRewardUIItem",m,i(e)),e.data=void 0,e}r(e,t);var o=e.prototype;return o.Show=function(e){this.data=e,t.prototype.OnShow.call(this,this.onShowDone.bind(this))},o.onShowDone=function(){this.farmRewardUIItem[0].Show(this.data.le),this.farmRewardUIItem[1].Show(this.data.seed),this.farmRewardUIItem[2].Show(this.data.ticket),this.farmRewardUIItem[3].Show(this.data.water),this.farmRewardUIItem[4].Show(this.data.chase_crow)},o.Hide=function(){this.farmRewardUIItem.forEach((function(t){t.Hide()})),t.prototype.OnHide.call(this)},e}(s)).prototype,"farmRewardUIItem",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=w))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/FarmRewardUIItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,a,n,o,s,c,l,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,s=e.Node,c=e.Label,l=e.tween,u=e.v3,p=e.Component}],execute:function(){var m,d,h,b,f,v,w;n._RF.push({},"a6a1c06aklEALEwjrl3UiS3","FarmRewardUIItem",void 0);var y=o.ccclass,g=o.property;e("FarmRewardUIItem",(m=y("FarmRewardUIItem"),d=g(s),h=g(c),m((v=t((f=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,i(t,"baseSprite",v,a(t)),i(t,"amount",w,a(t)),t}r(t,e);var n=t.prototype;return n.Show=function(e){e<=0?this.Hide():(this.node.active=!0,this.amount.string=e.toString(),this.baseSprite.setScale(.5,.5,.5),l(this.baseSprite).to(.3,{scale:u(1,1,1)},{easing:"backOut"}).start())},n.Hide=function(){this.node.active=!1},t}(p)).prototype,"baseSprite",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(f.prototype,"amount",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=f))||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/FarmSelectFaction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts"],(function(e){"use strict";var o,t,i,n,r,s,l,a,c;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,l=e.Toggle,a=e.Node},function(e){c=e.PopUpBase}],execute:function(){var u,p,f,h,d,g,y;r._RF.push({},"42764yHnXNAGJSXclQqxWcJ","FarmSelectFaction",void 0);var b=s.ccclass,m=s.property;e("FarmSelectFaction",(u=b("FarmSelectFaction"),p=m(l),f=m(a),u((g=o((d=function(e){function o(){for(var o,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return o=e.call.apply(e,[this].concat(r))||this,i(o,"toggles",g,n(o)),i(o,"baseNode",y,n(o)),o._onConfirm=void 0,o._onClose=void 0,o}t(o,e);var r=o.prototype;return r.Show=function(o,t,i){e.prototype.OnShow.call(this),this._onConfirm=o,this._onClose=t,this.baseNode.worldPosition=i.worldPosition},r.Hide=function(){e.prototype.OnHide.call(this)},r.onHide=function(){this._onClose(),this.Hide()},r.onConfirm=function(){for(var e=1,o=0;o<this.toggles.length;o++)if(this.toggles[o].isChecked){e=o+1;break}this._onConfirm(e),this.Hide()},o}(c)).prototype,"toggles",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=o(d.prototype,"baseNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=d))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/FarmSynergyUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FarmDecorBuff.ts","./UserModel.ts","./ConfigGame.ts"],(function(t){"use strict";var e,i,r,s,n,o,a,l,c,h,f,u,y,p,d,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){n=t.cclegacy,o=t._decorator,a=t.Widget,l=t.Node,c=t.Label,h=t.Sprite,f=t.color,u=t.tween,y=t.Component},function(t){p=t.FarmDecorBuff},function(t){d=t.UserModel},function(t){g=t.ConfigGame}],execute:function(){var v,m,S,b,k,P,B,I,F;n._RF.push({},"dc75eoXQR1A2Lrs47KRvA30","FarmSynergyUI",void 0);var U=o.ccclass,D=o.property;t("FarmSynergyUI",(v=U("FarmSynergyUI"),m=D(a),S=D(p),b=D(l),v((B=e((P=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,r(e,"panelWidget",B,s(e)),r(e,"farmDecorBuff",I,s(e)),r(e,"sysParrent",F,s(e)),e.farmUI=void 0,e.isFirstInit=!0,e.sysLabels=[],e.sysStroke=[],e.isActive=!1,e}i(e,t);var n=e.prototype;return n.Show=function(t){if(this.isActive=!0,t.HideAllPopup(this),this.isFirstInit){this.isFirstInit=!1;for(var e=0;e<this.sysParrent.children.length;e++){var i=this.sysParrent.children[e];this.sysLabels.push(i.children[1].getComponent(c)),this.sysStroke.push(i.children[0].getComponent(h))}}this.farmUI=t,this.farmDecorBuff.Show(t,d.currentLandData.decoStatus.effects,null);for(var r=0;r<this.sysLabels.length;r++)for(var s=t.buffSynergyData.data[(r+1).toString()],n=0;n<g.synBreakPoint.length;n++)if(s>=g.synBreakPoint[n]){this.sysLabels[r].string=0==n?s+" / "+g.synBreakPoint[n]:s+" / "+g.synBreakPoint[n-1],this.sysLabels[r].color=f(g.sysBreakPointColor[n]),n==g.synBreakPoint.length-1?this.sysStroke[r].node.active=!1:(this.sysStroke[r].node.active=!0,this.sysStroke[r].color=f(g.sysBreakPointColor[n]));break}this.node.active||(this.node.active=!0,u(this.panelWidget).to(.15,{right:0}).start())},n.Socket_onSlotUpdateCallback=function(){this.isActive&&this.Show(this.farmUI)},n.Hide=function(){var t=this;this.isActive&&(this.isActive=!1,this.farmUI.onCloseSelect(),u(this.panelWidget).to(.15,{right:-450}).call((function(){t.node.active=!1})).start())},e}(y)).prototype,"panelWidget",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(P.prototype,"farmDecorBuff",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(P.prototype,"sysParrent",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=P))||k));n._RF.pop()}}}));

System.register("chunks:///_virtual/FarmToastSpeakerUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts"],(function(t){"use strict";var e,i,s,n,r,a,o,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,o=t.Label},function(t){c=t.PopUpBase}],execute:function(){var l,h,u,p,g,f,d;r._RF.push({},"86e3eCNBU5MO4jlIrysanEw","FarmToastSpeakerUI",void 0);var M=a.ccclass,S=a.property;t("FarmToastSpeakerUI",(l=M("FarmToastSpeakerUI"),h=S(o),u=S(o),l((f=e((g=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,s(e,"txtUsername",f,n(e)),s(e,"txtMsg",d,n(e)),e.isShowing=!1,e.cacheMsgList=null,e}i(e,t);var r=e.prototype;return r.AddMsg=function(t){null==this.cacheMsgList&&(this.cacheMsgList=[]),this.cacheMsgList.push(t),1!=this.isShowing&&this.Show()},r.Show=function(){this.isShowing=!0;var e=this.cacheMsgList[0];this.cacheMsgList.splice(0,1),this.txtUsername.string=e.address,this.txtMsg.string=e.msg.toString().replace(/\n/g," "),this.scheduleOnce(function(){this.Hide()}.bind(this),10),t.prototype.OnShow.call(this)},r.Hide=function(){var e=this;t.prototype.OnHide.call(this,(function(){e.isShowing=!1,null!=e.cacheMsgList&&0!=e.cacheMsgList.length&&e.Show()}))},e}(c)).prototype,"txtUsername",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=e(g.prototype,"txtMsg",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=g))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/FarmTransferLEItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utility.ts","./ConfigGame.ts","./UserModel.ts"],(function(t){"use strict";var e,i,n,r,o,a,s,c,l,u,d,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Label,c=t.EditBox,l=t.Component},function(t){u=t.Utility},function(t){d=t.ConfigGame},function(t){f=t.UserModel}],execute:function(){var L,m,h,p,E,b,g;o._RF.push({},"bc84bgdGbNLwrX47X3+3JUQ","FarmTransferLEItem",void 0);var y=a.ccclass,I=a.property;t("FarmTransferLEItem",(L=y("FarmTransferLEItem"),m=I(s),h=I(c),L((b=e((E=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"nameLabel",b,r(e)),n(e,"LeEditbox",g,r(e)),e.userID=void 0,e._farmUI=void 0,e}i(e,t);var o=e.prototype;return o.Init=function(t,e){this._farmUI=e,this.userID=t,this.nameLabel.string=u.reduceWallet(t),this.node.active=!0},o.onPlus=function(){this.AddLE(5)},o.onMinus=function(){this.AddLE(-5)},o.onEditBox=function(){this.AddLE(0)},o.onSend=function(){this._farmUI.Socket_TransferLE(this.userID,this.AddLE(0))},o.AddLE=function(t){var e=+this.LeEditbox.string;return e+=t,(e=Math.min(d.MAX_LE_TRANSFER,e,f.LE))<0&&(e=0),this.LeEditbox.string=e.toString(),e},e}(l)).prototype,"nameLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=e(E.prototype,"LeEditbox",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=E))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/FarmTransferLETab.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FarmTransferLEItem.ts","./ConfigGame.ts","./UserModel.ts"],(function(e){"use strict";var r,t,a,n,i,s,o,f,l,m,u,c,p;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,s=e._decorator,o=e.Label,f=e.Node,l=e.instantiate,m=e.Component},function(e){u=e.FarmTransferLEItem},function(e){c=e.ConfigGame},function(e){p=e.UserModel}],execute:function(){var L,b,T,h,I,E,d,g,v;i._RF.push({},"4660fuMvoFFSo08GDhInf7I","FarmTransferLETab",void 0);var y=s.ccclass,F=s.property;e("FarmTransferLETab",(L=y("FarmTransferLETab"),b=F(o),T=F(f),h=F(f),L((d=r((E=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i))||this,a(r,"NoteLabel",d,n(r)),a(r,"ContentParent",g,n(r)),r.farmTransferLEItems=[],a(r,"farmTransferLEItemPrefab",v,n(r)),r._farmUI=void 0,r}t(r,e);var i=r.prototype;return i.Init=function(e,r){this._farmUI=r,this.NoteLabel.string="*You can only transfer up to "+c.MAX_LE_TRANSFER+"LE/day";for(var t=0;t<this.farmTransferLEItems.length;t++)this.farmTransferLEItems[t].node.active=!1;for(var a=0,n=0;n<e.length;n++)e[n]!=p.ownerId&&(this.GetFarmTransferLEItemPrefab(a).Init(e[n],r),a++)},i.GetFarmTransferLEItemPrefab=function(e){var r;e<this.farmTransferLEItems.length?r=this.farmTransferLEItems[e]:(r=l(this.farmTransferLEItemPrefab).getComponent(u),this.farmTransferLEItems.push(r),r.node.setParent(this.ContentParent),r.node.setScale(1,1,1));return r},r}(m)).prototype,"NoteLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=r(E.prototype,"ContentParent",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=r(E.prototype,"farmTransferLEItemPrefab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=E))||I));i._RF.pop()}}}));

System.register("chunks:///_virtual/FarmUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlantSlot.ts","./UserModel.ts","./UIPopupManager.ts","./ConfigApi.ts","./FarmBiddingUI.ts","./UIFitWidthHelper.ts","./FarmInfoUI.ts","./ConfigGame.ts","./ResHttp.ts","./Utility.ts","./FarmInventoryUI.ts","./FarmPlantUI.ts","./FarmDecorUI.ts","./FarmSelectFaction.ts","./FarmSynergyUI.ts","./FarmRewardUI.ts","./PrefabController.ts","./FarmChatUI.ts","./EventSystem.ts","./SocketFarmHandler.ts","./FarmBannerUI.ts","./CrowKingManager.ts"],(function(t){"use strict";var n,e,a,i,o,r,l,c,s,u,f,h,d,p,m,b,I,S,g,y,v,C,_,U,w,k,P,F,A,B,L,D,N,H,z,E,T,G,K,R,W,M;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,l=t._decorator,c=t.Node,s=t.Label,u=t.SpriteFrame,f=t.Sprite,h=t.tween,d=t.v3,p=t.sys,m=t.Component},function(t){b=t.PlantSlot},function(t){I=t.UserModel,S=t.FarmWorldState},function(t){g=t.UIPopupManager,y=t.LoadingType},function(t){v=t.ConfigApi},function(t){C=t.FarmBiddingUI},function(t){_=t.UIFitWidthHelper},function(t){U=t.FarmInfoUI},function(t){w=t.EnumPlantSlotStage,k=t.ConfigGame},function(t){P=t.ResHttp},function(t){F=t.Utility},function(t){A=t.FarmInventoryUI},function(t){B=t.FarmPlantUI},function(t){L=t.FarmDecorUI},function(t){D=t.FarmSelectFaction},function(t){N=t.FarmSynergyUI},function(t){H=t.FarmRewardUI},function(t){z=t.PrefabController,E=t.PrefabEnum},function(t){T=t.FarmChatUI},function(t){G=t.GlobalEvents,K=t.EventType},function(t){R=t.SocketFarmHandler},function(t){W=t.FarmBannerUI},function(t){M=t.CrowKingManager}],execute:function(){var O,V,x,q,X,Z,J,Q,j,$,Y,tt,nt,et,at,it,ot,rt,lt,ct,st,ut,ft,ht,dt,pt,mt,bt,It,St,gt,yt,vt,Ct,_t,Ut,wt,kt,Pt,Ft,At,Bt,Lt,Dt,Nt,Ht,zt,Et,Tt,Gt,Kt,Rt,Wt,Mt,Ot,Vt,xt,qt,Xt,Zt,Jt,Qt,jt;r._RF.push({},"eb0ab7t5Q5CHKnHSanXEoBT","FarmUI",void 0);var $t=l.ccclass,Yt=l.property,tn=(t("FarmUI",(O=$t("FarmUI"),V=Yt(c),x=Yt(c),q=Yt(_),X=Yt(s),Z=Yt(c),J=Yt(s),Q=Yt(s),j=Yt(s),$=Yt(c),Y=Yt(c),tt=Yt(c),nt=Yt(c),et=Yt(u),at=Yt(u),it=Yt(D),ot=Yt(N),rt=Yt(C),lt=Yt(A),ct=Yt(B),st=Yt(L),ut=Yt(U),ft=Yt(H),ht=Yt(T),dt=Yt(W),pt=Yt(f),mt=Yt(u),bt=Yt(c),It=Yt(c),St=Yt(c),gt=Yt(M),O((Ct=n((vt=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return n=t.call.apply(t,[this].concat(o))||this,a(n,"overlayUI",Ct,i(n)),a(n,"farmNode",_t,i(n)),a(n,"plantslotScale",Ut,i(n)),a(n,"locationLabel",wt,i(n)),a(n,"plantSlotParent",kt,i(n)),n.plantSlots=[],n.currentPlantSlot=null,a(n,"rentAllLeLabel",Pt,i(n)),a(n,"playerBidingLabel",Ft,i(n)),a(n,"playerViewLabel",At,i(n)),a(n,"WateringInfo",Bt,i(n)),a(n,"ScareCrowInfo",Lt,i(n)),a(n,"BtnHarvestAll",Dt,i(n)),n.isShowBtnHarvestAll=!1,a(n,"LeIcon",Nt,i(n)),a(n,"plantSlotBaseSpriteFrames",Ht,i(n)),a(n,"plantSlotShadows",zt,i(n)),a(n,"farmSelectFaction",Et,i(n)),a(n,"farmSynergyUI",Tt,i(n)),a(n,"farmBiddingUI",Gt,i(n)),a(n,"farmInventoryUI",Kt,i(n)),a(n,"farmPlantUI",Rt,i(n)),a(n,"farmDecorUI",Wt,i(n)),a(n,"farmInfoUI",Mt,i(n)),a(n,"farmRewardUI",Ot,i(n)),a(n,"farmChatUI",Vt,i(n)),a(n,"farmBannerUI",xt,i(n)),a(n,"FarmBG",qt,i(n)),a(n,"FarmBGSpriteFrames",Xt,i(n)),a(n,"FarmBGFX",Zt,i(n)),a(n,"NavigateButtons",Jt,i(n)),a(n,"CrowDecor",Qt,i(n)),a(n,"m_crowKingManager",jt,i(n)),n.m_haveCrowKing=!1,n._rentAllPrice=0,n._totalPlayerBid=0,n._onFactionIconClick=void 0,n._onFactionIconUnClick=void 0,n._Socket_onSlotUpdateCallback=void 0,n._Socket_onChatCallback=void 0,n._Socket_onChangeLand=void 0,n._Socket_onChangeNumberViewer=void 0,n._Socket_onChatAllCallback=void 0,n._Socket_onConnectCallback=void 0,n.baseSynergyData=void 0,n.buffSynergyData=void 0,n}e(n,t);var r=n.prototype;return r.start=function(){for(var t=0;t<this.plantSlotParent.children.length;t++){var n=this.plantSlotParent.children[t].getComponent(b);this.plantSlots.push(n),n.Init(this,t)}this.plantslotScale.callbacks.push(this.updateFarmPos.bind(this)),this.farmInfoUI.Init(this.onWeatherTimeUpdate.bind(this)),this.fillData(),this._onFactionIconClick=G.subscribe(K.FACTION_ICON_CLICK,this.onFactionIconClick.bind(this)),this._onFactionIconUnClick=G.subscribe(K.FACTION_ICON_UNCLICK,this.onFactionIconUnClick.bind(this)),this._Socket_onSlotUpdateCallback=G.subscribe(K.Socket_onSlotUpdateCallback,this.Socket_onSlotUpdateCallback.bind(this)),this._Socket_onChatCallback=G.subscribe(K.Socket_onChatCallback,this.Socket_onChatCallback.bind(this)),this._Socket_onChangeLand=G.subscribe(K.Socket_onChangeLand,this.Socket_onChangeLand.bind(this)),this._Socket_onChangeNumberViewer=G.subscribe(K.Socket_onChangeNumberViewer,this.Socket_onChangeNumberViewer.bind(this)),this._Socket_onChatAllCallback=G.subscribe(K.Socket_onChatAllCallback,this.Socket_onChatAllCallback.bind(this)),this._Socket_onConnectCallback=G.subscribe(K.Socket_onConnectCallback,this.Socket_onConnectCallback.bind(this)),this.farmChatUI.ChangeLand(this),this.farmBannerUI.ShowAd()},r.onDestroy=function(){z.Instance.ReturnAllPrefab(),G.unsubscribe(K.FACTION_ICON_CLICK,this._onFactionIconClick),G.unsubscribe(K.FACTION_ICON_UNCLICK,this._onFactionIconUnClick),G.unsubscribe(K.Socket_onSlotUpdateCallback,this._Socket_onSlotUpdateCallback),G.unsubscribe(K.Socket_onChatCallback,this._Socket_onChatCallback),G.unsubscribe(K.Socket_onChangeLand,this._Socket_onChangeLand),G.unsubscribe(K.Socket_onChangeNumberViewer,this._Socket_onChangeNumberViewer),G.unsubscribe(K.Socket_onChatAllCallback,this._Socket_onChatAllCallback),G.unsubscribe(K.Socket_onConnectCallback,this._Socket_onConnectCallback),R.ChangeLand("")},r.onSelectPlantSlot=function(t){if(this.currentPlantSlot!=t){var n=this.isAllPopupHide();if(null!=t._d.decInfos){if(this.farmInventoryUI.node.active)return;this.farmDecorUI.Show(this,t)}else if(t.enumPlantSlotState==w.decor){if(this.farmInventoryUI.node.active&&this.farmInventoryUI.isFarm)return;this.farmInventoryUI.node.active?this.farmInventoryUI.UpdatePlantSlotSelect(t):this.farmInventoryUI.Show(this,t,!1)}else if(t.enumPlantSlotState==w.bidNow||t.enumPlantSlotState==w.bidding||t.enumPlantSlotState==w.bidnow_havebid||t.enumPlantSlotState==w.otherBidGreater){if(this.farmInventoryUI.node.active)return;this.farmBiddingUI.Show(this,t)}else{if(t.enumPlantSlotState==w.rentNow){if(this.farmInventoryUI.node.active)return;return void this.rentSlot(t)}if(null!=t._d.plantInfos.uniqueId){if(this.farmInventoryUI.node.active)return;this.farmPlantUI.Show(this,t),this.currentPlantSlot&&this.currentPlantSlot.HighlightBuffAffect(!1),t.HighlightBuffAffect(!0)}else{if(t.enumPlantSlotState!=w.land_your)return;if(this.farmInventoryUI.node.active&&!this.farmInventoryUI.isFarm)return;this.farmInventoryUI.node.active?this.farmInventoryUI.UpdatePlantSlotSelect(t):this.farmInventoryUI.Show(this,t,!0)}}this.selectPlant(t),this.currentPlantSlot=t,n&&h(this.farmNode).to(.15,{position:d(-445*this.plantslotScale.node.scale.x,0,0)}).start()}},r.isAllPopupHide=function(){return!(this.farmInventoryUI.isActive||this.farmBiddingUI.isActive||this.farmDecorUI.isActive||this.farmPlantUI.isActive||this.farmSynergyUI.isActive)},r.HideAllPopup=function(t){t!=this.farmInventoryUI&&this.farmInventoryUI.Hide(),t!=this.farmBiddingUI&&this.farmBiddingUI.Hide(),t!=this.farmDecorUI&&this.farmDecorUI.Hide(),t!=this.farmPlantUI&&this.farmPlantUI.Hide(),t!=this.farmSynergyUI&&this.farmSynergyUI.Hide()},r.onCloseSelect=function(){this.selectPlant(null),this.currentPlantSlot=null,this.isAllPopupHide()&&h(this.farmNode).to(.15,{position:d(0,0,0)}).start()},r.selectPlant=function(t){this.plantSlots.forEach((function(t){t.Select(!1)})),t&&t.Select(!0)},r.ClearAllPlantSlotTempPlant=function(){this.plantSlots.forEach((function(t){t.ClearTempImage()}))},r.updateFarmPos=function(){this.isAllPopupHide()?this.farmNode.position=d(0,0,0):this.farmNode.position=d(-445*this.plantslotScale.node.scale.x,0,0)},r.onBtnPause=function(){g.Instance.ShowUISetting(this.onQuit)},r.onQuit=function(){g.Instance.LoadScene("2.WorldMap")},r.onBtnGuide=function(){p.openURL(v.WPP_URL)},r.onBtnWeather=function(){g.Instance.ShowUIWeather()},r.onBtnRentAll=function(){g.Instance.ShowPopupConfirmUI("Rent All empty slot for",this.rentAllPrice.toString(),this.rentAll.bind(this),null,"Confirm",!0)},r.rentAll=function(){var t=this;P.PostRequest(v.LINK_API+v.farm_biddingAllEmpty+I.currentLandData._id,null,(function(n){I.LE=JSON.parse(n).data.remainLeAmount,t.UpdateData()}),(function(n){t.UpdateData()}),!0,y.normal)},r.rentSlot=function(t){var n=this,e=I.farmWorldInfo.biddingFee+I.farmWorldInfo.slotPrice;g.Instance.ShowPopupConfirmUI("Rent slot "+t._d.location[0]+","+t._d.location[1]+" for ",e.toString(),function(){P.PostRequest(v.LINK_API+v.farm_bidding+t._d._id,{price:100},(function(a){I.LE=I.LE-e;var i={userId:I.ownerId,price:e};t._d.prices.biddingUser.push(i),t._d.ownerId=I.ownerId,n.rentAllPrice=n.rentAllPrice-e,t.fillData(t._d,I.GetFarmWorldState())}),(function(t){n.UpdateData()}))}.bind(this),null,"Confirm",!0)},r.onBtnShop=function(){this.overlayUI.active=!1,g.Instance.ShowUIPopupShop(function(){this.overlayUI.active=!0}.bind(this))},r.onBtnBack=function(){this.isAllPopupHide()?this.onQuit():this.HideAllPopup(null)},r.onBtnBg=function(){this.farmDecorUI.Hide(),this.farmPlantUI.Hide(),this.farmSynergyUI.Hide()},r.onBtnHarvestAll=function(){var t=this,n={slotIds:[]};this.plantSlots.forEach((function(t){null!=t._d.plantInfos.faction&&t._d.harvestTime-I.serverTime<=0&&t._d.ownerId==I.ownerId&&n.slotIds.push(t._d._id)})),n.slotIds.length<=0?g.Instance.ShowToast("Info","There are no Plants that need Harvest!",2):P.PostRequest(v.LINK_API+v.farms_harvest_plant,n,(function(n){t.FarmAction(n,!0)}),(function(n){t.UpdateData()}))},r.onBtnSynergy=function(){this.isAllPopupHide()&&h(this.farmNode).to(.15,{position:d(-445*this.plantslotScale.node.scale.x,0,0)}).start(),this.farmSynergyUI.Show(this)},r.onBtnChat=function(){this.farmChatUI.Show(this)},r.ShowFarmSelectFaction=function(t,n,e){this.farmSelectFaction.Show(t,n,e)},r.onWeatherTimeUpdate=function(t){this.FarmBGFX.forEach((function(t){F.StopParticle(t)})),t==S.Spring||t==S.Summer||t==S.Autumn||t==S.Winter?(this.FarmBG.spriteFrame=this.FarmBGSpriteFrames[t-3],this.BtnHarvestAll.active=this.isShowBtnHarvestAll,this.ScareCrowInfo.active=this.WateringInfo.active=!0,F.PlayParticle(this.FarmBGFX[t-3])):(this.FarmBG.spriteFrame=this.FarmBGSpriteFrames[0],this.BtnHarvestAll.active=this.ScareCrowInfo.active=this.WateringInfo.active=!1,F.PlayParticle(this.FarmBGFX[0]))},r.fillData=function(){var t=this,n=I.currentLandData;this.locationLabel.string=n.location[0]+","+n.location[1],this.NavigateButtons[0].active=n.location[0]>0,this.NavigateButtons[1].active=n.location[1]>0,this.NavigateButtons[2].active=n.location[1]<k.FarmWorldMapSize-1,this.NavigateButtons[3].active=n.location[0]<k.FarmWorldMapSize-1;var e=I.GetFarmWorldState();if(n.slots.forEach((function(n){t.plantSlots[t.SlotLocationToIndex(n.location[0],n.location[1])].fillData(n,e,!0)})),this.m_haveCrowKing=!1,1==I.IsCrowKingOutOfTime()||I.GetCrowKingData().remainHp<=0)this.m_crowKingManager.node.active=!1,this.m_haveCrowKing=!1;else{var a=I.GetCrowKingData(),i=Math.floor(I.GetCrowKingAppearanceInMS()/(I.farmWorldInfo.crowKingLengthTime/a.landLocations.length));if(i>=0&&i<a.landLocations.length){var o=a.landLocations[i];o[0]==n.location[0]&&o[1]==n.location[1]?(this.m_crowKingManager.node.active=!0,this.m_crowKingManager.SetupCrowKing(!0),this.m_haveCrowKing=!0):(this.m_crowKingManager.node.active=!1,this.m_haveCrowKing=!1)}}this.onSlotUpdate(e,this.m_haveCrowKing)},r.onSlotUpdate=function(t,n){var e=this,a=0,i=0;t==S.BIDDING&&this.plantSlots.forEach((function(t){1!=t._d.type||t._d.ownerId||(a+=t._d.prices.biddingUser.length,i+=t._d.prices.ceilingPrice+I.farmWorldInfo.biddingFee)})),this.totalPlayerBid=a,this.rentAllPrice=i,this.baseSynergyData=new tn;var o=0,r=0;if(I.currentLandData.decoStatus.effects.forEach((function(t){105==t.id?(o+=1,null!=t.art_id&&(r+=t.art_id)):304==t.id&&(e.baseSynergyData.data[t.faction]+=t.$incSynergy)})),r%=3,this.CrowDecor.forEach((function(t){t.active=!1})),0==n)switch(o){case 1:this.CrowDecor[r+1].active=!0;break;case 2:this.CrowDecor[r+4].active=!0;break;case 3:this.CrowDecor[7].active=!0;break;default:this.CrowDecor[0].active=!0}this.isShowBtnHarvestAll=!1,this.plantSlots.forEach((function(t){null!=t._d.plantInfos.faction&&null!=t.config&&(e.baseSynergyData.data[t._d.plantInfos.faction]+=2==t.config.plant.type||0==t.config.plant.faction?3:1,!e.isShowBtnHarvestAll&&t._d.harvestTime-I.serverTime<=0&&t._d.ownerId==I.ownerId&&(e.isShowBtnHarvestAll=!0))})),this.BtnHarvestAll.active=this.isShowBtnHarvestAll,this.plantSlots.forEach((function(t){t.ApplyBuff()})),this.buffSynergyData=new tn(this.baseSynergyData),this.plantSlots.forEach((function(t){var n=t.GetSynergyBuff();n>0&&(e.buffSynergyData.data[t._d.plantInfos.faction]+=n)}))},r.getTempBaseSynergyData=function(){var t=new tn(this.baseSynergyData);return this.plantSlots.forEach((function(n){null!=n.tempData&&null!=n.tempData.plantId&&(0==n.tempData.faction?t.data[n.tempSelectFaction]+=3:t.data[n.tempData.faction]+=2==n.tempData.type?3:1)})),t},r.SlotLocationToIndex=function(t,n){return t*k.FarmLandSize+(k.FarmLandSize-n-1)},r.UpdateData=function(){var t=this,n={id:I.currentLandData._id};P.GetRequest(v.LINK_API+v.lands_get_by_id,n,(function(n){I.currentLandData=JSON.parse(n).data[0],t.HideAllPopup(null),t.fillData()}),(function(t){g.Instance.ReturnToLoginScreen()}))},r.GetConfigByPlantId=function(t,n,e){void 0===e&&(e=-1);var a=I.plantConfig,i=function(t,n){for(var e in n)for(var a in n[e])if(t==n[e][a])return e},o="",r=t.slice(0,4),l=a.plantConfigs.find((function(t){return t.unitId==r})),c=0;o=t.slice(6,8);var s=a.skillZone.find((function(t){return t.type==l.type&&t.skillZoneId==o})),u={value:1==l.type?a.support.value[t.slice(8,10)]:0,season:i(-1==e?l.faction:e,a.support.season)},f={value:1==l.type?a.sabotage.value[t.slice(10,12)]:0,season:i(-1==e?l.faction:e,a.sabotage.season)},h=null;if(1==l.type){if(t.length>=15){o=t.slice(12,15);var d=a.fusedAbility.find((function(t){return t.abilityId==o}))}if(o=t.slice(4,6),h=a.skill.find((function(t){return t.type==l.type&&t.skillId==o})),"fused_second"==n&&(c+=a.fusedSecondLeBonus),t.length>=17){o=t.slice(15,17);var p=a.fusedAbilityZone.find((function(t){return t.abilityZoneId==o}))}}else{var m=a.plantAbility[t.slice(8,10)];o=t.slice(4,6),h=a.skill.find((function(t){return t.type==l.type&&t.skillId==o&&l.faction==t.faction}))}return{plantId:t,name:r,plant:l,plant_leStage_Extra:c,skill:h,skillZone:s,seasonSupport:u,seasonSabotage:f,mTreeAbility:m,ability:d,abilityZone:p}},r.GetConfigByDecorId=function(t){return{name:t.slice(0,3),rarity:+t.slice(0,1)-1}},r.FarmAction=function(t,n){void 0===n&&(n=!1);var e=JSON.parse(t).data;if(this.UpdateData(),null!=e){var a={le:0,chase_crow:0,water:0,ticket:0,seed:0},i=0;if(e.forEach((function(t){t.ownerId==I.ownerId&&(a[t.name]+=t.amount,i+=t.amount)})),i>0){if(I.LE+=a.le,I.ScareCrow+=a.chase_crow,I.Watering+=a.water,I.FreeTicket+=a.ticket,n){i-=a.le,a.le=0;var o=z.Instance.GetPrefab(E.LE_Receive);o.setWorldPosition(this.LeIcon.children[0].worldPosition),F.PlayParticle(o)}i>0&&this.farmRewardUI.Show(a)}}},r.OnBtnNavigate=function(t,n){var e=this,a=I.currentLandData.location[0],i=I.currentLandData.location[1];switch(n){case"up":i+=1;break;case"down":i-=1;break;case"left":a-=1;break;case"right":a+=1}var o={x:a,y:i};P.GetRequest(v.LINK_API+v.lands_get_by_coordinate,o,(function(t){var n=JSON.parse(t).data[0];0==n.isCenter?(I.currentLandData=n,e.HideAllPopup(null),e.fillData(),e.farmChatUI.ChangeLand(e),e.farmBannerUI.ShowAd()):g.Instance.ShowToast("Error","Can't farm on landmark!",0)}),(function(t){g.Instance.ReturnToLoginScreen()}))},r.onBtnMyAsset=function(){g.Instance.ShowUIPopupMyAssets()},r.onFactionIconClick=function(t){this.plantSlots.forEach((function(n){null!=n._d.plantInfos.faction&&(n._d.plantInfos.faction==t||0==t&&n.config.plant.faction==t)&&n.HighlightPlantSpine(!0)}))},r.onFactionIconUnClick=function(t){this.plantSlots.forEach((function(t){t.HighlightPlantSpine(!1)}))},r.Socket_onSlotUpdateCallback=function(t){var n=this,e=I.GetFarmWorldState();t.forEach((function(t){n.plantSlots[n.SlotLocationToIndex(t.location[0],t.location[1])].fillData(t,e)})),this.plantSlots.forEach((function(t){t.ClearBuff()})),this.onSlotUpdate(e,this.m_haveCrowKing),t.forEach((function(t){var e=n.plantSlots[n.SlotLocationToIndex(t.location[0],t.location[1])];n.farmBiddingUI.Socket_onSlotUpdateCallback(e),n.farmDecorUI.Socket_onSlotUpdateCallback(e),n.farmPlantUI.Socket_onSlotUpdateCallback(e),n.farmSynergyUI.Socket_onSlotUpdateCallback()}))},r.Socket_onChatCallback=function(t){this.farmChatUI.onChatMessage(t)},r.Socket_onChangeLand=function(t){this.farmChatUI.onChangeLand(this)},r.Socket_onChangeNumberViewer=function(t){var n=Number(t.numberUsers);0==isNaN(n)?this.playerViewLabel.string="VISITORS: "+Number(t.numberUsers):(console.log("Invalid visitor count!!! "+t.numberUsers),this.playerViewLabel.string="VISITORS: 1")},r.Socket_onChatAllCallback=function(t){for(var n in t)if(null!=t[n]){this.farmChatUI.onChatAllMessage({address:n,msg:t[n],time:t.time});break}},r.Socket_onConnectCallback=function(t){},r.Socket_TransferLE=function(t,n){if(!(n<=0)){var e={receiver:t,amount:n,landId:I.currentLandData._id};P.PostRequest(v.LINK_API+v.users_transfer_le,e,(function(t){I.LE=JSON.parse(t).data.leAmount}),null)}},n.getMinMaxStage=function(t){var n=999,e=-999;try{for(var a=0;a<t.length;a++)for(var i=t[a].itemDrop,o=0;o<i.length;o++)i[o]>e&&(e=i[o]),i[o]<n&&(n=i[o])}catch(t){n=0,e=0,console.error("error data input")}return n+"-"+e},o(n,[{key:"rentAllPrice",get:function(){return this._rentAllPrice},set:function(t){this._rentAllPrice=t,t>0?(this.rentAllLeLabel.string=F.numberWithCommas(t),this.rentAllLeLabel.node.parent.active=!0):this.rentAllLeLabel.node.parent.active=!1}},{key:"totalPlayerBid",get:function(){return this._totalPlayerBid},set:function(t){this._totalPlayerBid=t,t>0?(this.playerBidingLabel.string="BIDDING: "+t,this.playerBidingLabel.node.active=!0):this.playerBidingLabel.node.active=!1}}]),n}(m)).prototype,"overlayUI",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=n(vt.prototype,"farmNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ut=n(vt.prototype,"plantslotScale",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wt=n(vt.prototype,"locationLabel",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kt=n(vt.prototype,"plantSlotParent",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pt=n(vt.prototype,"rentAllLeLabel",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ft=n(vt.prototype,"playerBidingLabel",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),At=n(vt.prototype,"playerViewLabel",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bt=n(vt.prototype,"WateringInfo",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lt=n(vt.prototype,"ScareCrowInfo",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dt=n(vt.prototype,"BtnHarvestAll",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nt=n(vt.prototype,"LeIcon",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ht=n(vt.prototype,"plantSlotBaseSpriteFrames",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),zt=n(vt.prototype,"plantSlotShadows",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Et=n(vt.prototype,"farmSelectFaction",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tt=n(vt.prototype,"farmSynergyUI",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gt=n(vt.prototype,"farmBiddingUI",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kt=n(vt.prototype,"farmInventoryUI",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rt=n(vt.prototype,"farmPlantUI",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wt=n(vt.prototype,"farmDecorUI",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mt=n(vt.prototype,"farmInfoUI",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ot=n(vt.prototype,"farmRewardUI",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vt=n(vt.prototype,"farmChatUI",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xt=n(vt.prototype,"farmBannerUI",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qt=n(vt.prototype,"FarmBG",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xt=n(vt.prototype,"FarmBGSpriteFrames",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Zt=n(vt.prototype,"FarmBGFX",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Jt=n(vt.prototype,"NavigateButtons",[It],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Qt=n(vt.prototype,"CrowDecor",[St],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),jt=n(vt.prototype,"m_crowKingManager",[gt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yt=vt))||yt)),t("SynergyData",(function(t){void 0===t&&(t=null),this.data=void 0,this.data=t?{1:t.data[1],2:t.data[2],3:t.data[3],4:t.data[4],5:t.data[5],6:t.data[6],7:t.data[7],8:t.data[8],9:t.data[9]}:{1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0}})));r._RF.pop()}}}));

System.register("chunks:///_virtual/FarnSpeakerUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utility.ts","./UserModel.ts","./ConfigGame.ts","./UIPopupManager.ts","./UIToast.ts","./SocketFarmHandler.ts"],(function(t){"use strict";var e,i,n,r,a,c,s,o,u,l,h,d,b,m,g,N;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,c=t._decorator,s=t.Label,o=t.Node,u=t.EditBox,l=t.Component},function(t){h=t.Utility},function(t){d=t.UserModel},function(t){b=t.ConfigGame},function(t){m=t.UIPopupManager},function(t){g=t.TypeNoticeToast},function(t){N=t.SocketFarmHandler}],execute:function(){var f,p,v,k,S,C,A,w,M,y,I,U,P,T,x,z,D,E,_,F,L,O,B,H,R;a._RF.push({},"cdfb4GOK9hC8ZhFJsoA7cIn","FarnSpeakerUI",void 0);var W=c.ccclass,G=c.property;t("FarnSpeakerUI",(f=W("FarnSpeakerUI"),p=G(s),v=G(s),k=G(o),S=G(o),C=G(o),A=G(o),w=G(u),M=G(s),y=G(u),I=G(o),U=G(o),f((x=e((T=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a))||this,n(e,"txtCountdown",x,r(e)),n(e,"txtNumberNickName",z,r(e)),n(e,"btnClear",D,r(e)),n(e,"btnChange",E,r(e)),n(e,"btnPriceActive",_,r(e)),n(e,"btnPriceUnActive",F,r(e)),n(e,"editNickName",L,r(e)),n(e,"txtNumberMsg",O,r(e)),n(e,"editMsg",B,r(e)),n(e,"btnSendActive",H,r(e)),n(e,"btnSendUnActive",R,r(e)),e.chat=null,e.numNickName=0,e.numMsg=0,e.countdownSchedule=null,e}i(e,t);var a=e.prototype;return a.Init=function(t){this.chat=t},a.Reset=function(){this.numNickName=0,this.numMsg=0,this.txtNumberNickName.string=this.numNickName+"/35",this.txtNumberMsg.string=this.numMsg+"/100",this.editNickName.string=h.reduceWallet(d.ownerId),this.editMsg.string="",this.btnClear.active=!1,this.btnChange.active=!0,this.btnPriceActive.active=!1,this.btnPriceUnActive.active=!0,this.btnSendActive.active=!1,this.btnSendUnActive.active=!0,this.editNickName.enabled=!1,this.updateCountDown()},a.updateCountDown=function(){null==d.timeSendSpeaker?(this.txtCountdown.string="Send Now",this.editMsg.enabled=!0):(this.editMsg.enabled=!1,this.countdownSchedule=this.schedule(function(){if(null!=d.timeSendSpeaker){var t=d.timeSendSpeaker.getTime()+1e3*b.COUNTDOWN_CHAT_ALL-(new Date).getTime();this.txtCountdown.string=parseInt(t/1e3+"")+"s",t<=0&&(d.timeSendSpeaker=null,this.unschedule(this.countdownSchedule),this.updateCountDown())}}.bind(this),1))},a.onEnable=function(){this.Reset()},a.onEditNickName=function(){this.numNickName=this.editNickName.string.length,this.txtNumberNickName.string=this.numNickName+"/35",this.editMsg.string=this.editMsg.string.trim()},a.onEditMsg=function(){this.numMsg=this.editMsg.string.length,this.txtNumberMsg.string=this.numMsg+"/100",this.btnSendActive.active=this.numMsg>0,this.btnSendUnActive.active=0==this.numMsg},a.OnBtnSend=function(){var t=this,e=b.PRICE_CHAT_PUBLIC;if(1==this.btnPriceActive.active&&(e+=b.PRICE_CHAT_PUBLIC_NICKNAME),d.LE<e)m.Instance.ShowToast("INFO","Not enough to LE",g.Info);else if(0!=this.editMsg.string.length&&0!=this.editNickName.string.length){if(null!=d.timeSendSpeaker)if((d.timeSendSpeaker.getTime()+1e3*b.COUNTDOWN_CHAT_ALL-(new Date).getTime())/1e3>=0)return;d.LE-=e,d.timeSendSpeaker=new Date;var i=this.editMsg.string.trim(),n=this.btnPriceActive.active?this.editNickName.string.trim():d.ownerId;N.SendChatAll(n,i),h.AsyncDelay(50).then((function(){t.Reset()}))}else m.Instance.ShowToast("INFO","Please fill information",g.Info)},a.OnBtnClear=function(){this.btnChange.active=!0,this.btnClear.active=!1,this.editNickName.enabled=!1,this.editNickName.string=h.reduceWallet(d.ownerId),this.btnPriceActive.active=!1,this.btnPriceUnActive.active=!0},a.OnBtnChangeNickName=function(){this.btnChange.active=!1,this.btnClear.active=!0,this.editNickName.enabled=!0,this.editNickName.string="",this.btnPriceActive.active=!0,this.btnPriceUnActive.active=!1,this.onEditNickName(),this.forcusEditNickName()},a.forcusEditNickName=function(){var t=this;h.AsyncDelay(50).then((function(){t.editNickName.setFocus()}))},e}(l)).prototype,"txtCountdown",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(T.prototype,"txtNumberNickName",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(T.prototype,"btnClear",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(T.prototype,"btnChange",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(T.prototype,"btnPriceActive",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(T.prototype,"btnPriceUnActive",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(T.prototype,"editNickName",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(T.prototype,"txtNumberMsg",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(T.prototype,"editMsg",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(T.prototype,"btnSendActive",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(T.prototype,"btnSendUnActive",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=T))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/FreeTicketInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventSystem.ts","./UserModel.ts","./Utility.ts"],(function(e){"use strict";var t,i,r,n,c,s,o,a,u,l,T,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){c=e.cclegacy,s=e._decorator,o=e.Label,a=e.Component},function(e){u=e.GlobalEvents,l=e.EventType},function(e){T=e.UserModel},function(e){f=e.Utility}],execute:function(){var h,b,k,p,F;c._RF.push({},"2dca1RpZtZHnp3t++XAqUIG","FreeTicketInfo",void 0);var m=s.ccclass,y=s.property;e("FreeTicketInfo",(h=m("FreeTicketInfo"),b=y(o),h((F=t((p=function(e){function t(){for(var t,i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return t=e.call.apply(e,[this].concat(c))||this,r(t,"freeTicketLabel",F,n(t)),t.currentFreeTicket=-1,t.cb=void 0,t}i(t,e);var c=t.prototype;return c.start=function(){this.cb=u.subscribe(l.FREETICKET_INFO_UPDATED,this.onFreeTicketChange.bind(this)),this.currentFreeTicket=T.FreeTicket,this.freeTicketLabel.string=f.numberWithCommas(T.FreeTicket)},c.onFreeTicketChange=function(e){this.currentFreeTicket!=e&&(this.currentFreeTicket=e,this.node.activeInHierarchy?this.TweenFreeTicket(e):this.freeTicketLabel.string=f.numberWithCommas(e))},c.onDestroy=function(){u.unsubscribe(l.FREETICKET_INFO_UPDATED,this.cb)},c.TweenFreeTicket=function(e){var t=this,i=f.numberWithCommasToInt(this.freeTicketLabel.string);f.tweenNumber(i,e,.5,(function(e){t.freeTicketLabel.string=f.numberWithCommas(e)})).start()},t}(a)).prototype,"freeTicketLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=p))||k));c._RF.pop()}}}));

System.register("chunks:///_virtual/IconInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIPopupManager.ts","./EventSystem.ts"],(function(i){"use strict";var t,n,e,o,r,s,c,l,a,u,p,h,f,b,I,C;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){r=i.cclegacy,s=i._decorator,c=i.Sprite,l=i.CCString,a=i.CCInteger,u=i.CCBoolean,p=i.Button,h=i.Node,f=i.Component},function(i){b=i.UIPopupManager},function(i){I=i.GlobalEvents,C=i.EventType}],execute:function(){var d,v,E,y,m,g,A,k,M,U,_,S,w;r._RF.push({},"37483xQDi1AerKPHKiSKbho","IconInfo",void 0);var z=s.ccclass,D=s.property;i("IconInfo",(d=z("IconInfo"),v=D(c),E=D(l),y=D(a),m=D(u),g=D(p),d((M=t((k=function(i){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=i.call.apply(i,[this].concat(r))||this,e(t,"sprite",M,o(t)),e(t,"description",U,o(t)),e(t,"faction",_,o(t)),e(t,"isClickAble",S,o(t)),e(t,"button",w,o(t)),t.isMouseEnter=!1,t}n(t,i);var r=t.prototype;return r.start=function(){this.node.on(h.EventType.MOUSE_ENTER,this.mouseEnter,this),this.node.on(h.EventType.MOUSE_LEAVE,this.mouseLeave,this)},r.Init=function(i,t,n,e){void 0===t&&(t=""),void 0===n&&(n=!0),void 0===e&&(e=-1),null!=i?(this.faction=e,this.node.active=!0,this.sprite.spriteFrame=i,this.description=t,this.isClickAble=n,this.button.interactable=n):this.node.active=!1},r.onClick=function(){this.isClickAble&&b.Instance.ShowUIDescriptionInfo(this.description,this.sprite.spriteFrame,this.node,this.onClickAction.bind(this),this.onUnClickAction.bind(this))},r.onClickAction=function(){this.faction>=0&&I.publish(C.FACTION_ICON_CLICK,this.faction)},r.onUnClickAction=function(){this.faction>=0&&I.publish(C.FACTION_ICON_UNCLICK,this.faction)},r.mouseEnter=function(){this.isMouseEnter||(this.isMouseEnter=!0,b.Instance.ShowUIDescriptionInfo(this.description,null,this.node,null,null))},r.mouseLeave=function(){this.isMouseEnter&&(this.isMouseEnter=!1,b.Instance.HideUIDescriptionInfo())},t}(f)).prototype,"sprite",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(k.prototype,"description",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_=t(k.prototype,"faction",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),S=t(k.prototype,"isClickAble",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),w=t(k.prototype,"button",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=k))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/ItemDond_Chat.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utility.ts"],(function(t){"use strict";var e,r,i,n,o,s,a,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,a=t.Label,l=t.Component},function(t){u=t.Utility}],execute:function(){var c,d,p,m,g,b,h,f,y;o._RF.push({},"1d8154TGvBAnIW/3o0+FF0s","ItemDond_Chat",void 0);var x=s.ccclass,I=s.property;t("ItemDond_Chat",(c=x("ItemDond_Chat"),d=I(a),p=I(a),m=I(a),c((h=e((b=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,i(e,"txtAddress",h,n(e)),i(e,"txtTime",f,n(e)),i(e,"txtContent",y,n(e)),e}return r(e,t),e.prototype.Init=function(t){if(this.txtAddress.string=u.reduceWallet(t.address),this.txtContent.string=t.msg,null!=t.time){var e=new Date(t.time);this.txtTime.string=u.AddZeroInNumber(e.getHours())+":"+u.AddZeroInNumber(e.getMinutes())}else{var r=new Date;this.txtTime.string=u.AddZeroInNumber(r.getHours())+":"+u.AddZeroInNumber(r.getMinutes())}},e}(l)).prototype,"txtAddress",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=e(b.prototype,"txtTime",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(b.prototype,"txtContent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=b))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/LeInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventSystem.ts","./UserModel.ts","./Utility.ts"],(function(e){"use strict";var t,n,i,r,s,o,a,c,l,u,b,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){s=e.cclegacy,o=e._decorator,a=e.Label,c=e.Component},function(e){l=e.GlobalEvents,u=e.EventType},function(e){b=e.UserModel},function(e){h=e.Utility}],execute:function(){var L,f,p,m,E;s._RF.push({},"d9baburMt9MrIrKOkcSGWt0","LeInfo",void 0);var y=o.ccclass,v=o.property;e("LeInfo",(L=y("LeInfo"),f=v(a),L((E=t((m=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return t=e.call.apply(e,[this].concat(s))||this,i(t,"leLabel",E,r(t)),t.currentLE=-1,t.cb=void 0,t}n(t,e);var s=t.prototype;return s.onEnable=function(){this.cb=l.subscribe(u.LE_INFO_UPDATED,this.onLeChange.bind(this)),this.currentLE=b.LE,this.leLabel.string=h.numberWithCommas(b.LE)},s.onLeChange=function(e){this.currentLE!=e&&(this.currentLE=e,this.node.activeInHierarchy?this.TweenLE(e):this.leLabel.string=h.numberWithCommas(e))},s.onDisable=function(){l.unsubscribe(u.LE_INFO_UPDATED,this.cb)},s.TweenLE=function(e){var t=this,n=h.numberWithCommasToInt(this.leLabel.string);h.tweenNumber(n,e,.5,(function(e){t.leLabel.string=h.numberWithCommas(e)})).start()},t}(c)).prototype,"leLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=m))||p));s._RF.pop()}}}));

System.register("chunks:///_virtual/LoginManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserModel.ts","./UIPopupManager.ts","./ResourcesManager.ts","./FarmingServicesApi.ts"],(function(e){"use strict";var n,t,a,o,i,r,c,s,l,u,g,f,p,d,h,m;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){c=e.cclegacy,s=e._decorator,l=e.Node,u=e.sys,g=e.native,f=e.Component},function(e){p=e.UserModel},function(e){d=e.UIPopupManager},function(e){h=e.ResourcesManager},function(e){m=e.FarmingServicesApi}],execute:function(){var M,v,L,b,S,I,w,R,k,y,_,N,C,A,E,T,D;c._RF.push({},"a27dd8sK+pAE4uLsIQ4dGik","LoginManager",void 0);var F=s.ccclass,Q=s.property;e("LoginManager",(M=F("LoginManager"),v=Q(l),L=Q(l),b=Q(l),S=Q(l),I=Q(l),w=Q(l),R=Q(l),M((_=n((y=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return n=e.call.apply(e,[this].concat(i))||this,a(n,"ScanMask",_,o(n)),a(n,"mobileNode",N,o(n)),a(n,"webNode",C,o(n)),a(n,"btnScanQR",A,o(n)),a(n,"btnImportPhoto",E,o(n)),a(n,"btnMetamask",T,o(n)),a(n,"getQR_description",D,o(n)),n}t(n,e);var c=n.prototype;return c.ShowLogin=function(){p.Token?this.LoginSuccess():this.node.active=!0},c.start=function(){var e=!1;u.platform==u.Platform.ANDROID&&(e=!0),this.mobileNode.active=e,this.webNode.active=!e,this.registerEvent()},c.OnBtnMetaClick=function(){d.Instance.Loading(!0);var e="",n="",t="",a="PVU plantvsundead.com signing: ";function o(){return c.apply(this,arguments)}function c(){return(c=i(r().mark((function o(){var i,c,s;return r().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return i=window.ethereum,o.next=3,i.request({method:"personal_sign",params:[a+t,n]}).catch((function(e){d.Instance._LoginManager.LoginFail(),d.Instance.ShowToast("Error","MetaMask Login failed!",0)}));case 3:(c=o.sent)?(e=c.toString(),s=function(e){var n=JSON.parse(e);0==n.status?(p.Token=n.data.token,d.Instance._LoginManager.LoginSuccess()):l(n.status)},m.PostRequestUserAuth(n,e,a,s,u)):(d.Instance._LoginManager.LoginFail(),d.Instance.ShowToast("Error","MetaMask Login failed!",0));case 6:case"end":return o.stop()}}),o)})))).apply(this,arguments)}function s(){return(s=i(r().mark((function e(){var a,c,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.ethereum,e.next=3,a.request({method:"eth_requestAccounts"}).catch((function(e){d.Instance._LoginManager.LoginFail(),d.Instance.ShowToast("Error","MetaMask Login failed!",0)}));case 3:(c=e.sent)?(n=c[0],s=function(){var e=i(r().mark((function e(a){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(a),0!=(i=JSON.parse(a)).status){e.next=7;break}t=i.data.nonce,o(),e.next=14;break;case 7:if(7!=i.status){e.next=13;break}return e.next=10,m.RequestRegisterAccount(n);case 10:m.RequestLoginWithMeta(n,s,u),e.next=14;break;case 13:l(i.status);case 14:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),m.RequestLoginWithMeta(n,s,u)):(d.Instance._LoginManager.LoginFail(),d.Instance.ShowToast("Error","MetaMask Login failed!",0));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var l=function(e){d.Instance._LoginManager.LoginFail(),d.Instance.ShowToast("Error",h.Instance.GetErrorMessage(e),0)},u=function(e){d.Instance._LoginManager.LoginFail()};void 0!==window.ethereum&&window.ethereum.isMetaMask?function(){s.apply(this,arguments)}():(d.Instance.ShowToast("Error","Can not detect MetaMask!",0),d.Instance._LoginManager.LoginFail())},c.LoginFail=function(){d.Instance.Loading(!1)},c.LoginSuccess=function(){this.node.active=!1,d.Instance.Loading(!1),d.Instance.OnLoginSuccess()},c.registerEvent=function(){cc.OnQRCodeRespone=function(e){this.ScanMask.active=!1,console.log("QR respone: ",e),p.Token=e,d.Instance._LoginManager.LoginSuccess()}.bind(this),cc.OnQRCodeResponeError=function(e){this.ScanMask.active=!1,d.Instance.ShowToast("Error","Cannot read Image",0)}.bind(this)},c.OnBtnScanClick=function(){if(this.registerEvent(),u.platform==u.Platform.ANDROID)g.reflection.callStaticMethod("com/cocos/game/QR_CodeReader","scan","(Ljava/lang/String;)V","this is a message from JavaScript");else{this.ScanMask.active=!0;g.reflection.callStaticMethod("AppDelegate","callNativeUIWithTitle:andContent:","cocos2d-js","Yes! you call a Native UI from Reflection")}},c.stopScan=function(){g.reflection.callStaticMethod("AppDelegate","cancelScanQR:andContent:","cocos2d-js","Yes! you call a Native UI from Reflection")},c.OnBtnChoseClick=function(){if(u.platform==u.Platform.ANDROID)g.reflection.callStaticMethod("com/cocos/game/QR_CodeReader","ChooseImage","(Ljava/lang/String;)V","this is a message from JavaScript");else g.reflection.callStaticMethod("AppDelegate","chooseQRImage:andContent:","cocos2d-js","Yes! you call a Native UI from Reflection")},n}(f)).prototype,"ScanMask",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=n(y.prototype,"mobileNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(y.prototype,"webNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(y.prototype,"btnScanQR",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(y.prototype,"btnImportPhoto",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(y.prototype,"btnMetamask",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(y.prototype,"getQR_description",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=y))||k));c._RF.pop()}}}));

System.register("chunks:///_virtual/LotteryMiniGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TabHistoryLottery.ts","./TabResultLottery.ts","./TabBuyTicketLottery.ts","./UIButtonTab.ts"],(function(t){"use strict";var i,e,n,o,r,a,s,u,l,b,c,y;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Node,u=t.Component},function(t){l=t.TabHistoryLottery},function(t){b=t.TabResultLottery},function(t){c=t.TabBuyTicketLottery},function(t){y=t.UIButtonTab}],execute:function(){var h,p,T,H,f,B,d,k,w,R,m,L,g,S,v,_;r._RF.push({},"29be7qLAE1DrZsxhUF62ZU4","LotteryMiniGame",void 0);var z=a.ccclass,I=a.property;t("LotteryMiniGame",(h=z("LotteryMiniGame"),p=I(s),T=I(b),H=I(l),f=I(y),B=I(y),d=I(y),h(((_=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return i=t.call.apply(t,[this].concat(r))||this,n(i,"tabBuyTicket",R,o(i)),n(i,"tabResult",m,o(i)),n(i,"tabHistory",L,o(i)),n(i,"btnBuyTicket",g,o(i)),n(i,"btnResult",S,o(i)),n(i,"btnHistory",v,o(i)),i._tabBuyTicket=null,i}e(i,t);var r=i.prototype;return r.Show=function(){null==i.Instance&&(i.Instance=this,this._tabBuyTicket=this.tabBuyTicket.getComponent(c)),this.node.active=!0,this.OnBtnShowTabBuyTicket()},r.onDestroy=function(){i.Instance=null},r.Hide=function(){this.node.active=!1,this.node.getComponent},r.OnBtnShowTabBuyTicket=function(){this._tabBuyTicket.Show(),this.tabResult.Hide(),this.tabHistory.Hide(),this.btnBuyTicket.Show(),this.btnResult.Hide(),this.btnHistory.Hide()},r.OnBtnShowTabResult=function(){this.tabResult.Show(),this.tabHistory.Hide(),this._tabBuyTicket.Hide(),this.btnResult.Show(),this.btnHistory.Hide(),this.btnBuyTicket.Hide()},r.OnBtnShowTabHistory=function(){this.tabHistory.Show(),this._tabBuyTicket.Hide(),this.tabResult.Hide(),this.btnHistory.Show(),this.btnBuyTicket.Hide(),this.btnResult.Hide()},i}(u)).Instance=null,R=i((w=_).prototype,"tabBuyTicket",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=i(w.prototype,"tabResult",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=i(w.prototype,"tabHistory",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=i(w.prototype,"btnBuyTicket",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=i(w.prototype,"btnResult",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=i(w.prototype,"btnHistory",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=w))||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./ConfigApi.ts","./FarmingServicesApi.ts","./ResHttp.ts","./ConfigGame.ts","./dealOrNoDealConfig.ts","./AdsBannerController.ts","./FarmChatUI.ts","./FarmItemChatUI.ts","./FarmToastSpeakerUI.ts","./FarmTransferLEItem.ts","./FarmTransferLETab.ts","./FarnSpeakerUI.ts","./FarmInfoUI.ts","./CrowKingManager.ts","./FadeSpriteEffect.ts","./FarmBannerUI.ts","./FarmBiddingUI.ts","./FarmDecorBuff.ts","./FarmDecorUI.ts","./FarmInventoryItem.ts","./FarmInventoryUI.ts","./FarmKingCrowRewardUI.ts","./FarmPage.ts","./FarmPlantUI.ts","./FarmPopupFilterDecorUI.ts","./FarmPopupFilterPlantUI.ts","./FarmRewardUI.ts","./FarmRewardUIItem.ts","./FarmSelectFaction.ts","./FarmSynergyUI.ts","./FarmUI.ts","./PlantSlot.ts","./WorldMapBannerUI.ts","./WorldMapClickPanel.ts","./WorldMapControl.ts","./WorldMapFilterUI.ts","./WorldMapUI.ts","./BettingMiniGame.ts","./CrowHuntingMiniGame.ts","./UIIconCrowHunting.ts","./UIPrizeCrowHunting.ts","./DealOrNoDealMiniGame.ts","./DondSoundController.ts","./ItemDond_Chat.ts","./PanelDond_CaseValue.ts","./PanelDond_Chat.ts","./PanelDond_CountDownNextGame.ts","./PanelDond_CountDownVote.ts","./PanelDond_LastDealOffer.ts","./PanelDond_NumberUser.ts","./PanelDond_Offer.ts","./PanelDond_Result.ts","./PanelDond_VoteCases.ts","./PanelDond_Waiting.ts","./PanelDond_YourBet.ts","./UIItemDondCase.ts","./UIItemDondCaseValue.ts","./UIItemDondCaseVote.ts","./LotteryMiniGame.ts","./PopupChoseNumbers.ts","./PopupPrizeStructure.ts","./PopupPurchaseOption.ts","./TabBuyTicketLottery.ts","./TabHistoryLottery.ts","./TabResultLottery.ts","./UIButtonTab.ts","./UIItemChoseNumber.ts","./UIItemLottery.ts","./UIItemLotteryResult.ts","./UIItemMyTicketLotteries.ts","./UIItemNumberLottery.ts","./UIItemRoundLottery.ts","./UIPages.ts","./MiniGame.ts","./EventSystem.ts","./ResourcesManager.ts","./SoundController.ts","./UserModel.ts","./NativeSocketDondHandler.ts","./NativeSocketHandler.ts","./SocketDealOrNoDealHandler.ts","./SocketFarmHandler.ts","./UIPopupBidAd.ts","./LoginManager.ts","./UIItemElementMyAsset.ts","./UIItemMyAsset.ts","./UIItemMyAssetPlant.ts","./UIPopupMyAssets.ts","./PopupConfirmUI.ts","./UIItemShop.ts","./UIPopupShop.ts","./UIAirDrop.ts","./UICrowKing.ts","./UIDescriptionInfo.ts","./UIMinigameMenu.ts","./UIPopupLobbyManager.ts","./UIPopupManager.ts","./UIPopupNotification.ts","./UIScreenMain.ts","./UISetting.ts","./UIToast.ts","./UIWeather.ts","./FreeTicketInfo.ts","./IconInfo.ts","./LeInfo.ts","./ScareCrowInfo.ts","./UIInputAddSub.ts","./UIToggle.ts","./WateringInfo.ts","./AutoReturnPrefab.ts","./ButtonAnim.ts","./ButtonToggle.ts","./EngineHelper.ts","./NodeShaking.ts","./ParticlePlayHelper.ts","./PopUpBase.ts","./PrefabController.ts","./ScrollOptimizeGames.ts","./SimplePool.ts","./SpriteRatioHelper.ts","./UIFitWidthHelper.ts","./Utility.ts","./VFXminigameBetting.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MiniGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BettingMiniGame.ts","./LotteryMiniGame.ts","./UIPopupManager.ts","./UserModel.ts","./CrowHuntingMiniGame.ts","./DealOrNoDealMiniGame.ts"],(function(i){"use strict";var e,t,n,r,a,o,l,u,s,c,b,m,p,g,M,h,G;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,r=i.assertThisInitialized},function(i){a=i.cclegacy,o=i._decorator,l=i.Node,u=i.Label,s=i.Sprite,c=i.SpriteFrame,b=i.Component},function(i){m=i.BettingMiniGame},function(i){p=i.LotteryMiniGame},function(i){g=i.UIPopupManager},function(i){M=i.UserModel},function(i){h=i.CrowHuntingMiniGame},function(i){G=i.DealOrNoDealMiniGame}],execute:function(){var d,y,f,w,S,H,F,z,B,L,I,T,v,D,U,k,P,_,x,C,N,Q,R,j,E;a._RF.push({},"58ab93R5EVGvaEQ+1rj/p6m","MiniGame",void 0);var O=o.ccclass,A=o.property;i("MiniGame",(d=O("MiniGame"),y=A(l),f=A(u),w=A(s),S=A(c),H=A(c),F=A(l),z=A(l),B=A(m),L=A(p),I=A(h),T=A(G),d((U=e((D=function(i){function e(){for(var e,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return e=i.call.apply(i,[this].concat(a))||this,n(e,"nodeFreeTicket",U,r(e)),n(e,"txtFreTicket",k,r(e)),n(e,"bgSprite",P,r(e)),n(e,"bgBettingSF",_,r(e)),n(e,"bgLotterySF",x,r(e)),n(e,"BtnTabs",C,r(e)),n(e,"LeIcon",N,r(e)),n(e,"bettingMiniGame",Q,r(e)),n(e,"lotteryMiniGame",R,r(e)),n(e,"crowHuntingMiniGame",j,r(e)),n(e,"dondMiniGame",E,r(e)),e}t(e,i);var a=e.prototype;return a.start=function(){this.onBtnTab(null,M.minigameSceneType)},a.onBtnTab=function(i,e){"0"==e?(this.lotteryMiniGame.Hide(),this.crowHuntingMiniGame.Hide(),this.dondMiniGame.Hide(),this.bettingMiniGame.Show(this),this.bgSprite.spriteFrame=this.bgBettingSF):"1"==e?(this.lotteryMiniGame.Show(),this.crowHuntingMiniGame.Hide(),this.bettingMiniGame.Hide(),this.dondMiniGame.Hide(),this.bgSprite.spriteFrame=this.bgLotterySF):"2"==e?(this.lotteryMiniGame.Hide(),this.bettingMiniGame.Hide(),this.dondMiniGame.Hide(),this.crowHuntingMiniGame.Show(),this.bgSprite.spriteFrame=this.bgLotterySF):"3"==e&&(this.lotteryMiniGame.Hide(),this.bettingMiniGame.Hide(),this.dondMiniGame.Show(),this.crowHuntingMiniGame.Hide(),this.bgSprite.spriteFrame=this.bgLotterySF)},a.onBtnSetting=function(){g.Instance.ShowUISetting(this.onQuit.bind(this))},a.onBtnBack=function(){g.Instance.ShowUIMinigameMenu()},a.onQuit=function(){g.Instance.ShowUIMinigameMenu()},e}(b)).prototype,"nodeFreeTicket",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(D.prototype,"txtFreTicket",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(D.prototype,"bgSprite",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(D.prototype,"bgBettingSF",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(D.prototype,"bgLotterySF",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(D.prototype,"BtnTabs",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=e(D.prototype,"LeIcon",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(D.prototype,"bettingMiniGame",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(D.prototype,"lotteryMiniGame",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(D.prototype,"crowHuntingMiniGame",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(D.prototype,"dondMiniGame",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=D))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/NativeSocketDondHandler.ts",["cc","./ConfigApi.ts","./EventSystem.ts"],(function(n){"use strict";var o,e,t,c,i;return{setters:[function(n){o=n.cclegacy,e=n.native},function(n){t=n.ConfigApi},function(n){c=n.GlobalEvents,i=n.EventType}],execute:function(){o._RF.push({},"9168fgSZyVOeo1XQxkWYQlc","NativeSocketDondHandler",void 0);var a=n("NativeSocketDondHandler",function(){function n(){}return n.Connect=function(n){e.reflection.callStaticMethod("com/cocos/game/DondSocketIO","Connect","(Ljava/lang/String;Ljava/lang/String;)V",t.LINK_WSS_DOND,n)},n.Disconnect=function(){e.reflection.callStaticMethod("com/cocos/game/DondSocketIO","Disconnect","()V")},n.Emit=function(n,o){e.reflection.callStaticMethod("com/cocos/game/DondSocketIO","EmitEvent","(Ljava/lang/String;Ljava/lang/String;)V",n,JSON.stringify(o))},n.onConnect=function(){c.publish(i.Socket_onConnectCallback,null)},n.onDisconnect=function(){console.log("onDisconnect")},n.onConnectError=function(){c.publish(i.Socket_onErrorCallback,null)},n.onClose=function(){console.log("onClose")},n.OnGameInit=function(n){c.publish(i.Socket_Dond_GameInit,JSON.parse(n))},n.OnPlayerInfo=function(n){c.publish(i.Socket_Dond_PlayerInfo,JSON.parse(n))},n.OnNotice=function(n){c.publish(i.Socket_Dond_Notice,JSON.parse(n))},n.OnVotingResult=function(n){c.publish(i.Socket_Dond_Voting_Result,JSON.parse(n))},n.OnRemoveVoting=function(n){c.publish(i.Socket_Dond_Remove_Voting,JSON.parse(n))},n.OnGameProgress=function(n){c.publish(i.Socket_Dond_Game_Progress,JSON.parse(n))},n.OnChat=function(n){c.publish(i.Socket_Dond_Chat,JSON.parse(n))},n.OnBet=function(n){c.publish(i.Socket_Dond_Bet,JSON.parse(n))},n.OnUpdateCases=function(n){c.publish(i.Socket_Dond_Update_Cases,JSON.parse(n))},n.OnShowDeal=function(n){c.publish(i.Socket_Dond_Show_Deal,JSON.parse(n))},n.OnDeal=function(n){c.publish(i.Socket_Dond_Deal,JSON.parse(n))},n.OnRemianingCases=function(n){c.publish(i.Socket_Dond_Remaining_Cases,JSON.parse(n))},n.OnSelectCase=function(n){c.publish(i.Socket_Dond_Select_Case,JSON.parse(n))},n.OnAutoDeal=function(n){c.publish(i.Socket_Dond_Auto_Deal,JSON.parse(n))},n.OnGameStatistics=function(n){c.publish(i.Socket_Dond_Game_Statistics,JSON.parse(n))},n.OnRemovedCases=function(n){c.publish(i.Socket_Dond_Removed_Case,JSON.parse(n))},n}());window.NativeSocketDondHandler=a,o._RF.pop()}}}));

System.register("chunks:///_virtual/NativeSocketHandler.ts",["cc","./ConfigApi.ts","./EventSystem.ts"],(function(n){"use strict";var o,t,e,c,a;return{setters:[function(n){o=n.cclegacy,t=n.native},function(n){e=n.ConfigApi},function(n){c=n.GlobalEvents,a=n.EventType}],execute:function(){o._RF.push({},"aaaabN4ZE1Dfo+V6dyo1kD1","NativeSocketHandler",void 0);var i=n("NativeSocketHandler",function(){function n(){}return n.Connect=function(n){t.reflection.callStaticMethod("com/cocos/game/FramSocketIO","Connect","(Ljava/lang/String;Ljava/lang/String;)V",e.LINK_WSS+"farm",n)},n.Disconnect=function(){t.reflection.callStaticMethod("com/cocos/game/FramSocketIO","Disconnect","()V")},n.Emit=function(n,o){t.reflection.callStaticMethod("com/cocos/game/FramSocketIO","EmitEvent","(Ljava/lang/String;Ljava/lang/String;)V",n,JSON.stringify(o))},n.onConnect=function(){c.publish(a.Socket_onConnectCallback,null)},n.onDisconnect=function(){console.log("onDisconnect")},n.onConnectError=function(){c.publish(a.Socket_onErrorCallback,null)},n.onClose=function(){console.log("onClose")},n.onChat=function(n){c.publish(a.Socket_onChatCallback,JSON.parse(n))},n.onChatAll=function(n){c.publish(a.Socket_onChatAllCallback,JSON.parse(n))},n.onSlotUpdate=function(n){c.publish(a.Socket_onSlotUpdateCallback,JSON.parse(n))},n.onChangeLand=function(n){c.publish(a.Socket_onChangeLand,JSON.parse(n))},n.onChangeNumberViewer=function(n){c.publish(a.Socket_onChangeNumberViewer,JSON.parse(n))},n.onErr=function(n){c.publish(a.Socket_onErr,JSON.parse(n))},n.onNotice=function(n){c.publish(a.Socket_onNotice,JSON.parse(n))},n.onHitCrowKing=function(n){c.publish(a.Socket_onHitCrowKing,JSON.parse(n))},n}());window.NativeSocketHandler=i,o._RF.pop()}}}));

System.register("chunks:///_virtual/NodeShaking.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,o,n,a,r,s,l,h,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Vec3,l=t.CCFloat,h=t.tween,c=t.Component}],execute:function(){var u,m,g,_,d,f,p,w,R;a._RF.push({},"be971FLByBF+agCXt8wd0al","NodeShaking",void 0);var S=r.ccclass,b=r.property;t("NodeShaking",(u=S("NodeShaking"),m=b(s),g=b(l),_=b(l),u((p=e((f=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,o(e,"shakeStrength",p,n(e)),o(e,"timeScale",w,n(e)),o(e,"restBetweenShake",R,n(e)),e.m_leftRotation=void 0,e.m_rightRotation=void 0,e.m_originaRotation=void 0,e.m_targetRotation=void 0,e.m_rotateTween=void 0,e}i(e,t);var a=e.prototype;return a.onLoad=function(){this.m_leftRotation=new s(new s(this.node.eulerAngles).subtract(this.shakeStrength)),this.m_rightRotation=new s(new s(this.node.eulerAngles).add(this.shakeStrength)),console.log(this.m_leftRotation),console.log(this.m_rightRotation),this.node.setRotationFromEuler(this.m_leftRotation),this.m_originaRotation=this.m_leftRotation,this.m_targetRotation=this.m_rightRotation},a.onEnable=function(){var t=this;this.timeScale<=0||(null!=this.m_rotateTween&&(this.m_rotateTween.stop(),this.m_rotateTween=null),this.m_rotateTween=h(this.m_leftRotation).to(this.timeScale,this.m_rightRotation,{easing:"linear",onUpdate:function(e,i){t.node.setRotationFromEuler(e)}}).to(this.timeScale,this.m_leftRotation,{easing:"linear",onUpdate:function(e,i){t.node.setRotationFromEuler(e)},onComplete:function(){t.node.isValid&&t.m_rotateTween.start()}}),this.m_rotateTween.start())},a.onDisable=function(){null!=this.m_rotateTween&&this.m_rotateTween.stop(),this.m_rotateTween=null},e}(c)).prototype,"shakeStrength",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s(0,0,10)}}),w=e(f.prototype,"timeScale",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),R=e(f.prototype,"restBetweenShake",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),d=f))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/PanelDond_CaseValue.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dealOrNoDealConfig.ts","./UIItemDondCaseValue.ts","./DealOrNoDealMiniGame.ts","./Utility.ts"],(function(e){"use strict";var t,i,n,a,o,r,s,l,u,c,p,d,f,h,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,s=e.Node,l=e.Sprite,u=e.SpriteFrame,c=e.Component},function(e){p=e.dealOrNoDealConfig},function(e){d=e.UIItemDondCaseValue,f=e.UIItemDondCaseValueState},function(e){h=e.DealOrNoDealMiniGame},function(e){m=e.Utility}],execute:function(){var C,I,b,y,S,D,v,_,B,A,T,g,w;o._RF.push({},"36b84XyAcRD1oQl96iZI3hQ","PanelDond_CaseValue",void 0);var N=r.ccclass,U=r.property;e("PanelDond_CaseValue",(C=N("PanelDond_CaseValue"),I=U(s),b=U(s),y=U([d]),S=U(l),D=U([u]),C((B=t((_=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"panelBet",B,a(t)),n(t,"panelNoneBet",A,a(t)),n(t,"listCase",T,a(t)),n(t,"yourBet",g,a(t)),n(t,"spriteFrameList",w,a(t)),t.data=null,t}i(t,e);var o=t.prototype;return o.Show=function(){this.node.active||(this.node.active=!0)},o.Hide=function(){this.node.active&&(this.node.active=!1)},o.UpdateRemainingCases=function(e){},o.UpdateRemovedCases=function(e){var t=this;null!=e&&e.map((function(e,i){t.listCase[e.caseNumber-1].UpdateState(f.Close)}))},o.ShowYourBet=function(){this.yourBet.node.parent.active=!0;var e=h.Instance.GetBettingAmount(),t=p.VALID_BETTING_AMOUNT.findIndex((function(t){return t==e}));this.yourBet.spriteFrame=this.spriteFrameList[t],this.listCase.map((function(t,i){t.Init(i+1,m.numberWithCommas(parseFloat((p.VALID_RATE_LIST[i]*e).toFixed(2))))}))},o.UpdateState=function(e){var t=this;switch(this.data=e,e.state){case p.GAME_STATE.BETTING_PHASE:case p.GAME_STATE.VOTING_PHASE:h.Instance.GetBettingAmount()<=0?(this.listCase.map((function(e,t){e.UpdateState(f.Open)})),this.Hide()):(this.Show(),this.ShowYourBet());break;default:this.Show(),h.Instance.IsViewer()?(this.yourBet.node.parent.active=!1,this.listCase.map((function(e,t){e.Init(t+1,"x"+p.VALID_RATE_LIST[t])}))):this.ShowYourBet();var i=this.data.cases;null!=i&&(this.listCase.map((function(e,t){e.UpdateState(f.Open)})),i.map((function(e,i){1==e.isRemoved&&t.listCase[e.caseNumber-1].UpdateState(f.Close)})))}},t}(c)).prototype,"panelBet",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(_.prototype,"panelNoneBet",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(_.prototype,"listCase",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=t(_.prototype,"yourBet",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(_.prototype,"spriteFrameList",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=_))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/PanelDond_Chat.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SocketDealOrNoDealHandler.ts","./Utility.ts","./UserModel.ts","./ItemDond_Chat.ts"],(function(t){"use strict";var e,n,i,r,a,o,l,s,c,u,h,f,d,p,C,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,l=t.Node,s=t.ScrollView,c=t.EditBox,u=t.instantiate,h=t.sys,f=t.Component},function(t){d=t.SocketDealOrNoDealHandler},function(t){p=t.Utility},function(t){C=t.UserModel},function(t){b=t.ItemDond_Chat}],execute:function(){var m,y,D,g,v,I,_,O,w,P,z;a._RF.push({},"9f06cmBtkNOEbJb7H4ADiAQ","PanelDond_Chat",void 0);var M=o.ccclass,S=o.property;t("PanelDond_Chat",(m=M("PanelDond_Chat"),y=S(l),D=S(l),g=S(s),v=S(c),m((O=e((_=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"prefabItemChatOther",O,r(e)),i(e,"prefabItemChatMine",w,r(e)),i(e,"scrollChat",P,r(e)),i(e,"editChat",z,r(e)),e}n(e,t);var a=e.prototype;return a.OnChat=function(t){var e=null;(e=t.address==C.ownerId?u(this.prefabItemChatMine):u(this.prefabItemChatOther)).parent=this.scrollChat.content,e.setPosition(0,0,0),e.getComponent(b).Init(t)},a.OnBtnSend=function(){if(null!=this.editChat.string&&""!=this.editChat.string){var t=this.editChat.string.trim();d.SendChat(t),this.editChat.string="",0==h.isNative&&this.forcusEditChat()}else this.forcusEditChat()},a.forcusEditChat=function(){var t=this;p.AsyncDelay(50).then((function(){t.editChat.setFocus()}))},e}(f)).prototype,"prefabItemChatOther",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(_.prototype,"prefabItemChatMine",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(_.prototype,"scrollChat",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(_.prototype,"editChat",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=_))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/PanelDond_CountDownNextGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utility.ts","./UserModel.ts"],(function(t){"use strict";var e,n,o,i,a,r,u,l,s,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,u=t.Label,l=t.Component},function(t){s=t.Utility},function(t){c=t.UserModel}],execute:function(){var d,p,h,D,f;a._RF.push({},"cba0fkHQvxM7Im7tdBZ/gQp","PanelDond_CountDownNextGame",void 0);var m=r.ccclass,v=r.property;t("PanelDond_CountDownNextGame",(d=m("PanelDond_CountDownNextGame"),p=v(u),d((f=e((D=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,o(e,"txtCountDown",f,i(e)),e.data=null,e}n(e,t);var a=e.prototype;return a.UpdateState=function(t){null!=t.gameEndAt&&(this.node.active=!0,this.data=t,this.unscheduleAllCallbacks(),this.schedule(this.updateCountDown.bind(this),1))},a.updateCountDown=function(){var t=new Date(this.data.gameEndAt).getTime()-c.serverTime;t<=0&&(t=0),this.txtCountDown.string=s.TimeToString_v3(t)},e}(l)).prototype,"txtCountDown",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=D))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/PanelDond_CountDownVote.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dealOrNoDealConfig.ts","./SoundController.ts","./UserModel.ts"],(function(e){"use strict";var t,i,n,l,o,r,a,u,s,c,p,b,m,h,d,f,g,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,a=e.Sprite,u=e.SpriteFrame,s=e.Label,c=e.UITransform,p=e.Animation,b=e.Color,m=e.Vec3,h=e.Component},function(e){d=e.dealOrNoDealConfig},function(e){f=e.SoundController,g=e.EnumSound},function(e){T=e.UserModel}],execute:function(){var y,A,S,w,D,C,_,v,z,L,E,N,P,F,I,M,U,V,k;o._RF.push({},"5f7d2Uua8JFT7p2nvERxJ6S","PanelDond_CountDownVote",void 0);var R=r.ccclass,G=r.property;e("PanelDond_CountDownVote",(y=R("PanelDond_CountDownVote"),A=G(a),S=G([u]),w=G(s),D=G(s),C=G(c),_=G(p),v=G(b),z=G(b),y((N=t((E=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"title",N,l(t)),n(t,"titleList",P,l(t)),n(t,"labelState",F,l(t)),n(t,"labelTime",I,l(t)),n(t,"labelTran",M,l(t)),n(t,"labelAnim",U,l(t)),n(t,"colorNormal",V,l(t)),n(t,"colorTimeout",k,l(t)),t.data=null,t.isAniming=!1,t}i(t,e);var o=t.prototype;return o.UpdateState=function(e){f.Instance.StopSoundLoop(),this.data=e,this.isAniming=!1,this.labelAnim.stop(),e.state==d.GAME_STATE.VOTING_RESULT?(this.title.spriteFrame=null,this.labelState.string="",this.labelTime.string="",this.unscheduleAllCallbacks()):(this.title.spriteFrame=this.titleList[e.state],this.labelState.string=d.GAME_STATE_NAME[e.state],this.labelTime.color=this.colorNormal,this.labelTran.node.scale=new m(1,1,1),this.unscheduleAllCallbacks(),this.schedule(this.updateCountDown.bind(this),1))},o.updateCountDown=function(){var e=(new Date(this.data.phaseEndAt).getTime()-T.serverTime)/1e3;e<=10&&0==this.isAniming&&(this.isAniming=!0,this.labelTime.color=this.colorTimeout,this.labelAnim.play(),f.Instance.PlaySoundLoop(g.Lock_Dond)),e<=0&&(e=0),this.labelTime.string=parseInt(e+"")+""},t}(h)).prototype,"title",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(E.prototype,"titleList",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(E.prototype,"labelState",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(E.prototype,"labelTime",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(E.prototype,"labelTran",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(E.prototype,"labelAnim",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(E.prototype,"colorNormal",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(E.prototype,"colorTimeout",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=E))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/PanelDond_LastDealOffer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dealOrNoDealConfig.ts","./DealOrNoDealMiniGame.ts","./Utility.ts","./UIItemDondCaseVote.ts","./DondSoundController.ts","./UserModel.ts"],(function(t){"use strict";var e,n,a,i,s,l,o,r,c,u,h,S,f,p,C,d,b,D,I,w,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,o=t.Button,r=t.Label,c=t.Sprite,u=t.UITransform,h=t.Node,S=t.log,f=t.Component},function(t){p=t.dealOrNoDealConfig},function(t){C=t.DealOrNoDealMiniGame},function(t){d=t.Utility},function(t){b=t.UIItemDondCaseVote,D=t.UIItemDondCaseVoteState},function(t){I=t.DondSoundController,w=t.DondSoundEnum},function(t){v=t.UserModel}],execute:function(){var G,g,y,U,m,P,A,V,B,x,O,_,N,F,K,z,T,L,E,k,H,M,R;s._RF.push({},"e7f4aEgjrlOqqGLqbn6HNkk","PanelDond_LastDealOffer",void 0);var X=l.ccclass,q=l.property;t("PanelDond_LastDealOffer",(G=X("PanelDond_LastDealOffer"),g=q(o),y=q(o),U=q(o),m=q(r),P=q(c),A=q(u),V=q(h),B=q([b]),x=q([h]),O=q(r),G((F=e((N=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,a(e,"btnDeal",F,i(e)),a(e,"btnNodeal",K,i(e)),a(e,"btnSwitch",z,i(e)),a(e,"txtOffer",T,i(e)),a(e,"fill",L,i(e)),a(e,"fillTran",E,i(e)),a(e,"iconFill",k,i(e)),a(e,"lastDealCases",H,i(e)),a(e,"statusCases",M,i(e)),a(e,"txtPercentDealVote",R,i(e)),e.data=null,e}n(e,t);var s=e.prototype;return s.Show=function(){this.node.active||(this.node.active=!0,I.Instance.PlaySound(w.SFX_Offer_Appear))},s.Hide=function(){this.node.active&&(this.node.active=!1)},s.update=function(){if(null!=this.data&&null!=this.data.phaseStartAt&&null!=this.data.phaseEndAt){var t=new Date(this.data.phaseStartAt),e=new Date(this.data.phaseEndAt),n=(e.getTime()-v.serverTime)/(e.getTime()-t.getTime());n<0&&(n=0),this.fill.fillRange=n;var a=this.iconFill.position;a.x=this.fillTran.width*n,this.iconFill.position=a}},s.UpdateState=function(t){switch(this.data=t,t.state){case p.GAME_STATE.DEAL_LAST_PHASE:if(this.Show(),C.Instance.isJoined=!1,C.Instance.IsViewer()||C.Instance.IsCompleted())this.SetInteractableAllButton(!1),this.SetGrayButton([this.btnDeal,this.btnNodeal,this.btnSwitch],!0),this.txtOffer.string="x"+t.currentDealRate;else{this.SetInteractableAllButton(!0),this.SetGrayButton([this.btnDeal,this.btnNodeal,this.btnSwitch],!1);var e=parseFloat(t.currentDealRate),n=C.Instance.GetBettingAmount();this.txtOffer.string=d.numberWithCommas(parseFloat((e*n).toFixed(2)))}var a=C.Instance.GetHighestVotedCase(),i=C.Instance.panelVoteCases.GetCaseAvailable();this.GetKeepCaseUI().SetIndexCase(a),this.GetSwitchCaseUI().SetIndexCase(i[0].index),this.txtPercentDealVote.node.parent.active=!1,this.GetKeepCaseUI().SetActivePercentVote(!1),this.GetSwitchCaseUI().SetActivePercentVote(!1),this.SetCaseKeeped(!0);break;default:this.Hide()}},s.UpdatePercentVote=function(t){if(this.node.active){var e=t.lastDealCount+t.switchCaseCount+t.noDealCount;if(e>0){var n=(t.lastDealCount/e*100).toString();this.txtPercentDealVote.string=parseInt(n)+"%",this.txtPercentDealVote.node.parent.active=!0,this.GetKeepCaseUI().SetActivePercentVote(!0),this.GetSwitchCaseUI().SetActivePercentVote(!0)}else this.txtPercentDealVote.string="0%",this.txtPercentDealVote.node.parent.active=!1,this.GetKeepCaseUI().SetActivePercentVote(!1),this.GetSwitchCaseUI().SetActivePercentVote(!1);this.GetKeepCaseUI().UpdateValuePercentVote(t.noDealCount,e),this.GetSwitchCaseUI().UpdateValuePercentVote(t.switchCaseCount,e),(C.Instance.IsViewer()||C.Instance.IsCompleted())&&(t.noDealCount==t.switchCaseCount?(this.SetCaseSpriteState(this.GetSwitchCaseUI(),!1),this.SetCaseSpriteState(this.GetKeepCaseUI(),!1)):(this.SetCaseSpriteState(this.GetSwitchCaseUI(),t.switchCaseCount>t.noDealCount),this.SetCaseSpriteState(this.GetKeepCaseUI(),t.noDealCount>t.switchCaseCount)))}},s.GetSwitchCaseUI=function(){return this.lastDealCases[0]},s.GetKeepCaseUI=function(){return this.lastDealCases[1]},s.SetCaseKeeped=function(t){this.statusCases[0].active=!t,this.statusCases[1].active=t,this.SetCaseSpriteState(this.GetSwitchCaseUI(),!t),this.SetCaseSpriteState(this.GetKeepCaseUI(),t)},s.SetCaseSpriteState=function(t,e){var n=e?D.Close_Select:D.Close_Deactive;t.UpdateSprite(n)},s.SetInteractableAllButton=function(t){this.btnDeal.interactable=t,this.btnNodeal.interactable=t,this.btnSwitch.interactable=t},s.SetGrayButton=function(t,e){t.forEach((function(t){t.node.getComponent(c).grayscale=e}))},s.OnBtnDeal=function(){I.Instance.PlaySound(w.SFX_Click),C.Instance.Deal(),this.SetInteractableAllButton(!1),this.SetGrayButton([this.btnNodeal,this.btnSwitch],!0)},s.OnBtnNoDeal=function(){I.Instance.PlaySound(w.SFX_Click),C.Instance.NoDeal(),this.SetCaseKeeped(!0),this.SetInteractableAllButton(!1),this.SetGrayButton([this.btnDeal,this.btnSwitch],!0)},s.OnBtnSwitch=function(){I.Instance.PlaySound(w.SFX_Click);var t=C.Instance.panelVoteCases.GetSwitchCaseAlphabet();S("OnBtnSwitch:"+t),C.Instance.SwitchCase(t),this.SetCaseKeeped(!1),this.SetInteractableAllButton(!1),this.SetGrayButton([this.btnDeal,this.btnNodeal],!0)},e}(f)).prototype,"btnDeal",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(N.prototype,"btnNodeal",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(N.prototype,"btnSwitch",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(N.prototype,"txtOffer",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(N.prototype,"fill",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(N.prototype,"fillTran",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(N.prototype,"iconFill",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(N.prototype,"lastDealCases",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=e(N.prototype,"statusCases",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=e(N.prototype,"txtPercentDealVote",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=N))||_));s._RF.pop()}}}));

System.register("chunks:///_virtual/PanelDond_NumberUser.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,t,n,i,a,l,o,c;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.Label,c=e.Component}],execute:function(){var u,s,p,b,f,y,P;a._RF.push({},"4176bKvG+9NCaEeJbXcNy7g","PanelDond_NumberUser",void 0);var d=l.ccclass,h=l.property;e("PanelDond_NumberUser",(u=d("PanelDond_NumberUser"),s=h(o),p=h(o),u((y=r((f=function(e){function r(){for(var r,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return r=e.call.apply(e,[this].concat(a))||this,n(r,"labelPlayer",y,i(r)),n(r,"labelParticipant",P,i(r)),r}t(r,e);var a=r.prototype;return a.Show=function(){this.node.active=!0},a.Hide=function(){this.node.active=!1},a.SetNumberUser=function(e,r){this.labelPlayer.string="Player: "+e,this.labelParticipant.string="Participant: "+r},r}(c)).prototype,"labelPlayer",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=r(f.prototype,"labelParticipant",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=f))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/PanelDond_Offer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dealOrNoDealConfig.ts","./DealOrNoDealMiniGame.ts","./Utility.ts","./DondSoundController.ts","./UserModel.ts"],(function(t){"use strict";var e,n,i,a,l,r,o,s,c,u,f,d,h,p,b,D,S,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){l=t.cclegacy,r=t._decorator,o=t.Button,s=t.Label,c=t.Sprite,u=t.UITransform,f=t.Node,d=t.Component},function(t){h=t.dealOrNoDealConfig},function(t){p=t.DealOrNoDealMiniGame},function(t){b=t.Utility},function(t){D=t.DondSoundController,S=t.DondSoundEnum},function(t){m=t.UserModel}],execute:function(){var A,_,T,g,v,w,y,E,O,F,I,N,P,H,x,M,z,C,R;l._RF.push({},"849ffmoMVpMI4uc53hNwPdk","PanelDond_Offer",void 0);var G=r.ccclass,L=r.property;t("PanelDond_Offer",(A=G("PanelDond_Offer"),_=L(o),T=L(o),g=L(o),v=L(s),w=L(s),y=L(c),E=L(u),O=L(f),A((N=e((I=function(t){function e(){for(var e,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return e=t.call.apply(t,[this].concat(l))||this,i(e,"btnDeal",N,a(e)),i(e,"btnNodeal",P,a(e)),i(e,"btnSwitch",H,a(e)),i(e,"txtTitle",x,a(e)),i(e,"txtOffer",M,a(e)),i(e,"fill",z,a(e)),i(e,"fillTran",C,a(e)),i(e,"iconFill",R,a(e)),e.data=null,e}n(e,t);var l=e.prototype;return l.Show=function(){this.node.active||(this.node.active=!0,D.Instance.PlaySound(S.SFX_Offer_Appear))},l.Hide=function(){this.node.active&&(this.node.active=!1)},l.update=function(){if(null!=this.data&&null!=this.data.phaseStartAt&&null!=this.data.phaseEndAt){var t=new Date(this.data.phaseStartAt),e=new Date(this.data.phaseEndAt),n=(e.getTime()-m.serverTime)/(e.getTime()-t.getTime());n<0&&(n=0),this.fill.fillRange=n;var i=this.iconFill.position;i.x=this.fillTran.width*n,this.iconFill.position=i}},l.UpdateState=function(t){if(this.data=t,1!=p.Instance.IsCompleted())switch(t.state){case h.GAME_STATE.DEAL_FIRST_PHASE:case h.GAME_STATE.DEAL_SECOND_PHASE:case h.GAME_STATE.DEAL_THIRD_PHASE:case h.GAME_STATE.DEAL_FOURTH_PHASE:if(this.Show(),this.txtTitle.string="BANK OFFER",p.Instance.IsViewer())this.btnDeal.node.active=!1,this.btnNodeal.node.active=!1,this.btnSwitch.node.active=!1,this.txtOffer.string="x"+t.currentDealRate;else{this.btnDeal.node.active=!0,this.btnNodeal.node.active=!0,this.btnSwitch.node.active=!1;var e=parseFloat(t.currentDealRate),n=p.Instance.GetBettingAmount();this.txtOffer.string=b.numberWithCommas(parseFloat((e*n).toFixed(2)))}break;default:this.Hide()}else this.Hide()},l.OnBtnDeal=function(){p.Instance.Deal(),this.Hide(),D.Instance.PlaySound(S.SFX_Click)},l.OnBtnNoDeal=function(){p.Instance.NoDeal(),this.Hide(),D.Instance.PlaySound(S.SFX_Click)},e}(d)).prototype,"btnDeal",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(I.prototype,"btnNodeal",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(I.prototype,"btnSwitch",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(I.prototype,"txtTitle",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(I.prototype,"txtOffer",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(I.prototype,"fill",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(I.prototype,"fillTran",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(I.prototype,"iconFill",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=I))||F));l._RF.pop()}}}));

System.register("chunks:///_virtual/PanelDond_Result.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utility.ts","./dealOrNoDealConfig.ts","./DealOrNoDealMiniGame.ts","./UserModel.ts","./DondSoundController.ts"],(function(e){"use strict";var t,n,i,a,s,o,l,r,c,u,h,f,S,p,w,d,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){s=e.cclegacy,o=e._decorator,l=e.Node,r=e.sp,c=e.Label,u=e.tween,h=e.Component},function(e){f=e.Utility},function(e){S=e.dealOrNoDealConfig},function(e){p=e.DealOrNoDealMiniGame},function(e){w=e.UserModel},function(e){d=e.DondSoundController,C=e.DondSoundEnum}],execute:function(){var g,v,m,b,R,y,D,_,E,I,P,A,H,O,G;s._RF.push({},"2b41780h6RHVar4Dg7tzaaP","PanelDond_Result",void 0);var V=o.ccclass,z=o.property;e("PanelDond_Result",(g=V("PanelDond_Result"),v=z(l),m=z(l),b=z([r.Skeleton]),R=z([c]),y=z([l]),D=z(c),g((I=t((E=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return t=e.call.apply(e,[this].concat(s))||this,i(t,"panelGameResult",I,a(t)),i(t,"panelShowCase",P,a(t)),i(t,"listCaseSpines",A,a(t)),i(t,"listCaseValues",H,a(t)),i(t,"listEffHighlight",O,a(t)),i(t,"txtOffer",G,a(t)),t.isEffectShowCase=!1,t.tweenShowResult=null,t.data=null,t}n(t,e);var s=t.prototype;return s.onLoad=function(){var e=this;this.tweenShowResult=u(this.node).delay(5).call((function(){e.OnBtnShowCaseConfirm()}))},s.Show=function(e,t){this.node.active=!0,this.SetValueOffer(e),p.Instance.isJoined=!1,this.isEffectShowCase||this.SetActivePanelShowCase(!1)},s.ShowCaseResult=function(e){var t=this;this.node.active=!0,this.isEffectShowCase=!0,this.SetActivePanelShowCase(!0),this.ResetCase();var n=p.Instance.GetHighestVotedCase();d.Instance.PlaySound(C.SFX_Case_Drop),e.cases.forEach((function(i,a){var s=p.Instance.GetIndexByCaseAlplaBet(i.caseAlphabet)!=n?0:1,o=t.listCaseValues[s],l=t.listCaseSpines[s];o.string=i.caseNumber,t.CheckShowHighlight(s),l.setAnimation(0,"Drop_Show",!1),u(l).delay(.8).call((function(){o.node.active=!0,l.setAnimation(0,"Show_static",!0),a==e.cases.length-1&&d.Instance.PlaySound(C.SFX_Last_Case_Open)})).start()})),this.tweenShowResult.start()},s.CheckShowHighlight=function(e){p.Instance.IsViewer()||p.Instance.IsCompleted()||(0==e&&0==p.Instance.GetUserLastAction()||1==e&&0!=p.Instance.GetUserLastAction())&&(this.listEffHighlight[e].active=!0)},s.ResetCase=function(){this.listEffHighlight.forEach((function(e,t){e.active=!1})),this.listCaseValues.forEach((function(e,t){e.node.active=!1,e.string=""}))},s.Hide=function(){this.node.active=!1,this.StopTweenShowResult(),this.isEffectShowCase=!1},s.UpdateState=function(e){switch(this.data=e,e.state){case S.GAME_STATE.BETTING_PHASE:this.Hide()}},s.SetActivePanelShowCase=function(e){this.panelShowCase.active=e,this.panelGameResult.active=!e},s.StopTweenShowResult=function(){this.tweenShowResult&&this.tweenShowResult.stop()},s.SetValueOffer=function(e){this.txtOffer.string=f.numberWithCommas(e)},s.OnBtnQuit=function(){this.Hide()},s.OnBtnContinue=function(){this.Hide(),d.Instance.PlaySound(C.SFX_Receive_Reward)},s.OnBtnShowCaseConfirm=function(){this.StopTweenShowResult(),this.isEffectShowCase=!1;var e=p.Instance.GetLastPhaseReward();e?(w.LE=e.remainingAmount,this.SetValueOffer(e.reward),this.SetActivePanelShowCase(!1)):this.Hide()},t}(h)).prototype,"panelGameResult",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(E.prototype,"panelShowCase",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(E.prototype,"listCaseSpines",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=t(E.prototype,"listCaseValues",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=t(E.prototype,"listEffHighlight",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=t(E.prototype,"txtOffer",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=E))||_));s._RF.pop()}}}));

System.register("chunks:///_virtual/PanelDond_VoteCases.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dealOrNoDealConfig.ts","./UIItemDondCaseVote.ts","./DealOrNoDealMiniGame.ts","./SocketDealOrNoDealHandler.ts"],(function(e){"use strict";var t,a,i,n,s,o,r,c,l,p,h,A,C,u,E,S,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,o=e._decorator,r=e.Node,c=e.Label,l=e.Sprite,p=e.SpriteFrame,h=e.log,A=e.Component},function(e){C=e.dealOrNoDealConfig},function(e){u=e.UIItemDondCaseVote,E=e.UIItemDondCaseVoteState},function(e){S=e.DealOrNoDealMiniGame},function(e){d=e.SocketDealOrNoDealHandler}],execute:function(){var f,T,_,b,v,G,I,m,V,g,H,U,N,P,O,D,M,x,y,B,R,w,k;s._RF.push({},"5ac50BZOChD0Lwdx1b32uyi","PanelDond_VoteCases",void 0);var L=o.ccclass,K=o.property;e("PanelDond_VoteCases",(f=L("PanelDond_VoteCases"),T=K(r),_=K(c),b=K(r),v=K(r),G=K(l),I=K(p),m=K(p),V=K(r),g=K(c),H=K([u]),f((P=t((N=function(e){function t(){for(var t,a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return t=e.call.apply(e,[this].concat(s))||this,i(t,"txtWaiting",P,n(t)),i(t,"title",O,n(t)),i(t,"blockNode",D,n(t)),i(t,"layout",M,n(t)),i(t,"btnConfirm",x,n(t)),i(t,"spriteConfirmActive",y,n(t)),i(t,"spriteConfirmDeactive",B,n(t)),i(t,"boxKeepCase",R,n(t)),i(t,"txtKeepCase",w,n(t)),i(t,"listCase",k,n(t)),t.caseAlphabet="",t.caseAlphabets=[],t.data=null,t}a(t,e);var s=t.prototype;return s.ResetVote=function(){this.caseAlphabet="",this.caseAlphabets=[]},s.GetSwitchCaseAlphabet=function(){for(var e=0;e<this.listCase.length;e++){var t=this.listCase[e];if(h("GetSwitchCaseAlphabet:"+t.index+":"+e+":"+t.state+":"+t.spriteCase.node.active),1==t.spriteCase.node.active&&t.state==E.Close_Deactive)return h("GetSwitchCaseAlphabet ne:"+t.index),C.CASE_NAMES[t.index].toLocaleLowerCase()}return""},s.UpdatePickedCase=function(e){null!=e&&(this.listCase.map((function(t,a){a==S.Instance.GetIndexByCaseAlplaBet(e.caseAlphabet)&&t.Hide()})),this.txtKeepCase.string=e.caseAlphabet.toUpperCase())},s.UpdateStateCases=function(){var e=this,t=this.data.cases;null!=t&&(t.map((function(t,a){e.listCase[S.Instance.GetIndexByCaseAlplaBet(t.caseAlphabet)].UpdateState(t)})),this.UpdatePercentVote(t))},s.UpdateHighLightVoted=function(e){var t=this;null!=e&&e.map((function(e,a){var i=t.listCase[S.Instance.GetIndexByCaseAlplaBet(e)];i.state!=E.Open_Active&&i.UpdateSprite(E.Close_Select)}))},s.UpdateCases=function(e){for(var t=this,a=0,i=0;i<e.length;i++)null!=e[i].removedVoteCount?a+=e[i].removedVoteCount:a+=e[i].voteCount;e.map((function(e,i){var n=t.listCase[S.Instance.GetIndexByCaseAlplaBet(e.caseAlphabet.toUpperCase())];null!=e.removedVoteCount?n.UpdatePercentVote(e.removedVoteCount,a):n.UpdatePercentVote(e.voteCount,a)}))},s.UpdateRemainingCases=function(e){},s.UpdateRemovedCases=function(e){null!=e&&this.listCase.map((function(t,a){var i=e.find((function(e){return S.Instance.GetIndexByCaseAlplaBet(e.caseAlphabet)==a}));null!=i&&t.ShowCaseNumber(i.caseNumber)}))},s.ChoseCaseToKeep=function(e){e==this.caseAlphabet&&(e=""),this.caseAlphabet=e,this.listCase.map((function(t,a){a==S.Instance.GetIndexByCaseAlplaBet(e)?t.UpdateSprite(E.Close_Select):t.UpdateSprite(E.Close_Deactive)})),""!=this.caseAlphabet?this.btnConfirm.spriteFrame=this.spriteConfirmActive:this.btnConfirm.spriteFrame=this.spriteConfirmDeactive,this.UpdateButtonConfirm()},s.ChoseCaseToRemove=function(e){var t=C.NUMBER_OF_CASES_TO_REMOVE[S.Instance.GetState()],a=this.caseAlphabets.indexOf(e),i=S.Instance.GetIndexByCaseAlplaBet(e);if(-1==a){if(this.caseAlphabets.length==t)return;this.caseAlphabets.push(e),this.listCase[i].UpdateSprite(E.Close_Select)}else this.caseAlphabets.splice(a,1),this.listCase[i].UpdateSprite(E.Close_Deactive);this.UpdateButtonConfirm()},s.HidePercentVote=function(){this.listCase.map((function(e,t){e.SetActivePercentVote(!1)}))},s.UpdateUnSelectCases=function(){this.listCase.map((function(e,t){e.state==E.Close_Select&&e.UpdateSprite(E.Close_Deactive)}))},s.UpdateTxtWaiting=function(){if(1!=S.Instance.IsViewer())switch(S.Instance.GetState()){case C.GAME_STATE.BETTING_PHASE:S.Instance.GetBettingAmount()>0?this.txtWaiting.active=!0:this.txtWaiting.active=!1;break;case C.GAME_STATE.VOTING_SECOND_PHASE:case C.GAME_STATE.VOTING_THIRD_PHASE:case C.GAME_STATE.VOTING_FOURTH_PHASE:case C.GAME_STATE.VOTING_LAST_PHASE:S.Instance.isVotedRemove?this.txtWaiting.active=!0:this.txtWaiting.active=!1;break;default:this.txtWaiting.active=!1}else this.txtWaiting.active=!1},s.SetWaitingOtherPlayer=function(){this.txtWaiting.active=!0},s.UpdateState=function(e){switch(this.caseAlphabet="",this.data=e,this.title.string=C.GAME_STATE_NAME[e.state],this.HidePercentVote(),this.ResetVote(),this.UpdateButtonConfirm(),this.UpdateStateCases(),this.UpdateUnSelectCases(),this.UpdateHighestVotedCase(),this.UpdateTxtWaiting(),e.state){case C.GAME_STATE.RESTING_PHASE:case C.GAME_STATE.BETTING_PHASE:this.node.active=!0,this.blockNode.active=!0,this.listCase.map((function(e,t){e.Show()})),this.UpdateSpriteCases(E.Close_Lock);break;case C.GAME_STATE.VOTING_PHASE:this.node.active=!0,this.blockNode.active=!1,this.listCase.map((function(e,t){e.Show()})),this.UpdateSpriteCases(E.Close_Deactive),this.UpdatePercentVote(e.cases);break;default:this.node.active=!0,this.blockNode.active=!1,this.UpdatePercentVote(e.cases)}},s.UpdatePercentVote=function(e){if(null!=e&&0!=e.length){var t=0;if(S.Instance.GetState()==C.GAME_STATE.VOTING_PHASE){for(var a=0;a<e.length;a++)0==e[a].isRemoved&&(t+=e[a].voteCount);for(var i=0;i<e.length;i++){var n=S.Instance.GetIndexByCaseAlplaBet(e[i].caseAlphabet);this.listCase[n].UpdatePercentVote(e[i].voteCount,t)}}else{for(var s=0;s<e.length;s++)0==e[s].isRemoved&&(t+=e[s].removedVoteCount);for(var o=0;o<e.length;o++){var r=S.Instance.GetIndexByCaseAlplaBet(e[o].caseAlphabet);this.listCase[r].UpdatePercentVote(e[o].removedVoteCount,t)}}}},s.UpdateHighestVotedCase=function(){var e=S.Instance.GetHighestVotedCase();if(e>=0)switch(this.listCase[e].Hide(),this.data.state){case C.GAME_STATE.RESTING_PHASE:case C.GAME_STATE.BETTING_PHASE:case C.GAME_STATE.VOTING_PHASE:this.boxKeepCase.active=!1;break;case C.GAME_STATE.VOTING_SECOND_PHASE:case C.GAME_STATE.VOTING_THIRD_PHASE:case C.GAME_STATE.VOTING_FOURTH_PHASE:case C.GAME_STATE.VOTING_LAST_PHASE:this.boxKeepCase.active=!1,S.Instance.IsViewer()&&(this.boxKeepCase.active=!0,this.txtKeepCase.string=C.CASE_NAMES[S.Instance.GetHighestVotedCase()]);break;default:this.boxKeepCase.active=!0,this.txtKeepCase.string=C.CASE_NAMES[S.Instance.GetHighestVotedCase()]}else this.boxKeepCase.active=!1},s.UpdateButtonConfirm=function(){if(null!=this.data)switch(this.data.state){case C.GAME_STATE.RESTING_PHASE:case C.GAME_STATE.BETTING_PHASE:case C.GAME_STATE.VOTING_RESULT:this.btnConfirm.node.active=!1;break;case C.GAME_STATE.DEAL_FIRST_PHASE:case C.GAME_STATE.DEAL_SECOND_PHASE:case C.GAME_STATE.DEAL_THIRD_PHASE:case C.GAME_STATE.DEAL_FOURTH_PHASE:case C.GAME_STATE.DEAL_LAST_PHASE:this.btnConfirm.node.active=!1,this.boxKeepCase.active=!0;break;default:S.Instance.IsViewer()||S.Instance.isVotedRemove?(this.btnConfirm.node.active=!1,this.boxKeepCase.active=!0):(this.btnConfirm.node.active=!0,0==this.CheckCanConfirm()?this.btnConfirm.spriteFrame=this.spriteConfirmDeactive:this.btnConfirm.spriteFrame=this.spriteConfirmActive)}else this.btnConfirm.node.active=!1},s.CheckCanConfirm=function(){var e=S.Instance.GetState();return e==C.GAME_STATE.VOTING_PHASE?""!=this.caseAlphabet:(e==C.GAME_STATE.VOTING_SECOND_PHASE||e==C.GAME_STATE.VOTING_THIRD_PHASE||e==C.GAME_STATE.VOTING_FOURTH_PHASE||e==C.GAME_STATE.VOTING_LAST_PHASE)&&C.NUMBER_OF_CASES_TO_REMOVE[e]==this.caseAlphabets.length},s.UpdateSpriteCases=function(e){this.listCase.map((function(t,a){t.UpdateSprite(e)}))},s.GetCaseAvailable=function(){return this.listCase.filter((function(e,t){return e.state==E.Close_Deactive&&e.index!=S.Instance.GetHighestVotedCase()}))},s.OnBtnConfirm=function(){0!=S.Instance.CanVoting()&&(S.Instance.IsViewer()||0!=this.CheckCanConfirm()&&(S.Instance.GetState()==C.GAME_STATE.VOTING_PHASE&&S.Instance.isVoted||1!=S.Instance.isVotedRemove&&(this.btnConfirm.node.active=!1,S.Instance.isVotedRemove=!0,S.Instance.isVoted=!0,this.UpdateTxtWaiting(),S.Instance.GetState()==C.GAME_STATE.VOTING_PHASE?(d.VoteKeepCase(this.caseAlphabet),S.Instance.panelVoteCases.SetWaitingOtherPlayer()):d.VoteRemoveCase(this.caseAlphabets))))},t}(A)).prototype,"txtWaiting",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(N.prototype,"title",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(N.prototype,"blockNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(N.prototype,"layout",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(N.prototype,"btnConfirm",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(N.prototype,"spriteConfirmActive",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(N.prototype,"spriteConfirmDeactive",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(N.prototype,"boxKeepCase",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(N.prototype,"txtKeepCase",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(N.prototype,"listCase",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=N))||U));s._RF.pop()}}}));

System.register("chunks:///_virtual/PanelDond_Waiting.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dealOrNoDealConfig.ts","./UserModel.ts"],(function(t){"use strict";var e,n,i,a,o,r,s,l,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,s=t.Label,l=t.Component},function(t){u=t.dealOrNoDealConfig},function(t){c=t.UserModel}],execute:function(){var d,h,p,f,D;o._RF.push({},"0a43fH0ahtI+5hE+Xk60SY9","PanelDond_Waiting",void 0);var g=r.ccclass,v=r.property;t("PanelDond_Waiting",(d=g("PanelDond_Waiting"),h=v(s),d((D=e((f=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,i(e,"txtCountDown",D,a(e)),e.data=null,e}n(e,t);var o=e.prototype;return o.Show=function(){this.node.active||(this.node.active=!0)},o.Hide=function(){this.node.active&&(this.node.active=!1)},o.UpdateState=function(t){switch(this.data=t,t.state){case u.GAME_STATE.RESTING_PHASE:this.Show(),this.updateCountDown(),this.unscheduleAllCallbacks(),this.schedule(this.updateCountDown.bind(this),1);break;default:this.Hide()}},o.updateCountDown=function(){var t=(new Date(this.data.phaseEndAt).getTime()-c.serverTime)/1e3;t<=0&&(t=0),this.txtCountDown.string="WAITING... "+parseInt(t+"")},e}(l)).prototype,"txtCountDown",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/PanelDond_YourBet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SocketDealOrNoDealHandler.ts","./dealOrNoDealConfig.ts","./DealOrNoDealMiniGame.ts","./UserModel.ts"],(function(t){"use strict";var e,i,n,r,o,a,s,u,l,c,p,f,m,d,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Node,u=t.Sprite,l=t.SpriteFrame,c=t.Button,p=t.Component},function(t){f=t.SocketDealOrNoDealHandler},function(t){m=t.dealOrNoDealConfig},function(t){d=t.DealOrNoDealMiniGame},function(t){h=t.UserModel}],execute:function(){var b,B,C,A,v,D,T,g,_,y,E,L,S,N,G,I,P,U,O;o._RF.push({},"3c688iLmCtAHJ4DazbmNyZT","PanelDond_YourBet",void 0);var w=a.ccclass,F=a.property;t("PanelDond_YourBet",(b=w("PanelDond_YourBet"),B=F(s),C=F(u),A=F(l),v=F(l),D=F(s),T=F([l]),g=F([l]),_=F([c]),b((L=e((E=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"nodePoint",L,r(e)),n(e,"btnConfirm",S,r(e)),n(e,"spriteConfirmActive",N,r(e)),n(e,"spriteConfirmDeactive",G,r(e)),n(e,"layout",I,r(e)),n(e,"spriteFrameListActive",P,r(e)),n(e,"spriteFrameListDeActive",U,r(e)),n(e,"buttonBetList",O,r(e)),e.amountCurrent=0,e.data=null,e.canClickConfirm=!1,e}i(e,t);var o=e.prototype;return o.Show=function(){this.node.active||(this.node.active=!0),this.UpdateBtnConfirm(!1)},o.Hide=function(){this.node.active&&(this.node.active=!1)},o.UpdateState=function(t){switch(this.data=t,t.state){case m.GAME_STATE.BETTING_PHASE:case m.GAME_STATE.VOTING_PHASE:d.Instance.GetBettingAmount()<=0?(this.Show(),this.UpdateButtonBet()):this.Hide();break;default:this.Hide()}},o.UpdateButtonBet=function(t){void 0===t&&(t=-1),this.UpdateBtnConfirm(!1);for(var e=0;e<this.buttonBetList.length;e++){m.VALID_BETTING_AMOUNT[e]<=h.LE?this.buttonBetList[e].getComponent(u).spriteFrame=this.spriteFrameListActive[e]:this.buttonBetList[e].getComponent(u).spriteFrame=this.spriteFrameListDeActive[e]}t>=0&&(this.UpdateBtnConfirm(!0),this.nodePoint.active=!0,this.nodePoint.position=this.buttonBetList[t].node.position)},o.UpdateBtnConfirm=function(t){this.canClickConfirm=t,this.btnConfirm.spriteFrame=1==t?this.spriteConfirmActive:this.spriteConfirmDeactive},o.OnBtnChoseBet=function(t,e){if(d.Instance.GetState()==m.GAME_STATE.BETTING_PHASE){var i=JSON.parse(e);if(this.amountCurrent=i,!(this.amountCurrent>h.LE)){var n=m.VALID_BETTING_AMOUNT.indexOf(i);this.UpdateButtonBet(n)}}},o.OnBtnConfirmBet=function(){0!=this.canClickConfirm&&d.Instance.GetState()==m.GAME_STATE.BETTING_PHASE&&0!=this.amountCurrent&&(f.Bet(this.amountCurrent),d.Instance.UpdateBettingAmount(this.amountCurrent),d.Instance.panelVoteCases.UpdateTxtWaiting())},e}(p)).prototype,"nodePoint",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(E.prototype,"btnConfirm",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(E.prototype,"spriteConfirmActive",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(E.prototype,"spriteConfirmDeactive",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(E.prototype,"layout",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(E.prototype,"spriteFrameListActive",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=e(E.prototype,"spriteFrameListDeActive",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=e(E.prototype,"buttonBetList",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=E))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/ParticlePlayHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,l,a,n,c,o,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){a=e.cclegacy,n=e._decorator,c=e.CCBoolean,o=e.ParticleSystem,p=e.Component}],execute:function(){var s,u,y,h,f;a._RF.push({},"4026bc2gHlCz6c6pJFsh8Jj","ParticlePlayHelper",void 0);var P=n.ccclass,b=n.property;e("ParticlePlayHelper",(s=P("ParticlePlayHelper"),u=b(c),s((f=t((h=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(t=e.call.apply(e,[this].concat(a))||this).particle=void 0,i(t,"playOnEnable",f,l(t)),t}return r(t,e),t.prototype.onEnable=function(){this.playOnEnable&&(null==this.particle&&(this.particle=this.getComponent(o)),null!=this.particle&&(this.particle.stop(),this.particle.clear(),this.particle.play()))},t}(p)).prototype,"playOnEnable",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),y=h))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/PlantSlot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConfigGame.ts","./UserModel.ts","./ResourcesManager.ts","./ResHttp.ts","./ConfigApi.ts","./UIPopupManager.ts","./PrefabController.ts","./Utility.ts","./AutoReturnPrefab.ts"],(function(t){"use strict";var e,i,n,a,o,r,s,l,c,u,f,h,p,d,S,m,g,b,I,y,v,_,w,k,P,Z,D,A,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,s=t.Sprite,l=t.Node,c=t.Label,u=t.sp,f=t.SpriteFrame,h=t.v3,p=t.v2,d=t.Vec2,S=t.sys,m=t.ParticleSystem,g=t.Component},function(t){b=t.EnumPlantSlotStage,I=t.ConfigGame},function(t){y=t.UserModel,v=t.FarmWorldState},function(t){_=t.ResourcesManager},function(t){w=t.ResHttp},function(t){k=t.ConfigApi},function(t){P=t.UIPopupManager},function(t){Z=t.PrefabEnum,D=t.PrefabController},function(t){A=t.Utility},function(t){T=t.AutoReturnPrefab}],execute:function(){var U,B,F,E,H,C,M,N,L,z,O,G,x,q,R,V,W,X,K,Y,$,j,J,Q,tt,et,it,nt,at,ot,rt,st,lt;t("PlantAnimName",void 0),o._RF.push({},"af7df+3gZVAS5duuVtHcCmk","PlantSlot",void 0);var ct,ut=r.ccclass,ft=r.property;t("PlantSlot",(U=ut("PlantSlot"),B=ft(s),F=ft(l),E=ft(c),H=ft(s),C=ft(l),M=ft({type:u.Skeleton}),N=ft(l),L=ft(l),z=ft(l),O=ft(s),G=ft(s),x=ft(f),q=ft(l),R=ft(l),V=ft(l),U((K=e((X=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"baseSprite",K,a(e)),n(e,"myDecorHighlight",Y,a(e)),n(e,"TimeHarvestLabel",$,a(e)),n(e,"decorSprite",j,a(e)),n(e,"plantSpineHolder",J,a(e)),n(e,"plantSpine",Q,a(e)),n(e,"selectNode",tt,a(e)),n(e,"skillzoneNode",et,a(e)),n(e,"abilityZoneNode",it,a(e)),n(e,"shadow",nt,a(e)),n(e,"crowSprite",at,a(e)),n(e,"crowSpriteFrame",ot,a(e)),n(e,"crow_good",rt,a(e)),n(e,"water",st,a(e)),n(e,"harvest",lt,a(e)),e.isAirDrop=!1,e.farmUI=void 0,e._d=void 0,e.enumPlantSlotState=void 0,e.yourbid=0,e.tempData=null,e.tempBuffOut=[],e.tempAbilityOut=[],e.tempSelectFaction=1,e.isMotherTreeSlot=void 0,e.config=void 0,e.buffIn=[],e.buffOut=[],e.abilityBuffIn=[],e.abilityBuffOut=[],e.ssSuportEffect=0,e.ssSabotageEffect=0,e}i(e,t);var o=e.prototype;return o.Init=function(t,e){this.farmUI=t},o.fillData=function(t,e,i){if(void 0===i&&(i=!1),this._d=t,this.yourbid=0,i&&this.ClearBuff(),this.decorSprite.node.active=!1,this.plantSpine.node.active=!1,this.shadow.node.active=!1,t.actionInfos.isHaveCrow?(this.crowSprite.node.active=!0,this.crowSprite.spriteFrame=this.crowSpriteFrame[0]):this.crowSprite.node.active=!1,this.water.active=t.actionInfos.isNeedWater,null!=t.decoEffects&&null!=t.decoEffects.isGoodCrow&&1==t.decoEffects.isGoodCrow?this.crow_good.active=!0:this.crow_good.active=!1,this.TimeHarvestLabel.node.parent.active=!1,this.myDecorHighlight.active=!1,this.harvest.active=!1,this.isAirDrop=!1,0==t.type)this.isMotherTreeSlot=!1,this.shadow.spriteFrame=this.farmUI.plantSlotShadows[0],this.enumPlantSlotState=b.decor,null!=t.decInfos&&(this.config=this.farmUI.GetConfigByDecorId(t.decInfos.uniqueId.toString()),this.ShowDecorImage(this.config.name,null),this.myDecorHighlight.active=t.decInfos.ownerId==y.ownerId);else if(1==t.type){var n=t.harvestTime-y.serverTime;if(n=Math.max(n,0),t.ownerId==y.ownerId&&null!=t.plantInfos.uniqueId&&(!this.water.active&&n<=0?this.harvest.active=!0:(n<=I.ShowPlantHarvestTimer&&(this.TimeHarvestLabel.node.parent.active=!0,this.TimeHarvestLabel.string=Math.floor(n/6e4)+"m"),null!=t.airDropLeAmount&&y.farmWorldInfo.isAirDropTime&&(this.harvest.active=!this.water.active&&t.airDropLeAmount>0,this.harvest.active&&(this.isAirDrop=!0)))),this.shadow.spriteFrame=this.farmUI.plantSlotShadows[1],this.isMotherTreeSlot=this._d.location[0]==I.MotherTreeSlot.x&&this._d.location[1]==I.MotherTreeSlot.y,null!=t.plantInfos.uniqueId){this.config=this.farmUI.GetConfigByPlantId(t.plantInfos.plantId.toString(),t.plantInfos.origin,t.plantInfos.faction);var a=ct.Idle;(n<=0||null!=t.airDropLeAmount&&t.airDropLeAmount>0)&&(a=ct.Full),2==this.config.plant.type?this.ShowPlantSpine(this.config.name,null,a):this.ShowPlantSpine(this.config.name+t.stage,null,a)}if(e==v.BIDDING){var o=!1;if(t.ownerId)t.ownerId&&(t.ownerId==y.ownerId?this.enumPlantSlotState=b.land_your:null!=t.plantInfos.uniqueId?this.enumPlantSlotState=b.land_other:this.enumPlantSlotState=b.bidEnd);else{o,t.prices.biddingUser.length>0?this.enumPlantSlotState=b.bidnow_havebid:this.enumPlantSlotState=b.bidNow;for(var r=0,s=!1,l=0;l<t.prices.biddingUser.length;l++){var c=t.prices.biddingUser[l].price;t.prices.biddingUser[l].userId==y.ownerId&&(this.enumPlantSlotState=b.bidding,this.yourbid=c,s=!0),c>r&&(r=c)}r>this.yourbid&&s&&(this.enumPlantSlotState=b.otherBidGreater)}}else e==v.DEMO?t.ownerId?t.ownerId==y.ownerId?this.enumPlantSlotState=b.land_your:null!=t.ownerId?this.enumPlantSlotState=b.land_other:this.enumPlantSlotState=b.bidDone:this.enumPlantSlotState=b.bidDone:e==v.PRE_BIDDING?this.enumPlantSlotState=b.bidDone:t.ownerId?t.ownerId&&(t.ownerId==y.ownerId?this.enumPlantSlotState=b.land_your:this.enumPlantSlotState=b.land_other):this.enumPlantSlotState=b.rentNow}this.enumPlantSlotState==b.decor?this.baseSprite.node.active=!1:(this.baseSprite.node.active=!0,this.baseSprite.spriteFrame=this.farmUI.plantSlotBaseSpriteFrames[this.enumPlantSlotState+(this.isMotherTreeSlot?b.__length:0)]),this.enumPlantSlotState==b.bidding?(this.selectNode.setPosition(h(-2,19,0)),this.skillzoneNode.setPosition(h(0,20,0)),this.abilityZoneNode.setPosition(h(0,20,0))):(this.selectNode.setPosition(h(-.5,1,0)),this.skillzoneNode.setPosition(h(0,0,0)),this.abilityZoneNode.setPosition(h(0,0,0)))},o.ClearBuff=function(){this.buffIn=[],this.buffOut=[],this.abilityBuffIn=[],this.abilityBuffOut=[]},o.ShowPlantSpine=function(t,e,i){var n=this;void 0===i&&(i=ct.Idle),this.tempData=e;_.Instance.LoadPlantSpines(t,(function(t){n.plantSpine.node.active=!0,n.shadow.node.active=!0,n.plantSpine.skeletonData=t,n.plantSpine.setAnimation(0,i,!0)})),this.callHighlightTempBuffAffect(),null!=e&&this.playActionFx(Z.VFX_Plant_Planted,this.node.worldPosition)},o.ShowDecorImage=function(t,e){var i=this;this.tempData=e;_.Instance.LoadDecor(t,(function(t){i.decorSprite.spriteFrame=t,i.decorSprite.node.active=!0,i.shadow.node.active=!0})),null!=e&&this.playActionFx(Z.VFX_Plant_Planted,this.node.worldPosition)},o.ClearTempImage=function(){null!=this.tempData&&(this.tempData=null,this.plantSpine.node.active=!1,this.decorSprite.node.active=!1,this.shadow.node.active=!1,this.HighlightTempBuffAffect(!1))},o.onClick=function(){this.farmUI.onSelectPlantSlot(this)},o.Select=function(t){this.selectNode.active=t,t?this.callHighlightTempBuffAffect():this.HighlightTempBuffAffect(!1)},o.HighlightSkillZone=function(t){this.skillzoneNode.active=t},o.HighlightAbilityZone=function(t){this.abilityZoneNode.active=t},o.HighlightBuffAffect=function(t){this.buffOut.forEach((function(e){e.HighlightSkillZone(t)})),this.abilityBuffOut.forEach((function(e){e.HighlightAbilityZone(t)}))},o.callHighlightTempBuffAffect=function(){if(null!=this.tempData&&2!=this.tempData.type){this.HighlightTempBuffAffect(!1);var t=this.farmUI.getTempBaseSynergyData();0==this.tempData.faction?this.tempBuffOut=this.getSkillZone(this.tempData.skillZoneId,this.farmUI.baseSynergyData,!1,this.tempData.faction):this.tempBuffOut=this.getSkillZone(this.tempData.skillZoneId,t,!1,this.tempData.faction),null!=this.tempData.fusedAbilityZone&&(this.tempAbilityOut=this.getAbilityZone(this.tempData.fusedAbilityZone.abilityZoneId,t,!1,this.tempData.faction)),this.HighlightTempBuffAffect(!0)}},o.HighlightTempBuffAffect=function(t){this.tempBuffOut.forEach((function(e){e.HighlightSkillZone(t)})),this.tempAbilityOut.forEach((function(e){e.HighlightAbilityZone(t)})),t||(this.tempBuffOut=[],this.tempAbilityOut=[])},o.isMotherTree=function(t){var e=!1;return null!=this.config&&null!=this.config.plant&&(e=2==this.config.plant.type),t&&null!=this.tempData&&null!=this.tempData.plantId&&(e=e||2==this.tempData.type),e},o.isActiveSkill=function(){return this.farmUI.buffSynergyData.data[this._d.plantInfos.faction]>=I.synBreakPoint[I.synBreakPoint.length-2]},o.ApplyBuff=function(){var t=this;null!=this._d.plantInfos.uniqueId&&null!=this.config&&2!=this.config.plant.type&&(this.getSkillZone(this.config.skillZone.skillZoneId,this.farmUI.baseSynergyData,!1,this._d.plantInfos.faction).forEach((function(e){e.buffIn.push(t),t.buffOut.push(e)})),null!=this.config.abilityZone&&this.getAbilityZone(this.config.abilityZone.abilityZoneId,this.farmUI.baseSynergyData,!1,this._d.plantInfos.faction).forEach((function(e){e.abilityBuffIn.push(t),t.abilityBuffOut.push(e)})))},o.getSkillZone=function(t,e,i,n){switch(t){case"01":return this.SkillZoneType1([p(1,0),p(-1,0)]);case"02":return this.SkillZoneType1([p(0,1),p(0,-1)]);case"07":return this.SkillZoneType1([p(1,1),p(-1,1),p(1,-1),p(-1,-1)]);case"08":return this.SkillZoneType1([p(1,0),p(2,0),p(-1,0),p(-2,0)]);case"09":return this.SkillZoneType1([p(0,1),p(0,2),p(0,-1),p(0,-2)]);case"13":return this.SkillZoneType1([p(0,1),p(0,-1),p(1,0),p(1,1),p(1,-1),p(-1,0),p(-1,1),p(-1,-1)]);case"03":return this.SkillZone_closestSame(n,i,2);case"04":return this.SkillZone04_010(e,i,2,9);case"05":return this.SkillZone_closestMost(e,i,2);case"06":return this.SkillZone06(e,i);case"10":return this.SkillZone04_010(e,i,4,6);case"11":return this.SkillZone011();case"12":return this.SkillZone012(e,i);default:return[]}},o.getAbilityZone=function(t,e,i,n){switch(t){case"11":return this.SkillZoneType1([p(-1,0)]);case"12":return this.SkillZoneType1([p(1,0)]);case"13":return this.SkillZoneType1([p(0,1)]);case"14":return this.SkillZoneType1([p(0,-1)]);case"15":return this.SkillZone_closestSame(n,i,1);case"16":return this.SkillZone_closestMost(e,i,1);case"21":return this.SkillZoneType1([p(1,0),p(-1,0)]);case"22":return this.SkillZoneType1([p(0,1),p(0,-1)]);case"23":return this.SkillZoneType1([p(-1,1),p(1,-1)]);case"24":return this.SkillZoneType1([p(1,1),p(-1,-1)]);case"25":return this.SkillZone_closestMost(e,i,2);case"26":return this.SkillZone_closestSame(n,i,2);case"31":return this.SkillZoneType1([p(1,1),p(-1,1),p(1,-1),p(-1,-1)]);case"32":return this.SkillZoneType1([p(1,0),p(2,0),p(-1,0),p(-2,0)]);case"33":return this.SkillZoneType1([p(0,1),p(0,2),p(0,-1),p(0,-2)]);case"34":return this.SkillZone_closestMost(e,i,4);case"35":return this.SkillZone_closestSame(n,i,4);case"41":return this.SkillZoneType1([p(1,0),p(2,0),p(-1,0),p(-2,0),p(0,1),p(0,2),p(0,-1),p(0,-2)]);case"42":return this.SkillZoneType1([p(1,1),p(-1,1),p(1,-1),p(-1,-1),p(2,2),p(-2,2),p(2,-2),p(-2,-2)]);case"43":return this.SkillZoneType1([p(0,1),p(0,-1),p(1,0),p(1,1),p(1,-1),p(-1,0),p(-1,1),p(-1,-1)]);case"44":return this.SkillZone_closestMost(e,i,8);case"45":return this.SkillZone_closestSame(n,i,8);default:return[]}},o.SkillZoneType1=function(t){var e=this,i=[];return t.forEach((function(t){var n=e._d.location[0]+t.x,a=e._d.location[1]+t.y;n>=0&&n<I.FarmLandSize&&a>=0&&a<I.FarmLandSize&&i.push(e.farmUI.plantSlots[e.farmUI.SlotLocationToIndex(n,a)])})),i},o.SkillZone_closestSame=function(t,e,i){var n=[],a=[];a.push(this);for(var o=function(i){return null!=i._d.plantInfos.uniqueId&&!i.isMotherTree(e)&&i._d.plantInfos.faction==t},r=0;r<i;r++){var s=this.GetClosest(a,o);if(null==s)return n;a.push(s),n.push(s)}return n},o.SkillZone04_010=function(t,e,i,n){var a=[],o=[];o.push(this);for(var r=function(i){return null!=i._d.plantInfos.uniqueId&&!i.isMotherTree(e)&&t.data[i._d.plantInfos.faction]>=n},s=0;s<i;s++){var l=this.GetClosest(o,r);if(null==l)return a;o.push(l),a.push(l)}return a},o.SkillZone_closestMost=function(t,e,i){var n=[],a=[];a.push(this);for(var o=t.data[1],r=2;r<=9;r++){var s=r.toString();o<t.data[s]&&(o=t.data[s])}for(var l=function(i){return null!=i._d.plantInfos.uniqueId&&!i.isMotherTree(e)&&t.data[i._d.plantInfos.faction]==o},c=0;c<i;c++){var u=this.GetClosest(a,l);if(null==u)return n;a.push(u),n.push(u)}return n},o.SkillZone06=function(t,e){var i=[],n=[];n.push(this);for(var a=0,o=1;o<=9;o++){var r=o.toString();t.data[r]>0&&(a>t.data[r]||a<=0)&&(a=t.data[r])}for(var s=function(i){return null!=i._d.plantInfos.uniqueId&&!i.isMotherTree(e)&&t.data[i._d.plantInfos.faction]==a},l=0;l<2;l++){var c=this.GetClosest(n,s);if(null==c)return i;n.push(c),i.push(c)}return i},o.SkillZone011=function(){var t=this,e=[];return this.farmUI.plantSlots.forEach((function(i){i!=t&&e.push(i)})),e},o.SkillZone012=function(t,e){var i=this,n=[];return this.farmUI.plantSlots.forEach((function(a){a!=i&&!a.isMotherTree(e)&&null!=a._d.plantInfos.uniqueId&&t.data[a._d.plantInfos.faction]>=3&&n.push(a)})),n},o.GetClosest=function(t,e){for(var i=0,n=p(this._d.location[0],this._d.location[1]),a=null,o=0;o<I.FarmLandSize;o++)for(var r=0;r<I.FarmLandSize;r++){var s=this.farmUI.plantSlots[this.farmUI.SlotLocationToIndex(o,r)],l=d.distance(n,p(o,r));-1==t.findIndex((function(t){return t==s}))&&e(s)&&(null==a||i>l)&&(a=s,i=l)}return a},o.GetSynergyBuff=function(){var t=this,e=0;if(null==this._d.plantInfos.faction||null==this.config)return e;if(2==this.config.plant.type)return e;var i=function(e,i){void 0===i&&(i=1);var n=t.SkillZoneType1([p(0,1),p(0,-1),p(1,0),p(1,1),p(1,-1),p(-1,0),p(-1,1),p(-1,-1)]),a=0;return n.forEach((function(e){null!=e._d.plantInfos.faction&&e._d.plantInfos.faction==t._d.plantInfos.faction&&a++})),a>=e?i:0};return this.buffIn.forEach((function(t){if(t.isActiveSkill())switch(t.config.skill.skillId){case"25":e+=i(6);break;case"50":e+=i(5);break;case"69":e+=i(4)}})),e},o.GetLEBuff=function(){for(var t=this,e=0,i=I.PlantLEBuffCap,n=0,a=1;a<10;a++)this.farmUI.buffSynergyData.data[a]>=I.synBreakPoint[I.synBreakPoint.length-2]&&n++;var o=this.farmUI.buffSynergyData.data[this._d.plantInfos.faction],r=0;this.farmUI.plantSlots.forEach((function(t){null==t._d.plantInfos.plantId||t.isMotherTree(!1)||r++}));var s=function(t,e){return t*e};this.buffIn.forEach((function(a){if(a.isActiveSkill()){var o=I.getSynEffect(t.farmUI.buffSynergyData.data[a._d.plantInfos.faction]);switch(a.config.skill.skillId){case"01":e+=s(.06,o);break;case"02":e+=s(.08,o);break;case"03":e+=s(.1,o);break;case"22":e+=s(.0025*n,o);break;case"23":e+=s(.005*n,o);break;case"24":e+=s(.0075*n,o);break;case"26":e+=s(.11,o);break;case"27":e+=s(.13,o);break;case"28":e+=s(.15,o);break;case"38":e+=s(.01*n,o);break;case"39":e+=s(.0125*n,o);break;case"40":e+=s(.015*n,o);break;case"51":e+=s(.16,o);break;case"52":e+=s(.18,o);break;case"53":e+=s(.2,o);break;case"71":e+=s(.02*r,1),i=1.3}}})),this._d.currentEffects.forEach((function(t){"2"==t.plantUniqueId.toString().slice(0,1)&&(e+=I.MotherTreeBuff[t.skillId].effect)}));var l=function(t){switch(t){case"102":return s(.003*o,1);case"202":return s(.004*o,1);case"302":return s(.006*o,1);case"402":return s(.008*o,1);case"106":return s(.002*r,1);case"206":return s(.003*r,1);case"306":return s(.004*r,1);case"406":return s(.005*r,1);default:return 0}};null!=this.config.ability&&(e+=l(this.config.ability.abilityId)),this.abilityBuffIn.forEach((function(t){t.isActiveSkill()&&(e+=l(t.config.ability.abilityId))})),this.ssSuportEffect=0,this.ssSabotageEffect=0,y.currentLandData.decoStatus.effects.forEach((function(i){switch(i.id){case 104:case 203:case 303:i.faction==t._d.plantInfos.faction&&(e+=i.$incFarmingPerformance);break;case 202:case 302:case 403:e+=i.$incFarmingPerformance;break;case 204:t.ssSabotageEffect+=i.percent;break;case 205:t.ssSuportEffect+=i.percent}})),this.ssSabotageEffect>1&&(this.ssSabotageEffect=1);var c=y.GetFarmWorldState();return this.config.seasonSupport.season==v[c].toString()&&(e+=this.config.seasonSupport.value*(1+this.ssSuportEffect)),this.config.seasonSabotage.season==v[c].toString()&&(e-=this.config.seasonSabotage.value*(1-this.ssSabotageEffect)),Math.min(e,i)},o.onWater=function(){var t=this;if(y.Watering<=0)P.Instance.ShowToast("Error","You don't have enough tools to water.",0);else{this.playActionFx(Z.VFX_Plant_Watering,this.node.worldPosition);var e={slotId:this._d._id};w.PostRequest(k.LINK_API+k.farms_water_plant,e,(function(e){t.farmUI.FarmAction(e),y.Watering-=1}),(function(e){t.farmUI.UpdateData()}))}},o.onChaseCrow=function(){var t=this;if(this.enumPlantSlotState!=b.decor)if(y.ScareCrow<=0)P.Instance.ShowToast("Error","You don't have enough tools to chase crows.",0);else{this.playActionFx(Z.VFX_Crowd_Banish,this.crowSprite.node.worldPosition);var e={slotId:this._d._id};w.PostRequest(k.LINK_API+k.farms_chase_crow,e,(function(e){t.farmUI.FarmAction(e),y.ScareCrow-=1}),(function(e){t.farmUI.UpdateData()}))}else this.playActionFx(Z.VFX_Crowd_Banish,this.crowSprite.node.worldPosition)},o.onChaseGoodCrow=function(){var t=this;this.playActionFx(Z.VFX_Crowd_Banish,this.crow_good.worldPosition);var e={slotId:this._d._id};w.PostRequest(k.LINK_API+k.farms_chase_good_crow,e,(function(e){t.farmUI.FarmAction(e)}),(function(e){t.farmUI.UpdateData()}))},o.onHarvest=function(){var t=this;this.playActionFx(Z.Fx_Ui_Farm_LE_Harvest,this.node.worldPosition);var e={slotIds:[this._d._id]},i=k.LINK_API+k.farms_harvest_plant;this.isAirDrop&&(i=k.LINK_API+k.farms_earn_air_drop),w.PostRequest(i,e,(function(e){t.farmUI.FarmAction(e,!0)}),(function(e){t.farmUI.UpdateData()}))},o.playActionFx=function(t,e){var i=D.Instance.GetPrefab(t);if(i.setWorldPosition(e),A.PlayParticle(i),S.os==S.OS.ANDROID&&S.isNative){var n=i.getComponent(T);if(null==n){n=i.addComponent(T);var a=i.getComponentInChildren(m);n.time=null!=a?a.duration:3}n.setReturn(t)}},o.HighlightPlantSpine=function(t){t?this.plantSpine.node.setParent(P.Instance.HighlightNode,!0):(this.plantSpine.node.setParent(this.plantSpineHolder,!0),this.plantSpine.node.setScale(h(.5,.5,1)),this.plantSpine.node.setPosition(h(.45,-4,0)))},e}(g)).prototype,"baseSprite",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=e(X.prototype,"myDecorHighlight",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=e(X.prototype,"TimeHarvestLabel",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(X.prototype,"decorSprite",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(X.prototype,"plantSpineHolder",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(X.prototype,"plantSpine",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=e(X.prototype,"selectNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=e(X.prototype,"skillzoneNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=e(X.prototype,"abilityZoneNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=e(X.prototype,"shadow",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=e(X.prototype,"crowSprite",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=e(X.prototype,"crowSpriteFrame",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),rt=e(X.prototype,"crow_good",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=e(X.prototype,"water",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=e(X.prototype,"harvest",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=X))||W));!function(t){t.Idle="idle",t.Full="full"}(ct||(ct=t("PlantAnimName",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/PopUpBase.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,a,c,o,l,n,s,r,d,p,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,c=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,n=t.Node,s=t.UIOpacity,r=t.CCInteger,d=t.tween,p=t.v3,u=t.Component}],execute:function(){var h,f,y,v,O,S,U,b,I;o._RF.push({},"47323uU4LdP+IOU3dOf1HDR","PopUpBase",void 0);var N=l.ccclass,C=l.property;t("PopUpBase",(h=N("PopUpBase"),f=C(n),y=C(s),v=C(r),h((U=e((S=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,a(e,"ScaleNode",U,c(e)),a(e,"fadeUIOpacity",b,c(e)),a(e,"order",I,c(e)),e.cbHide=null,e}i(e,t);var o=e.prototype;return o.OnShow=function(t){var e=this;void 0===t&&(t=null),this.node.active?(this.ScaleNode&&this.ScaleNode.setScale(1,1,1),this.fadeUIOpacity&&(this.fadeUIOpacity.opacity=255),this.CallAction(t)):(this.node.active=!0,this.ScaleNode&&(this.ScaleNode.setScale(.5,.5,.5),d(this.ScaleNode).to(.3,{scale:p(1,1,1)},{easing:"backOut"}).call((function(){e.CallAction(t)})).start()),this.fadeUIOpacity&&(this.fadeUIOpacity.opacity=0,d(this.fadeUIOpacity).to(.2,{opacity:255}).call((function(){e.ScaleNode||e.CallAction(t)})).start()),this.ScaleNode||this.fadeUIOpacity||this.CallAction(t))},o.OnHide=function(t,e){var i,a=this;void 0===t&&(t=null),this.node.active&&(this.ScaleNode&&d(this.ScaleNode).to(.3,{scale:p(.5,.5,.5)},{easing:"circOut"}).call((function(){a.node.active=!1,a.CallAction(t)})).start(),this.fadeUIOpacity&&d(this.fadeUIOpacity).to(.2,{opacity:0}).call((function(){a.ScaleNode||(a.node.active=!1,a.CallAction(t))})).start(),this.ScaleNode||this.fadeUIOpacity||(this.node.active=!1,this.CallAction(t)),null==(i=this.cbHide)||i.call(this),this.cbHide=null)},o.CallAction=function(t){t&&t()},o.SetCallbackHide=function(t){this.cbHide=t},e}(u)).prototype,"ScaleNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=e(S.prototype,"fadeUIOpacity",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(S.prototype,"order",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=S))||O));o._RF.pop()}}}));

System.register("chunks:///_virtual/PopupChoseNumbers.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIItemChoseNumber.ts","./Utility.ts","./UIItemNumberLottery.ts"],(function(t){"use strict";var e,i,n,s,r,o,u,h,a,b,c,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,u=t.Node,h=t.instantiate,a=t.Component},function(t){b=t.UIItemChoseNumber},function(t){c=t.Utility},function(t){m=t.UIItemNumberLottery}],execute:function(){var l,p,f,C,g,v,I,d,L,y,N,U,A;r._RF.push({},"83ae3CsX/BNaJg53FBbcFv+","PopupChoseNumbers",void 0);var B=o.ccclass,R=o.property;t("PopupChoseNumbers",(l=B("PopupChoseNumbers"),p=R(u),f=R(u),C=R(u),g=R(u),v=R([m]),l((L=e((d=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,n(e,"contentItem",L,s(e)),n(e,"prefabItem",y,s(e)),n(e,"btnConfirmUnActive",N,s(e)),n(e,"btnConfirmActive",U,s(e)),n(e,"uiItemNumberList",A,s(e)),e.isInited=!1,e.numberChosingList=[],e.cbSuccess=null,e.tabBuy=void 0,e}i(e,t);var r=e.prototype;return r.Show=function(t,e){this.tabBuy=e,this.cbSuccess=t,this.node.active=!0,0==this.isInited&&(this.isInited=!0,this.Init()),this.Reset()},r.Init=function(){for(var t=0;t<60;t++){var e=h(this.prefabItem);e.parent=this.contentItem,e.getComponent(b).Init(t+1,this)}},r.Hide=function(){this.node.active=!1},r.Reset=function(){for(var t=0;t<this.numberChosingList.length;t++)this.numberChosingList[t].UnChose(!1);this.numberChosingList=[],this.UpdateNumberChosing()},r.AddNumber=function(t){this.numberChosingList.push(t),this.UpdateNumberChosing()},r.RemoveNumber=function(t){for(var e=0;e<this.numberChosingList.length;e++)if(this.numberChosingList[e].number==t.number){this.numberChosingList.splice(e,1);break}this.UpdateNumberChosing()},r.UpdateNumberChosing=function(){for(var t=[],e=0;e<this.numberChosingList.length;e++)t.push(this.numberChosingList[e].number);t=t.sort((function(t,e){return t-e}));for(var i=0;i<this.uiItemNumberList.length;i++)i<=t.length-1?this.uiItemNumberList[i].init(t[i]):this.uiItemNumberList[i].init(null);5==this.numberChosingList.length?(this.btnConfirmActive.active=!0,this.btnConfirmUnActive.active=!1):(this.btnConfirmActive.active=!1,this.btnConfirmUnActive.active=!0)},r.OnBtnReset=function(){this.Reset()},r.OnBtnRandom=function(){this.Reset();for(var t=c.RandomLottery(this.tabBuy.data.lotteryId,this.tabBuy.GetListNumbers()),e=0;e<t.length;e++){var i=this.contentItem.children[t[e]-1].getComponent(b);i.Chose(!1),this.numberChosingList.push(i)}this.UpdateNumberChosing()},r.OnBtnConfirm=function(){for(var t=[],e=0;e<this.numberChosingList.length;e++)t.push(this.numberChosingList[e].number);null!=this.cbSuccess&&this.cbSuccess(t),this.Hide()},e}(a)).prototype,"contentItem",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(d.prototype,"prefabItem",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(d.prototype,"btnConfirmUnActive",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(d.prototype,"btnConfirmActive",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(d.prototype,"uiItemNumberList",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=d))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/PopupConfirmUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts"],(function(e){"use strict";var i,n,t,o,l,r,s,a,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){l=e.cclegacy,r=e._decorator,s=e.Label,a=e.Node},function(e){u=e.PopUpBase}],execute:function(){var p,c,h,b,L,C,f,_,y,g,d,m,O;l._RF.push({},"0471cNdWZdLIIL0C0imhtMM","PopupConfirmUI",void 0);var I=r.ccclass,k=r.property;e("PopupConfirmUI",(p=I("PopupConfirmUI"),c=k(s),h=k(s),b=k(a),L=k(a),C=k(s),p((y=i((_=function(e){function i(){for(var i,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return i=e.call.apply(e,[this].concat(l))||this,t(i,"Line1Label",y,o(i)),t(i,"Line2Label",g,o(i)),t(i,"LeIcon",d,o(i)),t(i,"BtnClose",m,o(i)),t(i,"BtnLabel",O,o(i)),i._onOk=null,i._onClose=null,i._isCanClose=!0,i._isCloseWhenOk=!0,i}n(i,e);var l=i.prototype;return l.Show=function(e,i,n,t,o,l,r,s){this.OnShow(),this.BtnLabel.string=o.toUpperCase(),this.Line1Label.string=e,this.Line2Label.string=i,this._onOk=n,this._onClose=t,this._isCanClose=r,this._isCloseWhenOk=s,this.LeIcon.active=l,this.BtnClose.active=r},l.Hide=function(){this._isCanClose&&(this.OnHide(),this._onClose&&this._onClose())},l.OnOk=function(){this._onOk&&this._onOk(),this._isCloseWhenOk&&this.Hide()},i}(u)).prototype,"Line1Label",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=i(_.prototype,"Line2Label",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=i(_.prototype,"LeIcon",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=i(_.prototype,"BtnClose",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=i(_.prototype,"BtnLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=_))||f));l._RF.pop()}}}));

System.register("chunks:///_virtual/PopupPrizeStructure.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utility.ts"],(function(t){"use strict";var e,r,i,o,n,c,u,a,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,c=t._decorator,u=t.Label,a=t.Component},function(t){p=t.Utility}],execute:function(){var s,l,f,h,y;n._RF.push({},"7bf66HPUx1AaIUUZrOZ5XTD","PopupPrizeStructure",void 0);var P=c.ccclass,v=c.property;t("PopupPrizeStructure",(s=P("PopupPrizeStructure"),l=v(u),s((y=e((h=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return e=t.call.apply(t,[this].concat(n))||this,i(e,"txtJackpot",y,o(e)),e}r(e,t);var n=e.prototype;return n.Show=function(t){this.txtJackpot.string=p.numberWithCommas(parseInt(t)),this.node.active=!0},n.Hide=function(){this.node.active=!1},e}(a)).prototype,"txtJackpot",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=h))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/PopupPurchaseOption.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIPopupManager.ts","./UserModel.ts","./ResHttp.ts","./ConfigApi.ts","./Utility.ts","./ConfigGame.ts"],(function(t){"use strict";var e,i,n,s,c,r,a,o,l,u,h,p,b,g,f,y,k,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){c=t.cclegacy,r=t._decorator,a=t.Label,o=t.Toggle,l=t.Node,u=t.log,h=t.sys,p=t.Component},function(t){b=t.UIPopupManager},function(t){g=t.UserModel},function(t){f=t.ResHttp},function(t){y=t.ConfigApi},function(t){k=t.Utility},function(t){T=t.ConfigGame}],execute:function(){var m,P,I,v,d,C,S,N,E,B,L,O,x,_,w,A,z,F,U,D,J,R,H;c._RF.push({},"af0c4PAAOZIKrtSkHTfK/x6","PopupPurchaseOption",void 0);var K=r.ccclass,M=r.property;t("PopupPurchaseOption",(m=K("PopupPurchaseOption"),P=M(a),I=M(a),v=M(a),d=M(a),C=M(a),S=M(a),N=M(o),E=M(o),B=M(l),L=M(l),m((_=e((x=function(t){function e(){for(var e,i=arguments.length,c=new Array(i),r=0;r<i;r++)c[r]=arguments[r];return e=t.call.apply(t,[this].concat(c))||this,n(e,"txtJackpot",_,s(e)),n(e,"txtNumberTicketBuying",w,s(e)),n(e,"txtBalanceLE",A,s(e)),n(e,"txtBalanceTicket",z,s(e)),n(e,"txtPriceLE",F,s(e)),n(e,"txtPriceTicket",U,s(e)),n(e,"toggleLE",D,s(e)),n(e,"toggleTicket",J,s(e)),n(e,"btnPurchaseDisable",R,s(e)),n(e,"btnPurchaseActive",H,s(e)),e.tickets=[],e.purchaseType="",e.cbSuccess=null,e.lotteryId="",e}i(e,t);var c=e.prototype;return c.Show=function(t,e,i){void 0===i&&(i=null),this.lotteryId=t,this.cbSuccess=i,this.tickets=e,this.purchaseType="",this.node.active=!0,this.btnPurchaseActive.active=!1,this.btnPurchaseDisable.active=!0,this.txtNumberTicketBuying.string=k.numberWithCommas(e.length),this.txtBalanceLE.string=k.numberWithCommas(g.LE),this.txtBalanceTicket.string=k.numberWithCommas(g.FreeTicket),this.txtPriceLE.string=k.numberWithCommas(e.length*T.PRICE_BUY_TICKET_LE),this.txtPriceTicket.string=k.numberWithCommas(e.length),this.toggleLE.isChecked=!0,this.OnBtnChoseLE()},c.Hide=function(){this.node.active=!1},c.onBuySuccess=function(t){var e;t=JSON.parse(t).data,u("onBuySuccess:"+JSON.stringify(t));var i="You have successully purchased "+this.tickets.length+" tickets";1==this.tickets.length&&(i="You have successully purchased "+this.tickets.length+" ticket"),b.Instance.ShowNotification("SUCCESS!",i),g.LE=t.remainAmount,g.FreeTicket=t.remainFreeTickets,null==(e=this.cbSuccess)||e.call(this),this.Hide()},c.onBuyFail=function(t){},c.OnBtnChoseLE=function(){this.purchaseType="le",this.btnPurchaseActive.active=!0,this.btnPurchaseDisable.active=!1},c.OnBtnChoseTicket=function(){this.purchaseType="free_ticket",this.btnPurchaseActive.active=!0,this.btnPurchaseDisable.active=!1},c.OnBtnPurChase=function(){if(""!=this.purchaseType)if("le"==this.purchaseType&&this.tickets.length*T.PRICE_BUY_TICKET_LE>g.LE)b.Instance.ShowNotification("NOTIFICATION!","Not enough to LE");else if("free_ticket"==this.purchaseType&&this.tickets.length>g.FreeTicket)b.Instance.ShowNotification("NOTIFICATION!","Not enough to FreeTicket");else{var t=h.localStorage.getItem("tickets_"+this.lotteryId);if(null!=t){var e=JSON.parse(t);e=e.concat(this.tickets),h.localStorage.setItem("tickets_"+this.lotteryId,JSON.stringify(e))}else h.localStorage.setItem("tickets_"+this.lotteryId,JSON.stringify(this.tickets));f.PostRequest(y.LINK_API+y.buy_tickets,{tickets:this.tickets,purchaseType:this.purchaseType},this.onBuySuccess.bind(this),this.onBuyFail.bind(this))}else b.Instance.ShowNotification("NOTIFICATION!","Not chose purchase option!")},e}(p)).prototype,"txtJackpot",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(x.prototype,"txtNumberTicketBuying",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(x.prototype,"txtBalanceLE",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(x.prototype,"txtBalanceTicket",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(x.prototype,"txtPriceLE",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(x.prototype,"txtPriceTicket",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(x.prototype,"toggleLE",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(x.prototype,"toggleTicket",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(x.prototype,"btnPurchaseDisable",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(x.prototype,"btnPurchaseActive",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=x))||O));c._RF.pop()}}}));

System.register("chunks:///_virtual/PrefabController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,i,r,s,a,o,c,l,u,f,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator,o=e.Prefab,c=e.CCInteger,l=e.Node,u=e.instantiate,f=e.director,h=e.Component}],execute:function(){var b,P,p,_,v,d,F,y,g,C,m,z,A,U,E;e("PrefabEnum",void 0),s._RF.push({},"f747eE1kDNBwZY0E3vvQZGI","PrefabController",void 0);var R,I=a.ccclass,L=a.property,w=e("zPrefabAsset",(b=I("zPrefabAsset"),P=L(o),p=L(c),b((d=t((v=function(){function e(){i(this,"prefab",d,this),i(this,"maxIntances",F,this),this.intances=[],this.intancesFree=[],this.intancesUse=[]}var t=e.prototype;return t.GetPrefab=function(e){if(this.intancesFree.length>0){var t=this.intancesFree[0];return this.intancesFree.splice(0,1),this.intancesUse.push(t),t}if(this.intances.length<this.maxIntances)return(t=u(this.prefab)).active=!1,t.setParent(e),this.intancesUse.push(t),this.intances.push(t),t;if(this.intancesUse.length>0){t=this.intancesUse[0];return this.intancesUse.splice(0,1),this.intancesUse.push(t),t}return null},t.ReturnPrefab=function(e,t){e.active=!1,e.setParent(t),this.intancesFree.push(e);var n=this.intancesUse.indexOf(e);n>-1&&this.intancesUse.splice(n,1)},t.ReturnAll=function(e){for(;this.intancesUse.length>0;){var t=this.intancesUse[0];t.active=!1,t.setParent(e),this.intancesFree.push(t),this.intancesUse.splice(0,1)}},e}()).prototype,"prefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(v.prototype,"maxIntances",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_=v))||_));!function(e){e[e.LE_Projectile=0]="LE_Projectile",e[e.LE_Receive=1]="LE_Receive",e[e.VFX_Crowd_Banish=2]="VFX_Crowd_Banish",e[e.VFX_Plant_Planted=3]="VFX_Plant_Planted",e[e.VFX_Plant_Watering=4]="VFX_Plant_Watering",e[e.Fx_Ui_Farm_LE_Harvest=5]="Fx_Ui_Farm_LE_Harvest"}(R||(R=e("PrefabEnum",{})));e("PrefabController",(y=I("PrefabController"),g=L(l),C=L(w),y(((E=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))||this).isPlayTabEffect=!0,t.isPlayTabSound=!0,i(t,"PrefabContent",A,r(t)),i(t,"zPrefabAssets",U,r(t)),t}n(t,e);var s=t.prototype;return s.onLoad=function(){null==t.Instance?(t.Instance=this,f.addPersistRootNode(this.node)):this.destroy()},s.onDestroy=function(){},s.GetPrefab=function(e){return this.zPrefabAssets[e].GetPrefab(this.PrefabContent)},s.ReturnPrefab=function(e,t){this.zPrefabAssets[e].ReturnPrefab(t,this.PrefabContent)},s.ReturnAllPrefabofEnum=function(e){this.zPrefabAssets[e].ReturnAll(this.PrefabContent)},s.ReturnAllPrefab=function(){var e=this;this.zPrefabAssets.forEach((function(t){t.ReturnAll(e.PrefabContent)}))},t}(h)).Instance=void 0,A=t((z=E).prototype,"PrefabContent",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(z.prototype,"zPrefabAssets",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=z))||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/ResHttp.ts",["cc","./UserModel.ts","./UIPopupManager.ts","./ConfigApi.ts"],(function(e){"use strict";var t,n,s,a,o;return{setters:[function(e){t=e.cclegacy},function(e){n=e.UserModel},function(e){s=e.LoadingType,a=e.UIPopupManager},function(e){o=e.ConfigApi}],execute:function(){var r,i;e("ResHttp",void 0),t._RF.push({},"86ff1pwk/5P/ZecST5GWHdU","ResHttp",void 0),(i=r||(r=e("ResHttp",{}))).PostRequestForm=function(e,t,r,i,c,u,d){void 0===u&&(u=!0),void 0===d&&(d=s.noAnim),u&&a.Instance.Loading(!0,d);var p=new XMLHttpRequest;p.onreadystatechange=function(){if(4==p.readyState)if(p.status>=200&&p.status<400){var n=p.responseText;o.SHOW_LOG&&console.log("PostRequest : ",e,null==t?"":JSON.stringify(t)," --- ",n),u&&a.Instance.Loading(!1),i&&i(n)}else{c&&c(p.responseText),u&&a.Instance.Loading(!1);try{var s=JSON.parse(p.responseText);a.Instance.ShowToast("Error",s.data,0)}catch(e){a.Instance.ShowToast("Error","ERR_INTERNET_DISCONNECTED",0)}}},p.open("POST",e),n.Token&&p.setRequestHeader("authorization","bearerHeader "+n.Token),p.send(t)},i.PostRequest=function(e,t,r,i,c,u){void 0===c&&(c=!0),void 0===u&&(u=s.noAnim),c&&a.Instance.Loading(!0,u);var d=new XMLHttpRequest;d.onreadystatechange=function(){if(4==d.readyState)if(d.status>=200&&d.status<400){var n=d.responseText;o.SHOW_LOG&&console.log("PostRequest : ",e,null==t?"":JSON.stringify(t)," --- ",n),c&&a.Instance.Loading(!1),r&&r(n)}else{i&&i(d.responseText),c&&a.Instance.Loading(!1);try{var s=JSON.parse(d.responseText);a.Instance.ShowToast("Error",s.data,0)}catch(e){a.Instance.ShowToast("Error","ERR_INTERNET_DISCONNECTED",0)}}},d.open("POST",e),d.setRequestHeader("Content-Type","application/json;charset=UTF-8"),d.setRequestHeader("Accept","application/json"),d.setRequestHeader("x-u-a-check","Android-Unity-Farm"),n.Token&&d.setRequestHeader("authorization","bearerHeader "+n.Token),null==t&&(t={}),d.send(JSON.stringify(t))},i.GetRequest=function(e,t,r,i,c,u){void 0===c&&(c=!0),void 0===u&&(u=s.noAnim),c&&a.Instance.Loading(!0,u);var d=e;if(null!=t&&Object.keys(t).length>0){for(var p in d+="?",t)d+=p+"="+t[p]+"&";d=d.substring(0,d.length-1)}var T=new XMLHttpRequest;T.onreadystatechange=function(){if(4==T.readyState)if(T.status>=200&&T.status<400){var e=T.responseText;o.SHOW_LOG&&console.log("GetRequest : ",d," --- ",e),c&&a.Instance.Loading(!1),r&&r(e)}else{c&&a.Instance.Loading(!1),i&&i(T.responseText);try{var t=JSON.parse(T.responseText);a.Instance.ShowToast("Error",t.data,0)}catch(e){a.Instance.ShowToast("Error","ERR_INTERNET_DISCONNECTED",0)}}},T.open("GET",d),T.setRequestHeader("Content-Type","application/json;charset=UTF-8"),T.setRequestHeader("Accept","application/json"),T.setRequestHeader("x-u-a-check","Android-Unity-Farm"),n.Token&&T.setRequestHeader("authorization","bearerHeader "+n.Token),T.send()},i.DeleteRequest=function(e,t,r,i,c){void 0===i&&(i=!0),void 0===c&&(c=s.noAnim),i&&a.Instance.Loading(!0,c);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(4==u.readyState)if(u.status>=200&&u.status<400){var n=u.responseText;o.SHOW_LOG&&console.log("DeleteRequest : ",e," --- ",n),i&&a.Instance.Loading(!1),t&&t(n)}else{i&&a.Instance.Loading(!1),r&&r(u.responseText);try{var s=JSON.parse(u.responseText);a.Instance.ShowToast("Error",s.data,0)}catch(e){a.Instance.ShowToast("Error","ERR_INTERNET_DISCONNECTED",0)}}},u.open("DELETE",e),u.setRequestHeader("Content-Type","application/json;charset=UTF-8"),u.setRequestHeader("Accept","application/json"),u.setRequestHeader("x-u-a-check","Android-Unity-Farm"),n.Token&&u.setRequestHeader("authorization","bearerHeader "+n.Token),u.send()},t._RF.pop()}}}));

System.register("chunks:///_virtual/ResourcesManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,n,o,s,a,l,c,u,p,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,a=e.JsonAsset,l=e.SpriteFrame,c=e.director,u=e.resources,p=e.sp,d=e.Component}],execute:function(){var f,_,h,b,g,m,y,R,S,k,L,z;o._RF.push({},"2e611/b+YZFRo0vE+CEapry","ResourcesManager",void 0);var A=s.ccclass,F=s.property;e("ResourcesManager",(f=A("ResourcesManager"),_=F(a),h=F(l),b=F(l),g=F(l),f(((z=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,i(t,"errorCodeMerged",R,n(t)),t.plant_art=[],t.plant_art_state1=[],t.decor_art=[],t.plant_spines=[],i(t,"ability_sprite",S,n(t)),t.ability_zone_sprite=[],t.faction_sprite=[],i(t,"skill_sprite",k,n(t)),i(t,"skill_sprite_mother",L,n(t)),t.skill_zone_sprite=[],t}r(t,e);var o=t.prototype;return o.onLoad=function(){null==t.Instance?(t.Instance=this,c.addPersistRootNode(this.node)):this.destroy()},o.GetErrorMessage=function(e){return null!=this.errorCodeMerged.json[e.toString()]?this.errorCodeMerged.json[e.toString()]:"Unknow"},o.loadArtResource=function(e,t,r,i,n){var o=i.find((function(t){return t.name==e}));if(o)t(o);else{u.load(r,n,(function(n,s){console.log("Load "+r),n&&console.log(n.message),o=s,-1==i.findIndex((function(t){return t.name==e}))&&i.push(o),t(o)}))}},o.LoadPlant=function(e,t){this.loadArtResource(e,t,"2d/tree/"+e+"/spriteFrame",this.plant_art,l)},o.LoadPlantState1=function(e,t){this.loadArtResource(e,t,"2d/tree_1/"+e+"/spriteFrame",this.plant_art_state1,l)},o.LoadDecor=function(e,t){this.loadArtResource(e,t,"2d/decor/"+e+"/spriteFrame",this.decor_art,l)},o.LoadPlantSpines=function(e,t){this.loadArtResource(e,t,"spine/plant/"+e,this.plant_spines,p.SkeletonData)},o.LoadAbilitySprite=function(e){return this.ability_sprite.find((function(t){return t.name.includes(e)}))},o.LoadAbilityZoneSprite=function(e,t){this.loadArtResource(e,t,"2d/ability_zone/"+e+"/spriteFrame",this.ability_zone_sprite,l)},o.LoadFactionSprite=function(e,t){this.loadArtResource(e,t,"2d/faction/"+e+"/spriteFrame",this.faction_sprite,l)},o.LoadSkillSprite=function(e){return this.skill_sprite.find((function(t){return t.name.includes(e)}))},o.LoadSkillSpriteMother=function(e){return this.skill_sprite_mother.find((function(t){return t.name.includes(e)}))},o.LoadSkillZoneSprite=function(e,t){this.loadArtResource(e,t,"2d/skill_zone/"+e+"/spriteFrame",this.skill_zone_sprite,l)},t}(d)).Instance=void 0,R=t((y=z).prototype,"errorCodeMerged",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(y.prototype,"ability_sprite",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=t(y.prototype,"skill_sprite",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=t(y.prototype,"skill_sprite_mother",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=y))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/ScareCrowInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventSystem.ts","./UserModel.ts","./Utility.ts","./UIPopupManager.ts"],(function(t){"use strict";var n,e,r,i,o,a,s,c,u,l,h,b,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Label,c=t.Component},function(t){u=t.GlobalEvents,l=t.EventType},function(t){h=t.UserModel},function(t){b=t.Utility},function(t){p=t.UIPopupManager}],execute:function(){var f,m,C,v,y;o._RF.push({},"45faaxOzaFPoLvUQ3kEIJUG","ScareCrowInfo",void 0);var I=a.ccclass,g=a.property;t("ScareCrowInfo",(f=I("ScareCrowInfo"),m=g(s),f((y=n((v=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,r(n,"label",y,i(n)),n.current=-1,n.cb=void 0,n}e(n,t);var o=n.prototype;return o.onEnable=function(){this.cb=u.subscribe(l.SCARECROW_INFO_UPDATED,this.onChange.bind(this)),this.current=h.ScareCrow,this.label.string=b.numberWithCommas(h.ScareCrow)},o.onChange=function(t){this.current!=t&&(this.current=t,this.node.activeInHierarchy?this.Tween(t):this.label.string=b.numberWithCommas(t))},o.onDisable=function(){u.unsubscribe(l.SCARECROW_INFO_UPDATED,this.cb)},o.Tween=function(t){var n=this,e=b.numberWithCommasToInt(this.label.string);b.tweenNumber(e,t,.5,(function(t){n.label.string=b.numberWithCommas(t)})).start()},o.onBtnOpen=function(){p.Instance.ShowUIPopupShop()},n}(c)).prototype,"label",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=v))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/ScrollOptimizeGames.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,c;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,i=e._decorator,c=e.Component}],execute:function(){var o;r._RF.push({},"97ba3xFaDJKxpjM112/ObpH","ScrollOptimizeGames",void 0);var s=i.ccclass;i.property,e("ScrollOptimizeGames",s("ScrollOptimizeGames")(o=function(e){function r(){return e.apply(this,arguments)||this}return t(r,e),r}(c))||o);r._RF.pop()}}}));

System.register("chunks:///_virtual/SimplePool.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t,o,l,r,s,c,i;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,l=e.Node,r=e.game,s=e.NodePool,c=e.instantiate,i=e.Component}],execute:function(){var a,u;t._RF.push({},"463d3uUdcRGo4vZnCigeElx","SimplePool",void 0);var p=o.ccclass;o.property,e("SimplePool",p("SimplePool")(((u=function(e){function t(){for(var n,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return(n=e.call.apply(e,[this].concat(o))||this).pool=new Map,n}return n(t,e),t.Instance=function(){return null==this._instance&&(this._instance=new l("SimplePool").addComponent(t),r.addPersistRootNode(this._instance.node)),this._instance},t.get=function(e,n,t){var o=this.Instance(),l=null,r=null;return 1==o.pool.has(n)?l=o.pool.get(n):(l=new s,o.pool.set(n,l)),l.size()>0?r=l.get():(r=c(n),console.log("create new",n.name),r.release=function(){l.put(r)}),r.parent=t,r.getComponent(e)},t.getNode=function(e,n){var t=this.Instance(),o=null,l=null;return 1==t.pool.has(e)?o=t.pool.get(e):(o=new s,t.pool.set(e,o)),o.size()>0?l=o.get():(l=c(e),console.log("create new",e.name),l.release=function(){o.put(l)}),l.parent=n,l},t.releaseNode=function(e){try{e.release()}catch(e){}},t.releaseAll=function(e){for(var n=e.children.length-1;n>=0;n--)try{e.children[n].release()}catch(e){}},t}(i))._instance=void 0,a=u))||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/SocketDealOrNoDealHandler.ts",["cc","./UserModel.ts","./ConfigApi.ts","./NativeSocketHandler.ts","./DealOrNoDealMiniGame.ts"],(function(n){"use strict";var e,o,t,i,s,c,a,r;return{setters:[function(n){e=n.cclegacy,o=n.sys,t=n.error,i=n.log},function(n){s=n.UserModel},function(n){c=n.ConfigApi},function(n){a=n.NativeSocketHandler},function(n){r=n.DealOrNoDealMiniGame}],execute:function(){e._RF.push({},"32df9KX1OREa7UPwSirM4PO","SocketDealOrNoDealHandler",void 0),n("SocketDealOrNoDealHandler",function(){function n(){}return n.Connect=function(){o.os==o.OS.ANDROID&&o.isNative?a.Connect(s.Token):(this.Disconnect(),this._Connect())},n.Disconnect=function(){o.os==o.OS.ANDROID&&o.isNative?a.Disconnect():null!=this._sioClient&&(this._sioClient.disconnect(),this._sioClient=null)},n._Connect=function(){var n=this;if("undefined"!=typeof io){r.Instance.isJoined=!1,i("Start Connect DOND:"+c.LINK_WSS_DOND);try{var e=io.connect(c.LINK_WSS_DOND,{transports:["websocket"],auth:{token:s.Token},reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:1e4});n._sioClient=e,e.on("connect",n.onConnect.bind(n)),e.on("disconnect",n.onDisconnect.bind(n)),e.on("connection_error",n.onError.bind(n)),e.on("close",n.onError.bind(n)),e.on("err",n.onErr.bind(n)),e.on("game-init",(function(n){r.Instance.OnGameInit(n)})),e.on("player-info",(function(n){r.Instance.OnPlayerInfo(n)})),e.on("notice",(function(n){r.Instance.OnNotice(n)})),e.on("voting-result",(function(n){r.Instance.OnVotingResult(n)})),e.on("remove-voting",(function(n){r.Instance.OnRemoveVoting(n)})),e.on("game-progress",(function(n){r.Instance.OnGameProgress(n)})),e.on("chat",(function(n){r.Instance.OnChat(n)})),e.on("bet",(function(n){r.Instance.OnBet(n)})),e.on("update-cases",(function(n){r.Instance.OnUpdateCases(n)})),e.on("show-deal",(function(n){r.Instance.OnShowDeal(n)})),e.on("deal",(function(n){i("CheckingGame Response Deal:"+JSON.stringify(n)),r.Instance.OnDeal(n)})),e.on("remaining-cases",(function(n){r.Instance.OnRemianingCases(n)})),e.on("select-case",(function(n){r.Instance.OnSelectCase(n)})),e.on("auto-deal",(function(n){r.Instance.OnAutoDeal(n)})),e.on("game-statistics",(function(n){r.Instance.OnGameStatistics(n)})),e.on("removed-cases",(function(n){r.Instance.OnRemovedCases(n)})),e.on("show-cases",(function(n){r.Instance.OnShowCases(n)})),e.on("game-action-stats",(function(n){r.Instance.OnGameActionStats(n)})),e.on("game-maintenance",(function(n){r.Instance.OnGameMaintenance(n)}))}catch(e){this.Log("error connect "),this.Log(e),n.onError()}}else t("You should import the socket.io.js as a plugin!")},n.SendChat=function(n){this._sioClient.emit("chat",{message:n})},n.Deal=function(){i("CheckingGame Request Deal"),this._sioClient.emit("deal",{})},n.SwitchCase=function(n){n=n.toLocaleLowerCase(),i("SwitchCase:"+n),this._sioClient.emit("select-case",{caseAlphabet:n})},n.Bet=function(n){i("Bet:"+n),this._sioClient.emit("bet",{bettingAmount:n})},n.VoteKeepCase=function(n){n=n.toLocaleLowerCase(),i("VoteKeepCase:"+n),this._sioClient.emit("vote",{caseAlphabet:n})},n.VoteRemoveCase=function(n){n=n.map((function(n){return n.toLocaleLowerCase()})),i("VoteRemoveCase:"+n),this._sioClient.emit("vote-remove",{caseAlphabets:n})},n.JoinGame=function(){r.Instance.isJoined||(r.Instance.isJoined=!0,this.Log("JoinGame"),this._sioClient.emit("join-game",{gameName:"deal-or-no-deal",publicAddress:s.ownerId}))},n.Log=function(n){console.log(n)},n.onConnect=function(){this.Log(" onConnect DOND success"),r.Instance.isJoined=!1,this.JoinGame()},n.onError=function(){this.Log(" onError ")},n.onDisconnect=function(){console.log("onDisconnect")},n.onErr=function(n){this.Log(" onErr "),console.log("onErr:"+JSON.stringify(n))},n}())._sioClient=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/SocketFarmHandler.ts",["cc","./UserModel.ts","./ConfigApi.ts","./EventSystem.ts","./NativeSocketHandler.ts"],(function(n){"use strict";var o,t,e,i,c,l,s,a;return{setters:[function(n){o=n.cclegacy,t=n.sys,e=n.error},function(n){i=n.UserModel},function(n){c=n.ConfigApi},function(n){l=n.GlobalEvents,s=n.EventType},function(n){a=n.NativeSocketHandler}],execute:function(){var r;n("TYPE_NOTIFICATION",void 0),o._RF.push({},"00510lZ5vZNiaB/lbnaBBSf","SocketFarmHandler",void 0),n("SocketFarmHandler",function(){function n(){}return n.Connect=function(){t.os==t.OS.ANDROID&&t.isNative?a.Connect(i.Token):(this.Disconnect(),this._Connect())},n.Disconnect=function(){t.os==t.OS.ANDROID&&t.isNative?a.Disconnect():null!=this._sioClient&&(this._sioClient.disconnect(),this._sioClient=null)},n._Connect=function(){var n=this;if("undefined"!=typeof io){this.Log("Connect");try{var o=io.connect(c.LINK_WSS+"farm",{transports:["websocket"],auth:{token:i.Token},reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:1e4});this.Log("Connect 2"),n._sioClient=o,o.on("connect",n.onConnect.bind(n)),o.on("disconnect",n.onDisconnect.bind(n)),o.on("connection_error",n.onError.bind(n)),o.on("close",n.onError.bind(n)),o.on("chat",n.onChat.bind(n)),o.on("chat-all",n.onChatAll.bind(n)),o.on("slot-update",n.onSlotUpdate.bind(n)),o.on("change-land",n.onChangeLand.bind(n)),o.on("change-number-viewer",n.onChangeNumberViewer.bind(n)),o.on("err",n.onErr.bind(n)),o.on("notice",n.onNotice.bind(n)),o.on("hit_crow_king",n.onHitCrowKing.bind(n)),this.Log("Connect 3")}catch(o){this.Log("error connect "),this.Log(o),n.onError()}}else e("You should import the socket.io.js as a plugin!")},n.Log=function(n){},n.SendChat=function(n){if(t.os!=t.OS.ANDROID||!t.isNative)return null==this._sioClient?(e("error send chat"),void console.log("send chat error")):void this._sioClient.emit("chat",{msg:n});a.Emit("chat",{msg:n})},n.SendChatAll=function(n,o){t.os==t.OS.ANDROID&&t.isNative?a.Emit("chat-all",{username:n,msg:o}):null!=this._sioClient&&this._sioClient.emit("chat-all",{username:n,msg:o})},n.ChangeLand=function(n){t.os==t.OS.ANDROID&&t.isNative?a.Emit("change-land",{landId:n}):null!=this._sioClient&&(console.log("change-land"),this._sioClient.emit("change-land",{landId:n}))},n.onConnect=function(){this.Log(" onConnect "),console.log("onConnect"),l.publish(s.Socket_onConnectCallback,null)},n.onError=function(){this.Log(" onError "),l.publish(s.Socket_onErrorCallback,null)},n.onDisconnect=function(){console.log("onDisconnect")},n.onChat=function(n){console.log("onChat:",n),l.publish(s.Socket_onChatCallback,n)},n.onChatAll=function(n){this.Log(" onChatAll "),l.publish(s.Socket_onChatAllCallback,n)},n.onSlotUpdate=function(n){console.log("onSlotUpdate"),l.publish(s.Socket_onSlotUpdateCallback,n)},n.onChangeLand=function(n){console.log("onChangeLand"),l.publish(s.Socket_onChangeLand,n)},n.onChangeNumberViewer=function(n){l.publish(s.Socket_onChangeNumberViewer,n)},n.onErr=function(n){this.Log(" onErr "),console.log("onErr"),l.publish(s.Socket_onErr,n)},n.onNotice=function(n){console.log("onNotice"),l.publish(s.Socket_onNotice,n)},n.onHitCrowKing=function(n){console.log("onHitCrowKing"),l.publish(s.Socket_onHitCrowKing,n)},n}())._sioClient=null,function(n){n[n.TO_ALL=0]="TO_ALL",n[n.BIDDING=1]="BIDDING",n[n.TRANSFER_LE=2]="TRANSFER_LE"}(r||(r=n("TYPE_NOTIFICATION",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/SoundController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserModel.ts","./EventSystem.ts"],(function(o){"use strict";var n,i,t,e,u,s,c,a,r,l,d,p,h;return{setters:[function(o){n=o.applyDecoratedDescriptor,i=o.inheritsLoose,t=o.initializerDefineProperty,e=o.assertThisInitialized},function(o){u=o.cclegacy,s=o._decorator,c=o.AudioSource,a=o.AudioClip,r=o.director,l=o.Component},function(o){d=o.UserModel},function(o){p=o.GlobalEvents,h=o.EventType}],execute:function(){var S,b,M,f,D,U,g,y,_,m;o("EnumSound",void 0),u._RF.push({},"5998aKcPlxN2aj9JEDzIdxe","SoundController",void 0);var v,B=s.ccclass,C=s.property;!function(o){o[o.GameUI_button_click=0]="GameUI_button_click",o[o.BG_Main=1]="BG_Main",o[o.BGM_Dond=2]="BGM_Dond",o[o.Lock_Dond=3]="Lock_Dond"}(v||(v=o("EnumSound",{})));o("SoundController",(S=B("SoundController"),b=C(c),M=C(c),f=C(a),S(((m=function(o){function n(){for(var n,i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=o.call.apply(o,[this].concat(u))||this,t(n,"BgMusic",g,e(n)),t(n,"SoundFX",y,e(n)),t(n,"AudioClips",_,e(n)),n}i(n,o);var u=n.prototype;return u.onLoad=function(){null==n.Instance?(n.Instance=this,r.addPersistRootNode(this.node)):this.destroy(),p.subscribe(h.UPDATE_MUSIC,this.onUpdateMusic.bind(this)),p.subscribe(h.UPDATE_SOUND,this.onUpdateSound.bind(this))},u.onDestroy=function(){p.unsubscribe(h.UPDATE_MUSIC,this.onUpdateMusic.bind(this)),p.unsubscribe(h.UPDATE_SOUND,this.onUpdateSound.bind(this))},u.onUpdateMusic=function(){console.log("CheckingGame onUpdateMusic:"+d.userLocalData.musicOn),this.BgMusic.volume=d.userLocalData.musicOn?.8:0},u.onUpdateSound=function(){console.log("CheckingGame onUpdateMusic:"+d.userLocalData.soundOn),this.SoundFX.volume=d.userLocalData.soundOn?1:0},u.start=function(){this.SetBgMusic(v.BG_Main)},u.PlaySound=function(o,n){void 0===n&&(n=.5),d.userLocalData.soundOn&&(this.SoundFX.loop=!1,this.SoundFX.playOneShot(this.AudioClips[o],n))},u.PlaySoundLoop=function(o,n){void 0===n&&(n=.5),d.userLocalData.soundOn&&(this.SoundFX.volume=n,this.SoundFX.loop=!0,this.SoundFX.clip=this.AudioClips[o],this.SoundFX.play())},u.StopSoundLoop=function(){this.SoundFX.stop()},u.SetBgMusic=function(o){this.BgMusic.stop(),this.BgMusic.loop=!0,this.BgMusic.clip=this.AudioClips[o],this.onUpdateMusic(),this.BgMusic.play()},n}(l)).Instance=void 0,g=n((U=m).prototype,"BgMusic",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=n(U.prototype,"SoundFX",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=n(U.prototype,"AudioClips",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=U))||D));u._RF.pop()}}}));

System.register("chunks:///_virtual/SpriteRatioHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){"use strict";var e,t,r,n,s,a,l,o,h,p,u,c;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,r=i.initializerDefineProperty,n=i.assertThisInitialized,s=i.createClass},function(i){a=i.cclegacy,l=i._decorator,o=i.Sprite,h=i.UITransform,p=i.CCBoolean,u=i.Size,c=i.Component}],execute:function(){var f,z,g,m,b,S,y,d,w,v,_,x,H,F,T;a._RF.push({},"09b693j4EtL/7rqY6fz+Sc/","SpriteRatioHelper",void 0);var C=l.ccclass,R=l.property;i("SpriteRatioHelper",(f=C("SpriteRatioHelper"),z=R(o),g=R(h),m=R(p),b=R(p),S=R(u),y=R(p),f((v=e((w=function(i){function e(){for(var e,t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return e=i.call.apply(i,[this].concat(s))||this,r(e,"intenal_sprite",v,n(e)),r(e,"uiTransform",_,n(e)),r(e,"clampWidth",x,n(e)),r(e,"clampHeight",H,n(e)),r(e,"size",F,n(e)),r(e,"fixSizeOnEnable",T,n(e)),e}t(e,i);var a=e.prototype;return a.onEnable=function(){this.fixSizeOnEnable&&this.FixSize()},a.setSize=function(i,e){null==this.uiTransform&&(this.uiTransform=this.getComponent(h)),this.uiTransform&&this.uiTransform.setContentSize(i,e)},a.FixSize=function(){var i=this.sprite.spriteFrame;if(null!=i){var e=i.width,t=i.height;if(i.original&&i.original._texture&&(e=i.original._texture.width,t=i.original._texture.height),this.clampWidth&&this.clampHeight){var r=this.size.width*t/e;if(r>this.size.height){var n=this.size.height*e/t;this.setSize(n,this.size.height)}else this.setSize(this.size.width,r)}else if(this.clampWidth){var s=this.size.width*t/e;this.setSize(this.size.width,s)}else if(this.clampHeight){var a=this.size.height*e/t;this.setSize(a,this.size.height)}}},s(e,[{key:"sprite",get:function(){return null==this.intenal_sprite&&(this.intenal_sprite=this.getComponent(o),null==this.intenal_sprite&&console.error("Sprite null in SpriteRatioHelper")),this.intenal_sprite}},{key:"spriteFrame",get:function(){return this.sprite.spriteFrame},set:function(i){this.sprite.spriteFrame=i,this.FixSize()}}]),e}(c)).prototype,"intenal_sprite",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(w.prototype,"uiTransform",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(w.prototype,"clampWidth",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),H=e(w.prototype,"clampHeight",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=e(w.prototype,"size",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(100,100)}}),T=e(w.prototype,"fixSizeOnEnable",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d=w))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/TabBuyTicketLottery.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResHttp.ts","./ConfigApi.ts","./Utility.ts","./UIItemLottery.ts","./PopupChoseNumbers.ts","./PopupPrizeStructure.ts","./PopupPurchaseOption.ts","./UIPages.ts","./ConfigGame.ts"],(function(t){"use strict";var i,e,n,o,r,s,u,a,c,l,h,p,b,y,g,m,d,f,B,L,k,C,v;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,u=t.Node,a=t.EditBox,c=t.Label,l=t.ScrollView,h=t.Vec3,p=t.instantiate,b=t.log,y=t.Component},function(t){g=t.ResHttp},function(t){m=t.ConfigApi},function(t){d=t.Utility},function(t){f=t.UIItemLottery},function(t){B=t.PopupChoseNumbers},function(t){L=t.PopupPrizeStructure},function(t){k=t.PopupPurchaseOption},function(t){C=t.UIPages},function(t){v=t.ConfigGame}],execute:function(){var P,I,x,w,A,T,R,N,U,_,z,E,S,O,F,D,G,W,J,K,H,j,q,M,Y,V,Q,X,Z,$,tt,it,et,nt,ot,rt,st;r._RF.push({},"ed1e9BKzfFDx4uBFMSb3745","TabBuyTicketLottery",void 0);var ut=s.ccclass,at=s.property;t("TabBuyTicketLottery",(P=ut("TabBuyTicketLottery"),I=at(C),x=at(u),w=at(u),A=at(a),T=at(L),R=at(B),N=at(k),U=at(c),_=at(c),z=at(c),E=at(c),S=at(c),O=at(c),F=at(l),D=at(u),G=at(u),W=at(u),P((H=i((K=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return i=t.call.apply(t,[this].concat(r))||this,n(i,"uiPages",H,o(i)),n(i,"btnRandom",j,o(i)),n(i,"btnCloseRandom",q,o(i)),n(i,"editRandom",M,o(i)),n(i,"popupPrize",Y,o(i)),n(i,"popupChoseNumber",V,o(i)),n(i,"popupPurchaseOption",Q,o(i)),n(i,"txtRoundId",X,o(i)),n(i,"txtTimeCreate",Z,o(i)),n(i,"txtJackpot",$,o(i)),n(i,"txtTicket",tt,o(i)),n(i,"txtBuyLe",it,o(i)),n(i,"txtBuyTicket",et,o(i)),n(i,"scrollItem",nt,o(i)),n(i,"prefabItem",ot,o(i)),n(i,"btnBuyNowUnActive",rt,o(i)),n(i,"btnBuyNowActive",st,o(i)),i.ticketBuyingList=[],i.data=null,i}e(i,t);var r=i.prototype;return r.Show=function(){this.node.active=!0,g.GetRequest(m.LINK_API+m.get_current_lottery,null,this.onGetCurrentLotterySuccess.bind(this),this.onGetCurrentLotteryFail.bind(this)),this.reset(),this.scrollItem.content.position=new h(0,0,0)},r.reset=function(){this.uiPages.Init(100*m.DEFAULT_PAGE),this.uiPages.AddCbLeft(function(){this.UpdatePage()}.bind(this)),this.uiPages.AddCbRight(function(){this.UpdatePage()}.bind(this)),this.scrollItem.content.removeAllChildren(),this.AddItemDefault(m.DEFAULT_PAGE),this.txtBuyLe.string="0",this.txtBuyTicket.string="0",this.txtTicket.string="0",this.ticketBuyingList=[],this.btnBuyNowActive.active=!1,this.btnBuyNowUnActive.active=!0},r.UpdatePage=function(){this.scrollItem.content.removeAllChildren();for(var t=0;t<m.DEFAULT_PAGE;t++){var i=p(this.prefabItem),e=i.getComponent(f),n=t+(this.uiPages.currentPage-1)*m.DEFAULT_PAGE;i.parent=this.scrollItem.content,e.init(n,this);for(var o=0;o<this.ticketBuyingList.length;o++)if(this.ticketBuyingList[o].index==n){e.UpdateNumbers(this.ticketBuyingList[o].numbers);break}}},r.AddItemDefault=function(t){for(var i=0;i<t;i++){var e=p(this.prefabItem);e.parent=this.scrollItem.content,e.getComponent(f).init(i+(this.uiPages.currentPage-1)*m.DEFAULT_PAGE,this)}},r.AddTicketBuying=function(t){this.ticketBuyingList.push({index:t.index,numbers:t.numbers}),this.txtBuyLe.string=d.numberWithCommas(v.PRICE_BUY_TICKET_LE*this.ticketBuyingList.length),this.txtBuyTicket.string=d.numberWithCommas(this.ticketBuyingList.length),this.txtTicket.string=d.numberWithCommas(this.ticketBuyingList.length),this.btnBuyNowActive.active=!0,this.btnBuyNowUnActive.active=!1},r.RemoveTicketBuying=function(t){for(var i=0;i<this.ticketBuyingList.length;i++)if(this.ticketBuyingList[i].index==t.index){this.ticketBuyingList.splice(i,1);break}this.txtBuyLe.string=d.numberWithCommas(v.PRICE_BUY_TICKET_LE*this.ticketBuyingList.length),this.txtBuyTicket.string=d.numberWithCommas(this.ticketBuyingList.length),this.txtTicket.string=d.numberWithCommas(this.ticketBuyingList.length),0==this.ticketBuyingList.length&&(this.btnBuyNowActive.active=!1,this.btnBuyNowUnActive.active=!0)},r.Hide=function(){this.node.active=!1},r.ShowPopupChoseNumber=function(t){var i=this;this.popupChoseNumber.Show((function(e){t.UpdateNumbers(e),i.ticketBuyingList.push({index:t.index,numbers:e}),i.UpdateInfo()}),this)},r.CheckCreate=function(){g.PostRequest(m.LINK_API+m.create_lottery_for_testing,null,this.onCreateLotterySuccess.bind(this),this.onCreateLotteryFail.bind(this))},r.CheckEnd=function(){g.PostRequest(m.LINK_API+m.end_lottery_for_testing,{result:[24,12,3,20,48]},this.onCreateLotterySuccess.bind(this),this.onCreateLotteryFail.bind(this))},r.onCreateLotterySuccess=function(t){b("onCreateLOtterySuccess:"+JSON.stringify(t))},r.onCreateLotteryFail=function(t){b("onCreateLotteryFail:"+JSON.stringify(t))},r.onGetCurrentLotterySuccess=function(t){this.data=t=JSON.parse(t).data,this.txtRoundId.string="ROUND #"+t.lotteryId;var i=t.nextRound.split(":")[0]+":"+t.nextRound.split(":")[1];i=i.replace("T"," ")+" UTC",this.txtTimeCreate.string="DRAW "+i,this.initJackpot(t.jackpotPool)},r.initJackpot=function(t){this.txtJackpot.string=d.numberWithCommas(Math.round(100*t)/100)},r.onGetCurrentLotteryFail=function(t){b("onGetCurrentLotteryFail:"+JSON.stringify(t))},r.OnBtnTutorial=function(){},r.OnBtnRandomQuality=function(){},r.OnBtnBuyNow=function(){for(var t=this,i=[],e=0;e<this.ticketBuyingList.length;e++)i.push(this.ticketBuyingList[e].numbers);this.popupPurchaseOption.Show(this.data.lotteryId,i,(function(){t.OnBtnDeleteAll()}))},r.OnBtnDeleteAll=function(){this.reset()},r.ShowPanelRandom=function(){this.editRandom.string="0",this.btnRandom.active=!1,this.btnCloseRandom.active=!0},r.HidePanelRandom=function(){this.btnRandom.active=!0,this.btnCloseRandom.active=!1},r.OnEndEditRandom=function(){var t=parseInt(this.editRandom.string);t>1e3&&(t=1e3),this.editRandom.string=t+""},r.Random=function(){var t=parseInt(this.editRandom.string);if(!(t<=0)){t>1e3&&(t=1e3),this.scrollItem.content.removeAllChildren(),this.txtBuyLe.string="0",this.txtBuyTicket.string="0";for(var i=0;i<t;i++){var e=i,n=d.RandomLottery(this.data.lotteryId,this.GetListNumbers());this.ticketBuyingList.push({index:e,numbers:n})}this.UpdateInfo(),this.UpdatePage(),this.HidePanelRandom()}},r.SaveListNumber=function(t){this.ticketBuyingList.length>=1e3&&(this.ticketBuyingList=[]);for(var i=0;i<t.length;i++)this.ticketBuyingList.push({index:this.ticketBuyingList.length,numbers:t[i]})},r.GetListNumbers=function(){for(var t=[],i=0;i<this.ticketBuyingList.length;i++)t.push(this.ticketBuyingList[i].numbers);return t},r.UpdateInfo=function(){this.txtBuyLe.string=d.numberWithCommas(v.PRICE_BUY_TICKET_LE*this.ticketBuyingList.length),this.txtBuyTicket.string=d.numberWithCommas(this.ticketBuyingList.length),this.txtTicket.string=d.numberWithCommas(this.ticketBuyingList.length),0==this.ticketBuyingList.length?(this.btnBuyNowActive.active=!1,this.btnBuyNowUnActive.active=!0):(this.btnBuyNowActive.active=!0,this.btnBuyNowUnActive.active=!1)},r.OnBtnPrize=function(){this.popupPrize.Show(this.data.jackpotPool)},i}(y)).prototype,"uiPages",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=i(K.prototype,"btnRandom",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=i(K.prototype,"btnCloseRandom",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(K.prototype,"editRandom",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=i(K.prototype,"popupPrize",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=i(K.prototype,"popupChoseNumber",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=i(K.prototype,"popupPurchaseOption",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=i(K.prototype,"txtRoundId",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=i(K.prototype,"txtTimeCreate",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=i(K.prototype,"txtJackpot",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=i(K.prototype,"txtTicket",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=i(K.prototype,"txtBuyLe",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=i(K.prototype,"txtBuyTicket",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=i(K.prototype,"scrollItem",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=i(K.prototype,"prefabItem",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=i(K.prototype,"btnBuyNowUnActive",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=i(K.prototype,"btnBuyNowActive",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=K))||J));r._RF.pop()}}}));

System.register("chunks:///_virtual/TabHistoryLottery.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResHttp.ts","./ConfigApi.ts","./UIItemRoundLottery.ts","./UIItemMyTicketLotteries.ts","./UIPages.ts"],(function(t){"use strict";var e,i,r,n,o,s,a,l,u,c,p,h,f,g,y,m,d,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,a=t.ScrollView,l=t.Node,u=t.Sprite,c=t.SpriteFrame,p=t.Label,h=t.instantiate,f=t.Component},function(t){g=t.ResHttp},function(t){y=t.ConfigApi},function(t){m=t.UIItemRoundLottery},function(t){d=t.UIItemMyTicketLottery},function(t){b=t.UIPages}],execute:function(){var L,R,v,I,A,w,P,E,T,x,C,D,U,_,k,z,G,F,H,M,O,S,N;o._RF.push({},"06a98/5bwxC8J+Pwirs+bI3","TabHistoryLottery",void 0);var J=s.ccclass,q=s.property;t("TabHistoryLottery",(L=J("TabHistoryLottery"),R=q(b),v=q(a),I=q(l),A=q(l),w=q(a),P=q(l),E=q(l),T=q([u]),x=q([c]),C=q([p]),L((_=e((U=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,r(e,"pages",_,n(e)),r(e,"scrollLeft",k,n(e)),r(e,"boxEmptyLeft",z,n(e)),r(e,"prefabLeft",G,n(e)),r(e,"scrollRight",F,n(e)),r(e,"boxEmptyRight",H,n(e)),r(e,"prefabRight",M,n(e)),r(e,"spriteList",O,n(e)),r(e,"sfList",S,n(e)),r(e,"txtResult",N,n(e)),e.myLotteriesData=null,e.nodeItemCurrent=null,e}i(e,t);var o=e.prototype;return o.Show=function(){this.node.active=!0,this.scrollLeft.node.active=!1,this.scrollRight.node.active=!1,this.boxEmptyLeft.active=!0,this.boxEmptyRight.active=!0,g.GetRequest(y.LINK_API+y.get_my_lotteries,{limit:y.DEFAULT_PAGE,offset:0},this.OnGetMyLotteries.bind(this),null)},o.initResult=function(t){var e=[0,1,2,3,4];t.result=t.result.sort((function(t,e){return t-e}));for(var i=0;i<this.txtResult.length;i++){var r=parseInt(Math.random()*e.length+""),n=e[r];e.splice(r,1),i<=t.result.length-1?this.txtResult[i].string=t.result[i]:this.txtResult[i].string="-",this.spriteList[i].spriteFrame=this.sfList[n]}},o.GotoPageRound=function(t){var e=this,i={limit:y.DEFAULT_PAGE,offset:(this.pages.currentPage-1)*y.DEFAULT_PAGE,lotteryId:t.data.lotteryId};g.GetRequest(y.LINK_API+y.get_my_tickets,i,(function(i){var r=JSON.parse(i);t.dataMyTickets=r,t.myTickets=r.data,e.UpdateRoundPage(t)}),null)},o.OpenRound=function(t){this.initResult(t.data),this.pages.Init(t.dataMyTickets.total),this.pages.AddCbLeft(function(e){this.GotoPageRound(t)}.bind(this)),this.pages.AddCbRight(function(e){this.GotoPageRound(t)}.bind(this)),this.UpdateRoundPage(t)},o.UpdateRoundPage=function(t){this.scrollRight.content.removeAllChildren(),t.myTickets=t.myTickets.sort((function(t,e){return null==t.rewardAmount&&(t.rewardAmount=0),null==e.rewardAmount&&(e.rewardAmount=0),e.rewardAmount-t.rewardAmount}));for(var e=0;e<t.myTickets.length;e++){var i=h(this.prefabRight);i.parent=this.scrollRight.content,i.position.set(0,0,0),i.getComponent(d).Init(t.data,t.myTickets[e],e+(this.pages.currentPage-1)*y.DEFAULT_PAGE)}},o.OnGetMyLotteries=function(t){var e=this;this.scrollLeft.content.removeAllChildren(),this.scrollRight.content.removeAllChildren(),this.myLotteriesData=JSON.parse(t).data,this.myLotteriesData=this.myLotteriesData.sort((function(t,e){return e.lotteryId-t.lotteryId})),0==this.myLotteriesData.length?(this.scrollLeft.node.active=!1,this.scrollRight.node.active=!1,this.boxEmptyLeft.active=!0,this.boxEmptyRight.active=!0):(this.scrollLeft.node.active=!0,this.scrollRight.node.active=!0,this.boxEmptyLeft.active=!1,this.boxEmptyRight.active=!1);for(var i=0;i<this.myLotteriesData.length;i++){var r=h(this.prefabLeft);r.parent=this.scrollLeft.content,r.position.set(0,0,0),r.getComponent(m).Init(this.myLotteriesData[i],(function(t){null!=e.nodeItemCurrent&&e.nodeItemCurrent.UnActive(),e.nodeItemCurrent=t,e.OpenRound(t)})),0==i&&r.getComponent(m).OnBtnClick()}},o.Hide=function(){this.node.active=!1},e}(f)).prototype,"pages",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(U.prototype,"scrollLeft",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(U.prototype,"boxEmptyLeft",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(U.prototype,"prefabLeft",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(U.prototype,"scrollRight",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(U.prototype,"boxEmptyRight",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(U.prototype,"prefabRight",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(U.prototype,"spriteList",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=e(U.prototype,"sfList",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=e(U.prototype,"txtResult",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=U))||D));o._RF.pop()}}}));

System.register("chunks:///_virtual/TabResultLottery.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResHttp.ts","./ConfigApi.ts","./UIItemLotteryResult.ts"],(function(t){"use strict";var e,i,o,r,n,s,l,c,a,u,p,f,y,h,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,s=t._decorator,l=t.Node,c=t.ScrollView,a=t.instantiate,u=t.log,p=t.sys,f=t.Component},function(t){y=t.ResHttp},function(t){h=t.ConfigApi},function(t){b=t.UIItemLotteryResult}],execute:function(){var m,d,I,L,v,g,R,C,H;n._RF.push({},"95ca5PfIttM1LQqxjcxC4au","TabResultLottery",void 0);var x=s.ccclass,A=s.property;t("TabResultLottery",(m=x("TabResultLottery"),d=A(l),I=A(c),L=A(l),m((R=e((g=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n))||this,o(e,"prefabItem",R,r(e)),o(e,"scrollItem",C,r(e)),o(e,"boxEmpty",H,r(e)),e}i(e,t);var n=e.prototype;return n.Show=function(){this.node.active=!0,y.GetRequest(h.LINK_API+h.get_histories_lotteries,{limit:h.DEFAULT_PAGE,offset:0},this.onGetHistoryLotteriesSuccess.bind(this),this.onGetHistoryLotteriesFailed.bind(this))},n.onGetHistoryLotteriesSuccess=function(t){if(0==(t=JSON.parse(t).data).length)this.boxEmpty.active=!0,this.scrollItem.node.active=!1;else{this.boxEmpty.active=!1,this.scrollItem.node.active=!0,this.scrollItem.content.removeAllChildren();for(var e=0;e<t.length;e++){var i=a(this.prefabItem);i.parent=this.scrollItem.content,i.getComponent(b).Init(e,t[e])}}u("onGetHistoryLotteriesSuccess:"+JSON.stringify(t))},n.onGetHistoryLotteriesFailed=function(t){},n.OnBtnClick=function(){p.openURL("https://bscscan.com/address/0x8697C654d11407109655C8841620D2110793338A#code")},n.Hide=function(){this.node.active=!1},e}(f)).prototype,"prefabItem",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(g.prototype,"scrollItem",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(g.prototype,"boxEmpty",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=g))||v));n._RF.pop()}}}));

System.register("chunks:///_virtual/UIAirDrop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts","./UserModel.ts","./Utility.ts"],(function(e){"use strict";var r,l,i,o,t,a,n,u,s,L,c;return{setters:[function(e){r=e.applyDecoratedDescriptor,l=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){t=e.cclegacy,a=e._decorator,n=e.RichText,u=e.Label},function(e){s=e.PopUpBase},function(e){L=e.UserModel},function(e){c=e.Utility}],execute:function(){var b,p,d,f,m,_,F,h,y,E,I,g,A,D,N;t._RF.push({},"549ecI1xNBLfKOKv2f2wksM","UIAirDrop",void 0);var U=a.ccclass,w=a.property;e("UIAirDrop",(b=U("UIAirDrop"),p=w(n),d=w(u),f=w(n),m=w(u),_=w(u),F=w(u),b((E=r((y=function(e){function r(){for(var r,l=arguments.length,t=new Array(l),a=0;a<l;a++)t[a]=arguments[a];return r=e.call.apply(e,[this].concat(t))||this,i(r,"Label_Fused",E,o(r)),i(r,"Label_Fused_LE",I,o(r)),i(r,"Label_Fused2",g,o(r)),i(r,"Label_Fused_LE2",A,o(r)),i(r,"Label_Normal",D,o(r)),i(r,"Label_Normal_LE",N,o(r)),r}l(r,e);var t=r.prototype;return t.Show=function(){try{var r="<outline color=black width=3>";this.Label_Fused.string=r+L.farmWorldInfo.numberFusedPlantAirDrop+" PLANTED <color=#FFCE4F>FUSED V1</color> NFTS WILL EQUALLY SPLIT</outline>",this.Label_Fused_LE.string=c.numberWithCommas(L.farmWorldInfo.fusedRewardLe),this.Label_Fused2.string=r+L.farmWorldInfo.numberFusedSecondPlantAirDrop+" PLANTED <color=#FFCE4F>FUSED V2</color> NFTS WILL EQUALLY SPLIT</outline>",this.Label_Fused_LE2.string=c.numberWithCommas(L.farmWorldInfo.fusedSecondRewardLe),this.Label_Normal.string=L.farmWorldInfo.numberNormalPlantAirDrop+" PLANTED NORMAL NFTS WILL EQUALLY SPLIT",this.Label_Normal_LE.string=c.numberWithCommas(L.farmWorldInfo.normalRewardLe),e.prototype.OnShow.call(this)}catch(e){}},t.Hide=function(){e.prototype.OnHide.call(this)},r}(s)).prototype,"Label_Fused",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=r(y.prototype,"Label_Fused_LE",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=r(y.prototype,"Label_Fused2",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=r(y.prototype,"Label_Fused_LE2",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=r(y.prototype,"Label_Normal",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=r(y.prototype,"Label_Normal_LE",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=y))||h));t._RF.pop()}}}));

System.register("chunks:///_virtual/UIButtonTab.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,o,n,a,c,l,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,c=t.Node,l=t.Sprite,u=t.Color,p=t.Component}],execute:function(){var s,d,h,f,b,g,y;n._RF.push({},"d4869T3CWNMMrgScr91Mf99","UIButtonTab",void 0);var v=a.ccclass,S=a.property;t("UIButtonTab",(s=v("UIButtonTab"),d=S(c),h=S(l),s((g=e((b=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,r(e,"nodeLight",g,o(e)),r(e,"nodeSprite",y,o(e)),e}i(e,t);var n=e.prototype;return n.Show=function(){this.nodeLight.active=!0,this.nodeSprite.color=new u(255,255,255,255)},n.Hide=function(){this.nodeLight.active=!1,this.nodeSprite.color=new u(255,255,255,100)},e}(p)).prototype,"nodeLight",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(b.prototype,"nodeSprite",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=b))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/UICrowKing.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts","./UserModel.ts","./ResHttp.ts","./ConfigApi.ts","./Utility.ts"],(function(e){"use strict";var i,t,n,r,o,l,a,u,c,s,g,b,p,m,_,f,w,h;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.Toggle,u=e.Node,c=e.Sprite,s=e.Label,g=e.assetManager,b=e.SpriteFrame,p=e.Texture2D},function(e){m=e.PopUpBase},function(e){_=e.UserModel},function(e){f=e.ResHttp},function(e){w=e.ConfigApi},function(e){h=e.Utility}],execute:function(){var d,C,v,K,y,R,z,T,N,S,P,I,k,G,U,A,D,H,O,M,F,x,E,L,q,B,W,J,Q,X,j;o._RF.push({},"d2155l6FJRMY51kFXXPOtqx","UICrowKing",void 0);var Y,V=l.ccclass,Z=l.property;!function(e){e[e.KingCrow=0]="KingCrow",e[e.Prize=1]="Prize",e[e.Guide=2]="Guide"}(Y||(Y={}));e("UICrowKing",(d=V("UICrowKing"),C=Z(a),v=Z(a),K=Z(a),y=Z(u),R=Z(u),z=Z(u),T=Z(c),N=Z(s),S=Z(s),P=Z(s),I=Z(s),k=Z(u),G=Z(u),U=Z(u),d((H=i((D=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return i=e.call.apply(e,[this].concat(o))||this,n(i,"m_toggleKingCrow",H,r(i)),n(i,"m_togglePrize",O,r(i)),n(i,"m_toggleGuide",M,r(i)),n(i,"m_panelContent",F,r(i)),n(i,"m_crowKing_Available",x,r(i)),n(i,"m_crowKing_NotAvailable",E,r(i)),n(i,"m_spriteQuestion",L,r(i)),n(i,"m_labelTitle",q,r(i)),n(i,"m_labelReward",B,r(i)),n(i,"m_labelResultDate",W,r(i)),n(i,"m_labelResults",J,r(i)),n(i,"m_resultNode",Q,r(i)),n(i,"m_noResultNode",X,r(i)),n(i,"m_HintSprite",j,r(i)),i.m_question_cacheUrl="https://pvu.sgp1.digitaloceanspaces.com/ads/0-hintCrowKing.png",i.m_question_cacheSpriteFrame=null,i.m_currentTab=Y.KingCrow,i}t(i,e);var o=i.prototype;return o.ResetTabs=function(){this.m_currentTab=Y.KingCrow,this.m_panelContent.forEach((function(e){e.active=!1})),this.m_toggleKingCrow.isChecked=!0,this.m_HintSprite.active=!_.IsCrowKingOutOfTime()},o.ShowTab=function(e){switch(void 0===e&&(e=Y.KingCrow),this.ResetTabs(),e){case Y.KingCrow:this.m_panelContent[0].active=!0;break;case Y.Prize:this.m_panelContent[1].active=!0;break;case Y.Guide:this.m_panelContent[2].active=!0}},i.LoadSpriteByUrl=function(e,i){void 0===i&&(i=null);var t=e.replace("pvu.sgp1","pvu.sgp1.cdn");g.loadRemote(t,{ext:".png"},(function(e,t){var n=new b,r=new p;r.image=t,n.texture=r,n.packable=!0,null==i||i(n)}))},o.Show=function(){var e=this;if(this.OnShow(),this.ResetTabs(),this.m_labelReward.string=h.numberWithCommas(_.farmWorldInfo.crowKingPrize),this.m_labelResults.forEach((function(e){e.string=""})),f.GetRequest(w.LINK_API+w.farm_winner_crow_king,null,(function(i){var t=JSON.parse(i).data;if(t.count<=0)e.m_resultNode.active=!1,e.m_noResultNode.active=!0;else{e.m_resultNode.active=!0,e.m_noResultNode.active=!1;for(var n=0,r=0,o=0;o<t.length;o++)for(var l=t[o].ownerId,a=0;a<t[o].numberHitted;a++)e.m_labelResults[n].string+=r+1+". "+l.slice(0,4)+"..."+l.slice(l.length-4)+"\n",3!=r&&7!=r||(n+=1),r+=1}}),(function(e){})),this.ShowTab(Y.KingCrow),this.m_toggleKingCrow.isChecked=!0,this.m_crowKing_Available.forEach((function(e){e.active=!0})),this.m_crowKing_NotAvailable.forEach((function(e){return e.active=!1})),this.m_labelTitle.string="KING CROW",null!=_.GetCrowKingData()){var i=_.serverTime-_.GetCrowKingData().apearenceTime,t=Math.floor(i/6e4),n=Math.floor(i%6e4);t>0&&n>0&&t<=60&&(this.m_labelTitle.string="KING CROW END IN: "+t+":"+n)}},o.toobleCrowKing_onClicked=function(){this.ShowTab(Y.KingCrow)},o.togglePrize_onClicked=function(){this.ShowTab(Y.Prize)},o.toggleGuide_onClicked=function(){this.ShowTab(Y.Guide)},o.btnClose_onClicked=function(){this.OnHide()},i}(m)).prototype,"m_toggleKingCrow",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(D.prototype,"m_togglePrize",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(D.prototype,"m_toggleGuide",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(D.prototype,"m_panelContent",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=i(D.prototype,"m_crowKing_Available",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=i(D.prototype,"m_crowKing_NotAvailable",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=i(D.prototype,"m_spriteQuestion",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=i(D.prototype,"m_labelTitle",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(D.prototype,"m_labelReward",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=i(D.prototype,"m_labelResultDate",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=i(D.prototype,"m_labelResults",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=i(D.prototype,"m_resultNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=i(D.prototype,"m_noResultNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=i(D.prototype,"m_HintSprite",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=D))||A));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIDescriptionInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts"],(function(i){"use strict";var e,t,n,o,r,l,a,s,c,p;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){r=i.cclegacy,l=i._decorator,a=i.Node,s=i.Sprite,c=i.Label},function(i){p=i.PopUpBase}],execute:function(){var h,u,d,b,f,v,S,g,w,y,_;r._RF.push({},"94995kxdftNFrCdP3exKByF","UIDescriptionInfo",void 0);var B=l.ccclass,I=l.property;i("UIDescriptionInfo",(h=B("UIDescriptionInfo"),u=I(a),d=I(s),b=I(c),f=I(c),h((g=e((S=function(i){function e(){for(var e,t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return e=i.call.apply(i,[this].concat(r))||this,n(e,"BG",g,o(e)),n(e,"iconSprite",w,o(e)),n(e,"labelLong",y,o(e)),n(e,"labelShort",_,o(e)),e._onShow=void 0,e._onHide=void 0,e}t(e,i);var r=e.prototype;return r.Show=function(i,e,t,n,o){this._onShow=n,this._onHide=o,null!=e?(this.BG.active=!0,this._onShow&&this._onShow(),this.iconSprite.spriteFrame=e,this.iconSprite.node.active=!0,this.iconSprite.node.worldScale=t.worldScale):(this.BG.active=!1,this.iconSprite.spriteFrame=e,this.iconSprite.node.active=!1),(i.match(/\n/g)||[]).length>3&&(i=i.slice(0,i.indexOf("\n"))),this.labelLong.string=i,this.labelShort.string=i,this.labelLong.node.parent.active=i.length>28,this.labelShort.node.parent.active=!this.labelLong.node.parent.active,this.node.worldPosition=t.worldPosition,this.node.active=!0},r.Hide=function(){this.BG.active||(this.node.active=!1)},r.onHide=function(){this._onHide&&this._onHide(),this.node.active=!1},e}(p)).prototype,"BG",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(S.prototype,"iconSprite",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(S.prototype,"labelLong",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(S.prototype,"labelShort",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=S))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIFitWidthHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utility.ts"],(function(t){"use strict";var i,e,a,n,s,o,r,c,l,h,d;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,o=t._decorator,r=t.UITransform,c=t.CCFloat,l=t.view,h=t.Component},function(t){d=t.Utility}],execute:function(){var u,p,f,b,y,v,z;s._RF.push({},"dee8cysVPNH9bwuhCz8NzbB","UIFitWidthHelper",void 0);var S=o.ccclass,g=o.property;t("UIFitWidthHelper",(u=S("UIFitWidthHelper"),p=g(r),f=g(c),u((v=i((y=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s))||this,a(i,"canvasToFit",v,n(i)),i.baseScale=1,i.designWidth=2001,a(i,"HardCodeWidth",z,n(i)),i.callbacks=[],i}e(i,t);var s=i.prototype;return s.start=function(){this.designWidth=l.getDesignResolutionSize().width,-1==this.HardCodeWidth&&(this.HardCodeWidth=this.getComponent(r).width),d.addResizeCallBack(this.node,function(){this.UpdateSize(200)}.bind(this)),this.baseScale=this.node.scale.x,this._updateSize()},s.UpdateSize=function(t){d.AsyncDelay(t).then(this._updateSize.bind(this))},s._updateSize=function(){if(null!=this.canvasToFit){if(this.HardCodeWidth>this.canvasToFit.width){var t=this.baseScale*(this.canvasToFit.width/this.designWidth);this.node.setScale(t,t,1)}else this.node.setScale(this.baseScale,this.baseScale,1);this.callbacks.forEach((function(t){t()}))}},s.onDestroy=function(){d.removeResizeCallBack(this.node)},i}(h)).prototype,"canvasToFit",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(y.prototype,"HardCodeWidth",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),b=y))||b));s._RF.pop()}}}));

System.register("chunks:///_virtual/UIIconCrowHunting.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,n,o,s,c,r,a,l,h,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,c=e._decorator,r=e.Sprite,a=e.sp,l=e.SpriteFrame,h=e.Node,u=e.Component}],execute:function(){var p,f,S,_,m,v,d,w,k,C,y;e("IconType",void 0),s._RF.push({},"d63e5HM+jVLGKq+zULAMHdU","UIIconCrowHunting",void 0);var U,g,b=c.ccclass,I=c.property;!function(e){e[e.Normal_1=0]="Normal_1",e[e.Normal_2=1]="Normal_2",e[e.Unlock_1=2]="Unlock_1",e[e.Unlock_2=3]="Unlock_2",e[e.Prize_1=4]="Prize_1",e[e.Prize_2=5]="Prize_2",e[e.Special_1=6]="Special_1",e[e.Special_2=7]="Special_2"}(U||(U=e("IconType",{}))),function(e){e[e.Select=0]="Select",e[e.UnSelect=1]="UnSelect",e[e.Result=2]="Result"}(g||(g={}));e("UIIconCrowHunting",(p=b("UIIconCrowHunting"),f=I(r),S=I(a.Skeleton),_=I([l]),m=I([h]),p((w=t((d=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return t=e.call.apply(e,[this].concat(s))||this,n(t,"icon",w,o(t)),n(t,"ske",k,o(t)),n(t,"iconFrames",C,o(t)),n(t,"effCrowVip",y,o(t)),t.id=-1,t.parent=null,t.iconType=U.Normal_1,t.iconStatus=g.Select,t}i(t,e);var s=t.prototype;return s.onLoad=function(){this.SetIcon(U.Normal_1),this.ske.setCompleteListener(this.onSpineCompleteListener.bind(this))},s.onSpineCompleteListener=function(){"select_crow_reveal"==this.ske.animation?this.ske.setAnimation(0,"select_crow_win",!0):"select_vip_reveal"==this.ske.animation&&this.ske.setAnimation(0,"select_vip_win",!0)},s.init=function(e,t){this.id=e,this.parent=t,this.SetIcon(U.Normal_1),this.icon.node.active=!0,this.ske.node.active=!1,this.iconStatus=g.Select,this.ske.setAnimation(0,"select_X_reveal",!1)},s.PlayAnim=function(e){if(this.icon.node.active=!1,this.ske.node.active=!0,this.iconStatus=g.Result,this.ske.setAnimation(0,e,!1),"select_vip_reveal"==e)this.scheduleOnce(function(){for(var e=0;e<this.effCrowVip.length;e++)this.effCrowVip[e].active=!0}.bind(this),.5);else for(var t=0;t<this.effCrowVip.length;t++)this.effCrowVip[t].active=!1},s.Select=function(){this.icon.node.active=!1,this.ske.node.active=!0,this.iconStatus=g.UnSelect,this.ske.setAnimation(0,"select",!1)},s.UnSelect=function(){this.icon.node.active=!0,this.ske.node.active=!1,this.iconStatus=g.Select,this.SetIcon(U.Normal_1)},s.SetIcon=function(e){if(this.iconType=e,this.icon.spriteFrame=this.iconFrames[e],this.iconType==U.Special_2)for(var t=0;t<this.effCrowVip.length;t++)this.effCrowVip[t].active=!0;else for(t=0;t<this.effCrowVip.length;t++)this.effCrowVip[t].active=!1},s.OnBtnClick=function(){this.iconStatus==g.Select?this.parent.ChoseSlot(this.id+1)&&this.Select():this.iconStatus==g.UnSelect?this.parent.UnChoseSlot(this.id+1)&&this.UnSelect():this.iconStatus==g.Result&&(this.parent.ResetData(),this.iconStatus=g.Select)},t}(u)).prototype,"icon",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(d.prototype,"ske",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(d.prototype,"iconFrames",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=t(d.prototype,"effCrowVip",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=d))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/UIInputAddSub.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,n,r,u,a,o,l,s,c,b;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){u=t.cclegacy,a=t._decorator,o=t.CCInteger,l=t.Button,s=t.SpriteFrame,c=t.EditBox,b=t.Component}],execute:function(){var p,d,h,m,f,A,S,y,v,C,U,g,w,I,z,x,B,Q,V;u._RF.push({},"b5689pcHdlDC6KS9+jFZp4r","UIInputAddSub",void 0);var D=a.ccclass,F=a.property;t("UIInputAddSub",(p=D("UIInputAddSub"),d=F(o),h=F(l),m=F(s),f=F(s),A=F(l),S=F(s),y=F(s),v=F(c),p((g=i((U=function(t){function i(){for(var i,e=arguments.length,u=new Array(e),a=0;a<e;a++)u[a]=arguments[a];return i=t.call.apply(t,[this].concat(u))||this,n(i,"maxQuality",g,r(i)),n(i,"btnAdd",w,r(i)),n(i,"sfAddActive",I,r(i)),n(i,"sfAddUnActive",z,r(i)),n(i,"btnSub",x,r(i)),n(i,"sfSubActive",B,r(i)),n(i,"sfSubUnActive",Q,r(i)),n(i,"editAmount",V,r(i)),i.amountCur=1,i.callbackUpdate=null,i}e(i,t);var u=i.prototype;return u.onEnable=function(){this.amountCur=1,this.UpdateView()},u.OnBtnAdd=function(){this.amountCur>=this.maxQuality||(this.amountCur++,this.UpdateView())},u.OnBtnSub=function(){this.amountCur<=1||(this.amountCur--,this.UpdateView())},u.OnBtnEditAmount=function(){this.amountCur=parseInt(this.editAmount.string),this.amountCur=Math.min(this.amountCur,this.maxQuality),this.amountCur=Math.max(this.amountCur,1),this.UpdateView()},u.UpdateView=function(){var t;this.editAmount.string=this.amountCur.toString(),this.amountCur<=1?this.btnSub.normalSprite=this.sfSubUnActive:this.btnSub.normalSprite=this.sfSubActive,this.amountCur>=this.maxQuality?this.btnAdd.normalSprite=this.sfAddUnActive:this.btnAdd.normalSprite=this.sfAddActive,null==(t=this.callbackUpdate)||t.call(this,this.amountCur)},i}(b)).prototype,"maxQuality",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),w=i(U.prototype,"btnAdd",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=i(U.prototype,"sfAddActive",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(U.prototype,"sfAddUnActive",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(U.prototype,"btnSub",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(U.prototype,"sfSubActive",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=i(U.prototype,"sfSubUnActive",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=i(U.prototype,"editAmount",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=U))||C));u._RF.pop()}}}));

System.register("chunks:///_virtual/UIItemChoseNumber.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){"use strict";var e,t,r,s,o,n,p,u,h,l;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,r=i.initializerDefineProperty,s=i.assertThisInitialized},function(i){o=i.cclegacy,n=i._decorator,p=i.Label,u=i.Sprite,h=i.SpriteFrame,l=i.Component}],execute:function(){var a,b,c,g,m,S,C,f,F,v,y;o._RF.push({},"44755SZcwdBLKATDBY+Gyzq","UIItemChoseNumber",void 0);var N=n.ccclass,d=n.property;i("UIItemChoseNumber",(a=N("UIItemChoseNumber"),b=d(p),c=d(u),g=d(h),m=d(h),a((f=e((C=function(i){function e(){for(var e,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return e=i.call.apply(i,[this].concat(o))||this,r(e,"txtNumber",f,s(e)),r(e,"bgSprite",F,s(e)),r(e,"bgActiveSF",v,s(e)),r(e,"bgNormalSF",y,s(e)),e.number=-1,e.isChosing=!1,e.popup=null,e}t(e,i);var o=e.prototype;return o.Init=function(i,e){this.popup=e,this.number=i,this.isChosing=!1,this.txtNumber.string=i+""},o.Chose=function(i){void 0===i&&(i=!0),5!=this.popup.numberChosingList.length&&(this.isChosing=!0,this.isChosing?this.bgSprite.spriteFrame=this.bgActiveSF:this.bgSprite.spriteFrame=this.bgNormalSF,i&&this.popup.AddNumber(this))},o.UnChose=function(i){void 0===i&&(i=!0),this.isChosing=!1,this.isChosing?this.bgSprite.spriteFrame=this.bgActiveSF:this.bgSprite.spriteFrame=this.bgNormalSF,i&&this.popup.RemoveNumber(this)},o.OnBtnToggle=function(){this.isChosing?this.UnChose():this.Chose()},e}(l)).prototype,"txtNumber",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(C.prototype,"bgSprite",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(C.prototype,"bgActiveSF",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(C.prototype,"bgNormalSF",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=C))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIItemDondCase.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,n,i,o,a,c,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Label,s=e.Component}],execute:function(){var l,u,p,d,f;o._RF.push({},"9db1erWCZRPzraKJcM5wRDW","UIItemDondCase",void 0);var I=a.ccclass,y=a.property;e("UIItemDondCase",(l=I("UIItemDondCase"),u=y(c),l((f=t((d=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"txtStt",f,i(t)),t}return r(t,e),t}(s)).prototype,"txtStt",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=d))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIItemDondCaseValue.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,n,l,a,o,u,c,s,b,p,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,o=e.Node,u=e.Sprite,c=e.SpriteFrame,s=e.Color,b=e.Label,p=e.LabelOutline,m=e.Component}],execute:function(){var f,h,v,g,N,y,D,F,d,w,z,C,I,A,S,x,O,B,U,T,V,L,_,P,k,H,R,j,q;e("UIItemDondCaseValueState",void 0),l._RF.push({},"287d0rQ0UhIE4GVH3vPAqxo","UIItemDondCaseValue",void 0);var E,G=a.ccclass,M=a.property;!function(e){e[e.Open=0]="Open",e[e.Close=1]="Close"}(E||(E=e("UIItemDondCaseValueState",{})));e("UIItemDondCaseValue",(f=G("UIItemDondCaseValue"),h=M(o),v=M(u),g=M(c),N=M(c),y=M(u),D=M(c),F=M(s),d=M(s),w=M(c),z=M(s),C=M(s),I=M(b),A=M(b),f((O=t((x=function(e){function t(){for(var t,r=arguments.length,l=new Array(r),a=0;a<r;a++)l[a]=arguments[a];return t=e.call.apply(e,[this].concat(l))||this,i(t,"boxNumber",O,n(t)),i(t,"spriteBgNumber",B,n(t)),i(t,"spriteFrameActiveNumber",U,n(t)),i(t,"spriteFrameDisableNumber",T,n(t)),i(t,"spriteBg",V,n(t)),i(t,"spriteFrameActive",L,n(t)),i(t,"colorTextActive",_,n(t)),i(t,"colorOutlineActive",P,n(t)),i(t,"spriteFrameDeactive",k,n(t)),i(t,"colorTextDeactive",H,n(t)),i(t,"colorOutlineDeactive",R,n(t)),i(t,"labelStt",j,n(t)),i(t,"labelNumber",q,n(t)),t.caseNumberServer=-1,t.index=-1,t.state=E.Open,t}r(t,e);var l=t.prototype;return l.Init=function(e,t){this.index=e,this.state=E.Open,this.labelStt.string=e.toString(),this.labelNumber.string=t},l.CheatCaseNumber=function(e){this.caseNumberServer=e,this.labelStt.string=e.toString()},l.UpdateState=function(e){switch(this.state=e,this.state){case E.Open:this.spriteBgNumber.spriteFrame=this.spriteFrameActiveNumber,this.boxNumber.active=!0,this.spriteBg.spriteFrame=this.spriteFrameActive,this.labelNumber.color=this.colorTextActive,this.labelNumber.getComponent(p).color=this.colorOutlineActive;break;case E.Close:this.spriteBgNumber.spriteFrame=this.spriteFrameDisableNumber,this.spriteBg.spriteFrame=this.spriteFrameDeactive,this.labelNumber.color=this.colorTextDeactive,this.labelNumber.getComponent(p).color=this.colorOutlineDeactive}},t}(m)).prototype,"boxNumber",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(x.prototype,"spriteBgNumber",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(x.prototype,"spriteFrameActiveNumber",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(x.prototype,"spriteFrameDisableNumber",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(x.prototype,"spriteBg",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(x.prototype,"spriteFrameActive",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(x.prototype,"colorTextActive",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(x.prototype,"colorOutlineActive",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(x.prototype,"spriteFrameDeactive",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(x.prototype,"colorTextDeactive",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(x.prototype,"colorOutlineDeactive",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(x.prototype,"labelStt",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(x.prototype,"labelNumber",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=x))||S));l._RF.pop()}}}));

System.register("chunks:///_virtual/UIItemDondCaseVote.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dealOrNoDealConfig.ts","./DealOrNoDealMiniGame.ts","./DondSoundController.ts"],(function(e){"use strict";var t,i,s,n,o,r,a,c,l,S,u,h,A,_,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,s=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,a=e.Label,c=e.Sprite,l=e.SpriteFrame,S=e.Color,u=e.Component},function(e){h=e.dealOrNoDealConfig},function(e){A=e.DealOrNoDealMiniGame},function(e){_=e.DondSoundController,p=e.DondSoundEnum}],execute:function(){var C,E,d,T,V,f,I,v,m,x,P,D,N;e("UIItemDondCaseVoteState",void 0),o._RF.push({},"97691ETBUlH3KDhSJuFHUeo","UIItemDondCaseVote",void 0);var G,b=r.ccclass,O=r.property;!function(e){e[e.Close_Deactive=0]="Close_Deactive",e[e.Close_Lock=1]="Close_Lock",e[e.Close_Select=2]="Close_Select",e[e.Close_Active=3]="Close_Active",e[e.Open_Active=4]="Open_Active"}(G||(G=e("UIItemDondCaseVoteState",{})));e("UIItemDondCaseVote",(C=b("UIItemDondCaseVote"),E=O(a),d=O(Number),T=O(c),V=O([l]),f=O(a),C((m=t((v=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,s(t,"txtPercentVote",m,n(t)),s(t,"index",x,n(t)),s(t,"spriteCase",P,n(t)),s(t,"spriteFrameList",D,n(t)),s(t,"txt",N,n(t)),t.state=G.Close_Deactive,t}i(t,e);var o=t.prototype;return o.onLoad=function(){this.txt.color=new S(255,255,255,255),this.SetActivePercentVote(!1),this.txt.string=h.CASE_NAMES[this.index]},o.Show=function(){this.SetActivePercentVote(!1),this.spriteCase.node.active=!0},o.Hide=function(){this.spriteCase.node.active=!1},o.SetIndexCase=function(e){this.index=e,this.txt.string=h.CASE_NAMES[this.index]},o.UpdatePercentVote=function(e,t){switch(A.Instance.GetState()){case h.GAME_STATE.VOTING_PHASE:case h.GAME_STATE.VOTING_SECOND_PHASE:case h.GAME_STATE.VOTING_THIRD_PHASE:case h.GAME_STATE.VOTING_FOURTH_PHASE:case h.GAME_STATE.VOTING_LAST_PHASE:this.state==G.Open_Active?this.SetActivePercentVote(!1):(this.SetActivePercentVote(!0),this.UpdateValuePercentVote(e,t));break;default:this.SetActivePercentVote(!1)}},o.UpdateState=function(e){this.SetActivePercentVote(!1),e.isRemoved?this.ShowCaseNumber(e.caseNumber):e.isHighestVoted?this.Hide():this.Show()},o.UpdateSprite=function(e){switch(this.state=e,e){case G.Close_Deactive:this.txt.color=new S(255,255,255,255),this.txt.string=h.CASE_NAMES[this.index],this.spriteCase.spriteFrame=this.spriteFrameList[e];break;case G.Close_Lock:this.txt.color=new S(255,255,255,100),this.txt.string=h.CASE_NAMES[this.index],this.spriteCase.spriteFrame=this.spriteFrameList[e];break;case G.Close_Select:case G.Close_Active:this.txt.color=new S(255,255,255,255),this.txt.string=h.CASE_NAMES[this.index],this.spriteCase.spriteFrame=this.spriteFrameList[e];break;default:this.txt.color=new S(255,255,255,255)}},o.ShowCaseNumber=function(e){this.state=G.Open_Active,this.spriteCase.spriteFrame=this.spriteFrameList[G.Open_Active],this.txt.color=new S(255,255,255,255),this.txt.string=e+"",this.SetActivePercentVote(!1)},o.UpdateValuePercentVote=function(e,t){if(t>0){var i=e/t*100;this.txtPercentVote.string=parseInt(i+"")+"%"}else this.txtPercentVote.string="0%"},o.SetActivePercentVote=function(e){this.txtPercentVote.node.parent.active=e},o.OnBtnClick=function(){if(0!=A.Instance.CanVoting()&&(!A.Instance.IsViewer()&&!(A.Instance.GetState()==h.GAME_STATE.VOTING_PHASE&&A.Instance.isVoted||1==A.Instance.isVotedRemove||this.state!=G.Close_Deactive&&this.state!=G.Close_Select)))switch(_.Instance.PlaySound(p.SFX_Select_Case),A.Instance.GetState()){case h.GAME_STATE.VOTING_PHASE:A.Instance.panelVoteCases.ChoseCaseToKeep(h.CASE_NAMES[this.index].toLocaleLowerCase());break;case h.GAME_STATE.VOTING_SECOND_PHASE:case h.GAME_STATE.VOTING_THIRD_PHASE:case h.GAME_STATE.VOTING_FOURTH_PHASE:case h.GAME_STATE.VOTING_LAST_PHASE:A.Instance.panelVoteCases.ChoseCaseToRemove(h.CASE_NAMES[this.index].toLocaleLowerCase())}},t}(u)).prototype,"txtPercentVote",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(v.prototype,"index",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=t(v.prototype,"spriteCase",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(v.prototype,"spriteFrameList",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=t(v.prototype,"txt",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=v))||I));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIItemElementMyAsset.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,r,o,s,c,l,a,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,c=t.Label,l=t.Sprite,a=t.SpriteFrame,u=t.Component}],execute:function(){var p,m,y,f,h,I,d,b,g;t("UIItemElementMyAssetType",void 0),o._RF.push({},"3cf45d4sIRMf72VmE608zcO","UIItemElementMyAsset",void 0);var M,P=s.ccclass,v=s.property;!function(t){t[t.Position=0]="Position",t[t.Slot=1]="Slot",t[t.Bidding=2]="Bidding",t[t.Plant=3]="Plant",t[t.MotherTree=4]="MotherTree"}(M||(M=t("UIItemElementMyAssetType",{})));t("UIItemElementMyAsset",(p=P("UIItemElementMyAsset"),m=v(c),y=v(l),f=v([a]),p((d=e((I=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,n(e,"txt",d,r(e)),n(e,"icon",b,r(e)),n(e,"iconList",g,r(e)),e}return i(e,t),e.prototype.Init=function(t,e){switch(this.icon.spriteFrame=this.iconList[t],t){case M.Position:this.txt.string=e[0]+","+e[1];break;case M.Slot:case M.Bidding:case M.Plant:case M.MotherTree:this.txt.string=e}},e}(u)).prototype,"txt",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(I.prototype,"icon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(I.prototype,"iconList",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=I))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIItemLottery.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIItemNumberLottery.ts","./Utility.ts","./LotteryMiniGame.ts"],(function(t){"use strict";var e,i,n,r,o,a,u,s,l,b,c,m,p,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,u=t.Sprite,s=t.SpriteFrame,l=t.Label,b=t.Node,c=t.Component},function(t){m=t.UIItemNumberLottery},function(t){p=t.Utility},function(t){h=t.LotteryMiniGame}],execute:function(){var y,f,g,d,v,I,L,R,B,w,N,S,z,U,x,_,k,A,F;o._RF.push({},"77134Ds1G9L6I/Of3hhaHYw","UIItemLottery",void 0);var T=a.ccclass,D=a.property;t("UIItemLottery",(y=T("UIItemLottery"),f=D(u),g=D(s),d=D(s),v=D(l),I=D(b),L=D(b),R=D(b),B=D([m]),y((S=e((N=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"bgSprite",S,r(e)),n(e,"bgEmpty",z,r(e)),n(e,"bgActive",U,r(e)),n(e,"txtStt",x,r(e)),n(e,"btnRandom",_,r(e)),n(e,"btnRemove",k,r(e)),n(e,"contentNumber",A,r(e)),n(e,"uiItemList",F,r(e)),e.index=0,e.numbers=[],e.tabBuy=void 0,e}i(e,t);var o=e.prototype;return o.init=function(t,e){this.tabBuy=e,this.index=t,this.txtStt.string="#"+(this.index+1),this.reset()},o.onBtnChosePopup=function(){this.tabBuy.ShowPopupChoseNumber(this)},o.RandomNumbers=function(t){this.UpdateNumbers(t),this.tabBuy.AddTicketBuying(this)},o.UpdateNumbers=function(t){t=t.sort((function(t,e){return t-e})),this.numbers=t,this.btnRandom.active=!1,this.btnRemove.active=!0,this.bgSprite.spriteFrame=this.bgActive;for(var e=0;e<this.uiItemList.length;e++)this.uiItemList[e].init(t[e])},o.onBtnRandom=function(){this.RandomNumbers(p.RandomLottery(h.Instance._tabBuyTicket.data.lotteryId,h.Instance._tabBuyTicket.GetListNumbers()))},o.onBtnRemove=function(){this.reset(),this.tabBuy.RemoveTicketBuying(this)},o.reset=function(){this.btnRandom.active=!0,this.btnRemove.active=!1,this.bgSprite.spriteFrame=this.bgEmpty;for(var t=0;t<this.uiItemList.length;t++)this.uiItemList[t].init(null);this.numbers=[]},e}(c)).prototype,"bgSprite",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(N.prototype,"bgEmpty",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(N.prototype,"bgActive",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(N.prototype,"txtStt",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(N.prototype,"btnRandom",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(N.prototype,"btnRemove",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(N.prototype,"contentNumber",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(N.prototype,"uiItemList",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=N))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIItemLotteryResult.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResHttp.ts","./ConfigApi.ts","./Utility.ts"],(function(t){"use strict";var e,i,n,r,o,a,s,l,p,c,u,h,b,d,f,g,y,w,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Node,l=t.Label,p=t.Sprite,c=t.SpriteFrame,u=t.log,h=t.instantiate,b=t.Vec3,d=t.UITransform,f=t.Size,g=t.Component},function(t){y=t.ResHttp},function(t){w=t.ConfigApi},function(t){m=t.Utility}],execute:function(){var k,J,z,x,I,R,v,D,L,S,C,O,T,U,F,W,A,B,G,H,N,_,P,V,K,M,Y,j,q,Z,E,Q,X;o._RF.push({},"a8350V7uDVAuYZ6Y7kTu9Pc","UIItemLotteryResult",void 0);var $=a.ccclass,tt=a.property;t("UIItemLotteryResult",(k=$("UIItemLotteryResult"),J=tt(s),z=tt(l),x=tt(l),I=tt(l),R=tt(l),v=tt([p]),D=tt([c]),L=tt([l]),S=tt(s),C=tt(s),O=tt(s),T=tt(s),U=tt(s),F=tt(s),W=tt(s),k((G=e((B=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"nodeArrow",G,r(e)),n(e,"txtHeader",H,r(e)),n(e,"txtJackpot1",N,r(e)),n(e,"txtJackpot2",_,r(e)),n(e,"txtJackpot3",P,r(e)),n(e,"spriteList",V,r(e)),n(e,"sfList",K,r(e)),n(e,"txtResult",M,r(e)),n(e,"prefabItemUserWin",Y,r(e)),n(e,"nodeJackpot1",j,r(e)),n(e,"nodeJackpot2",q,r(e)),n(e,"nodeJackpot3",Z,r(e)),n(e,"nodeLastest",E,r(e)),n(e,"nodeBox2",Q,r(e)),n(e,"contentBox2",X,r(e)),e.data=null,e.winners=null,e.isFirstOpenDetail=!1,e.isOpenDetail=!1,e}i(e,t);var o=e.prototype;return o.Init=function(t,e){this.nodeLastest.active=0==t,this.data=e,this.txtHeader.string="ROUND #"+e.lotteryId+"\n"+e.nextRound.split("T")[0],this.initResult(),y.GetRequest(w.LINK_API+w.get_winners,{lotteryId:this.data.lotteryId},this.onGetWinnerSuccess.bind(this),this.onGetWinnerFailed.bind(this))},o.onGetWinnerSuccess=function(t){this.winners=JSON.parse(t).data;for(var e=0,i=0,n=0,r=0;r<this.winners.length;r++)3==this.winners[r].winType&&n++,4==this.winners[r].winType&&i++,5==this.winners[r].winType&&e++;this.txtJackpot1.string="JACKPOT: "+e,this.txtJackpot2.string="2ND: "+i,this.txtJackpot3.string="3RD: "+n,u("onGetWinnerSuccess 1:"+JSON.stringify(this.winners))},o.onGetWinnerFailed=function(t){},o.initResult=function(){var t=[0,1,2,3,4],e=this.data.lotteryResult;e=e.sort((function(t,e){return t-e}));for(var i=0;i<this.txtResult.length;i++){var n=parseInt(Math.random()*t.length+""),r=t[n];t.splice(n,1),i<=e.length-1?this.txtResult[i].string=e[i]:this.txtResult[i].string="-",this.spriteList[i].spriteFrame=this.sfList[r]}},o.OnBtnClickDetail=function(){0==this.isFirstOpenDetail&&(this.isFirstOpenDetail=!0,this.initDetail()),this.isOpenDetail=!this.isOpenDetail,this.nodeBox2.active=this.isOpenDetail},o.initDetail=function(){for(var t=0;t<this.winners.length;t++){var e=this.winners[t],i=h(this.prefabItemUserWin);i.position=new b(0,0,0),i.getComponent(l).string=m.reduceWallet(e.ownerId),3==e.winType?i.parent=this.nodeJackpot3:4==e.winType?i.parent=this.nodeJackpot2:5==e.winType&&(i.parent=this.nodeJackpot1)}this.scheduleOnce((function(){var t=0;t<this.nodeJackpot1.getComponent(d).contentSize.height&&(t=this.nodeJackpot1.getComponent(d).contentSize.height),t<this.nodeJackpot2.getComponent(d).contentSize.height&&(t=this.nodeJackpot2.getComponent(d).contentSize.height),t<this.nodeJackpot3.getComponent(d).contentSize.height&&(t=this.nodeJackpot3.getComponent(d).contentSize.height);var e=this.contentBox2.getComponent(d);t+=50,e.setContentSize(new f(e.contentSize.width,t))}),0)},e}(g)).prototype,"nodeArrow",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(B.prototype,"txtHeader",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(B.prototype,"txtJackpot1",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(B.prototype,"txtJackpot2",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(B.prototype,"txtJackpot3",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(B.prototype,"spriteList",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=e(B.prototype,"sfList",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=e(B.prototype,"txtResult",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=e(B.prototype,"prefabItemUserWin",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(B.prototype,"nodeJackpot1",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(B.prototype,"nodeJackpot2",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e(B.prototype,"nodeJackpot3",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(B.prototype,"nodeLastest",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(B.prototype,"nodeBox2",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(B.prototype,"contentBox2",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=B))||A));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIItemMyAsset.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIItemElementMyAsset.ts","./UserModel.ts","./ResHttp.ts","./ConfigApi.ts","./UIPopupManager.ts","./UIToast.ts","./AdsBannerController.ts"],(function(t){"use strict";var n,e,i,o,a,r,s,l,c,u,d,p,I,h,f,m,b,g,y;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Sprite,l=t.Node,c=t.instantiate,u=t.Component},function(t){d=t.UIItemElementMyAsset,p=t.UIItemElementMyAssetType},function(t){I=t.UserModel,h=t.FarmWorldState},function(t){f=t.ResHttp},function(t){m=t.ConfigApi},function(t){b=t.UIPopupManager},function(t){g=t.TypeNoticeToast},function(t){y=t.AdsBannerController}],execute:function(){var A,v,P,M,S,B,L,N,U,_,C;a._RF.push({},"f92de7jaQtK8ZsUbL+0cgR9","UIItemMyAsset",void 0);var E=r.ccclass,T=r.property;t("UIItemMyAsset",(A=E("UIItemMyAsset"),v=T(s),P=T(s),M=T(l),S=T(l),A((N=n((L=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,i(n,"iconLand",N,o(n)),i(n,"iconAd",U,o(n)),i(n,"prefabElement",_,o(n)),i(n,"content",C,o(n)),n.data=null,n.root=null,n}e(n,t);var a=n.prototype;return a.Init=function(t,n){this.data=n,this.root=t,this.InitAdBanner(),this.InitLocation(),null!=n.numberBiddingSlots&&this.InitBidding(),null!=n.numberSlots&&this.InitNumberSlots(),null!=n.numberMotherTrees&&this.InitNumberMotherTrees(),null!=n.numberPlants&&this.InitNumberPlants()},a.InitNumberPlants=function(){var t=c(this.prefabElement);t.setParent(this.content),t.getComponent(d).Init(p.Plant,this.data.numberPlants)},a.InitNumberMotherTrees=function(){var t=c(this.prefabElement);t.setParent(this.content),t.getComponent(d).Init(p.MotherTree,this.data.numberMotherTrees)},a.InitAdBanner=function(){var t=this,n={x:this.data.location[0],y:this.data.location[1]},e=this;this.iconAd.node.active=!1,this.iconLand.node.active=!0,f.GetRequest(m.LINK_API+m.lands_get_banner_by_coordinate,n,(function(n){var i=JSON.parse(n).data;y.LoadSpriteAdByUrl(i,(function(n){null!=e&&null!=e.iconLand&&null!=e.iconAd&&null!=n&&(e.iconAd.spriteFrame=n,t.iconAd.node.active=!0,t.iconLand.node.active=!1)}))}),null)},a.InitBidding=function(){var t=c(this.prefabElement);t.setParent(this.content),t.getComponent(d).Init(p.Bidding,this.data.numberBiddingSlots)},a.InitNumberSlots=function(){var t=c(this.prefabElement);t.setParent(this.content),t.getComponent(d).Init(p.Slot,this.data.numberSlots)},a.InitLocation=function(){var t=c(this.prefabElement);t.setParent(this.content),t.getComponent(d).Init(p.Position,this.data.location)},a.onBtnVisit=function(){b.Instance.Loading(!0);var t={x:this.data.location[0],y:this.data.location[1]},n=this;f.GetRequest(m.LINK_API+m.lands_get_by_coordinate,t,(function(t){var e=JSON.parse(t).data[0];I.currentLandData=e;var i=I.GetFarmWorldState();i==h.PRE_BIDDING||1==e.isCenter?b.Instance.ShowToast("INFO","Can not join this land",g.Info):(h.BIDDING,n.root.node.active=!1,b.Instance.LoadScene("3.Farm"))}),(function(t){}))},a.onBtnRentAd=function(){b.Instance.ShowUIPopupBidAd(this.data.location[0],this.data.location[1],this.data._id)},n}(u)).prototype,"iconLand",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(L.prototype,"iconAd",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(L.prototype,"prefabElement",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(L.prototype,"content",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=L))||B));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIItemMyAssetPlant.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIItemElementMyAsset.ts","./UserModel.ts","./ResHttp.ts","./ConfigApi.ts","./UIPopupManager.ts","./UIToast.ts","./AdsBannerController.ts"],(function(t){"use strict";var n,e,i,r,o,a,l,s,u,c,p,d,b,m,f,h,g,I,A,y,v;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Sprite,s=t.SpriteFrame,u=t.Label,c=t.Node,p=t.instantiate,d=t.Component},function(t){b=t.UIItemElementMyAsset,m=t.UIItemElementMyAssetType},function(t){f=t.UserModel,h=t.FarmWorldState},function(t){g=t.ResHttp},function(t){I=t.ConfigApi},function(t){A=t.UIPopupManager},function(t){y=t.TypeNoticeToast},function(t){v=t.AdsBannerController}],execute:function(){var S,P,w,D,N,L,x,B,M,z,C,_,U,E,T,F,R,H,W,G,q,J,O,j,K,k,V,X,Q;o._RF.push({},"7dc27L6Xh9NxLcqxRzBnfJR","UIItemMyAssetPlant",void 0);var Y=a.ccclass,Z=a.property;t("UIItemMyAssetPlant",(S=Y("UIItemMyAssetPlant"),P=Z(l),w=Z(s),D=Z(s),N=Z(u),L=Z(u),x=Z(u),B=Z(u),M=Z(c),z=Z(c),C=Z(l),_=Z(l),U=Z(c),E=Z(c),S((R=n((F=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,i(n,"bg",R,r(n)),i(n,"bgNormal",H,r(n)),i(n,"bgAirDrop",W,r(n)),i(n,"txtHarvest",G,r(n)),i(n,"txtScareCrow",q,r(n)),i(n,"txtWatering",J,r(n)),i(n,"txtAirDrop",O,r(n)),i(n,"nodeStats",j,r(n)),i(n,"nodeAirDrop",K,r(n)),i(n,"iconLand",k,r(n)),i(n,"iconAd",V,r(n)),i(n,"prefabElement",X,r(n)),i(n,"content",Q,r(n)),n.data=null,n.root=null,n}e(n,t);var o=n.prototype;return o.Init=function(t,n){this.data=n,this.root=t,this.InitAdBanner(),this.InitLocation(),null!=n.numberBiddingSlots&&this.InitBidding(),null!=n.numberSlots&&this.InitNumberSlots(),null!=n.numberMotherTrees&&this.InitNumberMotherTrees(),null!=n.numberPlants&&this.InitNumberPlants(),n.numberAirDrop?(this.bg.spriteFrame=this.bgAirDrop,this.nodeAirDrop.active=!0,this.nodeStats.active=!1,this.txtAirDrop.string="Airdrop receive:"+n.numberAirDrop):(this.bg.spriteFrame=this.bgNormal,this.nodeAirDrop.active=!1,this.nodeStats.active=!0,this.txtHarvest.string=n.numberHavest,this.txtScareCrow.string=n.numberHaveCrow,this.txtWatering.string=n.numberNeedWater)},o.InitNumberPlants=function(){var t=p(this.prefabElement);t.setParent(this.content),t.getComponent(b).Init(m.Plant,this.data.numberPlants)},o.InitNumberMotherTrees=function(){var t=p(this.prefabElement);t.setParent(this.content),t.getComponent(b).Init(m.MotherTree,this.data.numberMotherTrees)},o.InitAdBanner=function(){var t=this,n={x:this.data.location[0],y:this.data.location[1]},e=this;this.iconAd.node.active=!1,this.iconLand.node.active=!0,g.GetRequest(I.LINK_API+I.lands_get_banner_by_coordinate,n,(function(n){var i=JSON.parse(n).data;v.LoadSpriteAdByUrl(i,(function(n){null!=e&&null!=e.iconLand&&null!=e.iconAd&&null!=n&&(e.iconAd.spriteFrame=n,t.iconAd.node.active=!0,t.iconLand.node.active=!1)}))}),null)},o.InitBidding=function(){var t=p(this.prefabElement);t.setParent(this.content),t.getComponent(b).Init(m.Bidding,this.data.numberBiddingSlots)},o.InitNumberSlots=function(){var t=p(this.prefabElement);t.setParent(this.content),t.getComponent(b).Init(m.Slot,this.data.numberSlots)},o.InitLocation=function(){var t=p(this.prefabElement);t.setParent(this.content),t.getComponent(b).Init(m.Position,this.data.location)},o.onBtnVisit=function(){A.Instance.Loading(!0);var t={x:this.data.location[0],y:this.data.location[1]},n=this;g.GetRequest(I.LINK_API+I.lands_get_by_coordinate,t,(function(t){var e=JSON.parse(t).data[0];f.currentLandData=e;var i=f.GetFarmWorldState();i==h.PRE_BIDDING||1==e.isCenter?A.Instance.ShowToast("INFO","Can not join this land",y.Info):(h.BIDDING,n.root.node.active=!1,A.Instance.LoadScene("3.Farm"))}),(function(t){}))},o.onBtnRentAd=function(){A.Instance.ShowUIPopupBidAd(this.data.location[0],this.data.location[1],this.data._id)},n}(d)).prototype,"bg",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(F.prototype,"bgNormal",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(F.prototype,"bgAirDrop",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(F.prototype,"txtHarvest",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=n(F.prototype,"txtScareCrow",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=n(F.prototype,"txtWatering",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(F.prototype,"txtAirDrop",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=n(F.prototype,"nodeStats",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=n(F.prototype,"nodeAirDrop",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(F.prototype,"iconLand",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=n(F.prototype,"iconAd",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=n(F.prototype,"prefabElement",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=n(F.prototype,"content",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=F))||T));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIItemMyTicketLotteries.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utility.ts"],(function(t){"use strict";var e,i,r,o,n,l,a,s,c,u,p,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,l=t._decorator,a=t.Label,s=t.Sprite,c=t.SpriteFrame,u=t.Color,p=t.Component},function(t){b=t.Utility}],execute:function(){var h,g,m,f,k,y,J,w,x,d,R,T,v,L,I,z,C,U,D;n._RF.push({},"54112C3oLFFQID/qjUirpd5","UIItemMyTicketLotteries",void 0);var F=l.ccclass,A=l.property;t("UIItemMyTicketLottery",(h=F("UIItemMyTicketLottery"),g=A(a),m=A(a),f=A(s),k=A(a),y=A([a]),J=A([s]),w=A(c),x=A(c),h((T=e((R=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n))||this,r(e,"txtRound",T,o(e)),r(e,"txtJackpot",v,o(e)),r(e,"bgJackpot",L,o(e)),r(e,"txtTitleJackpot",I,o(e)),r(e,"txtResultList",z,o(e)),r(e,"bgResultList",C,o(e)),r(e,"sfResult1",U,o(e)),r(e,"sfResult2",D,o(e)),e}i(e,t);var n=e.prototype;return n.Init=function(t,e,i){this.txtRound.string="#"+(i+1),this.initNumbers(t.result,e),null==e.winType?this.bgJackpot.node.active=!1:3==e.winType?(this.txtJackpot.string=b.numberWithCommas(e.rewardAmount),this.bgJackpot.node.active=!0,this.bgJackpot.color=new u(193,229,183,255),this.txtTitleJackpot.string="3RD",this.txtTitleJackpot.color=new u(43,144,65,255)):4==e.winType?(this.txtJackpot.string=b.numberWithCommas(e.rewardAmount),this.bgJackpot.node.active=!0,this.bgJackpot.color=new u(193,229,183,255),this.txtTitleJackpot.string="2ND",this.txtTitleJackpot.color=new u(43,144,65,255)):5==e.winType?(this.txtJackpot.string=b.numberWithCommas(e.rewardAmount),this.bgJackpot.node.active=!0,this.bgJackpot.color=new u(255,185,80,255),this.txtTitleJackpot.string="JACKPOT",this.txtTitleJackpot.color=new u(158,80,80,255)):this.bgJackpot.node.active=!1},n.initNumbers=function(t,e){var i=e.choiceNumbers;i=i.sort((function(t,e){return t-e}));for(var r=0;r<i.length;r++){this.txtResultList[r].string=i[r];var o=t.indexOf(i[r]);this.bgResultList[r].spriteFrame=o>=0?this.sfResult1:this.sfResult2}},e}(p)).prototype,"txtRound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(R.prototype,"txtJackpot",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(R.prototype,"bgJackpot",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(R.prototype,"txtTitleJackpot",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(R.prototype,"txtResultList",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=e(R.prototype,"bgResultList",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=e(R.prototype,"sfResult1",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(R.prototype,"sfResult2",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=R))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/UIItemNumberLottery.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,n,o,u,l,a,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,u=e._decorator,l=e.Label,a=e.Node,c=e.Component}],execute:function(){var s,b,d,p,m,y,h,f,N;o._RF.push({},"ce5bdYoJQhEkqkyslpnvy+K","UIItemNumberLottery",void 0);var v=u.ccclass,I=u.property;e("UIItemNumberLottery",(s=v("UIItemNumberLottery"),b=I(l),d=I(a),p=I(a),s((h=t((y=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return t=e.call.apply(e,[this].concat(o))||this,i(t,"txtNumber",h,n(t)),i(t,"nodeAdd",f,n(t)),i(t,"nodeNumber",N,n(t)),t.number=null,t}return r(t,e),t.prototype.init=function(e){this.number=e,null==e?(this.nodeAdd.active=!0,this.nodeNumber.active=!1):(this.nodeAdd.active=!1,this.nodeNumber.active=!0,this.txtNumber.string=e)},t}(c)).prototype,"txtNumber",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=t(y.prototype,"nodeAdd",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(y.prototype,"nodeNumber",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=y))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIItemRoundLottery.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResHttp.ts","./ConfigApi.ts"],(function(t){"use strict";var i,e,r,n,s,l,o,a,c,u,p,y,d;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,o=t.Sprite,a=t.SpriteFrame,c=t.Label,u=t.log,p=t.Component},function(t){y=t.ResHttp},function(t){d=t.ConfigApi}],execute:function(){var h,g,b,f,m,k,I,v,R,T,A;s._RF.push({},"89b760Cth1HspQY+boavGgV","UIItemRoundLottery",void 0);var C=l.ccclass,L=l.property;t("UIItemRoundLottery",(h=C("UIItemRoundLottery"),g=L(o),b=L(a),f=L(a),m=L(c),h((v=i((I=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),l=0;l<e;l++)s[l]=arguments[l];return i=t.call.apply(t,[this].concat(s))||this,r(i,"bg",v,n(i)),r(i,"spriteBgNormal",R,n(i)),r(i,"spriteBgActive",T,n(i)),r(i,"txtRound",A,n(i)),i.isClicked=!1,i.cbClick=null,i.data=null,i.dataMyTickets=null,i.myTickets=null,i}e(i,t);var s=i.prototype;return s.Init=function(t,i){this.data=t,this.cbClick=i,this.isClicked=!1,this.bg.spriteFrame=this.spriteBgNormal,this.txtRound.string="Round #"+t.lotteryId+"\n"+t.nextRound.split("T")[0]},s.OnBtnClick=function(){this.isClicked=!0,this.bg.spriteFrame=this.spriteBgActive,this.requestMyTickets(1)},s.requestMyTickets=function(t){void 0===t&&(t=1),y.GetRequest(d.LINK_API+d.get_my_tickets,{limit:d.DEFAULT_PAGE,offset:(t-1)*d.DEFAULT_PAGE,lotteryId:this.data.lotteryId},this.OnGetMyTicket.bind(this),null)},s.UnActive=function(){this.isClicked=!1,this.bg.spriteFrame=this.spriteBgNormal},s.OnGetMyTicket=function(t){var i;this.dataMyTickets=JSON.parse(t),this.myTickets=JSON.parse(t).data,u("OnGetMyTicket:"+JSON.stringify(JSON.parse(t))),null==(i=this.cbClick)||i.call(this,this)},i}(p)).prototype,"bg",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(I.prototype,"spriteBgNormal",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=i(I.prototype,"spriteBgActive",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=i(I.prototype,"txtRound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=I))||k));s._RF.pop()}}}));

System.register("chunks:///_virtual/UIItemShop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIInputAddSub.ts","./ConfigGame.ts","./Utility.ts","./ResHttp.ts","./ConfigApi.ts","./UserModel.ts","./UIPopupManager.ts","./UIToast.ts"],(function(t){"use strict";var e,n,i,r,o,a,u,s,c,p,l,f,y,h,S,m,I,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,u=t.Label,s=t.log,c=t.Component},function(t){p=t.UIInputAddSub},function(t){l=t.ConfigGame},function(t){f=t.Utility},function(t){y=t.ResHttp},function(t){h=t.ConfigApi},function(t){S=t.UserModel},function(t){m=t.UIPopupManager},function(t){I=t.TypeNoticeToast,C=t.SubIconNoticeToast}],execute:function(){var g,b,d,w,T,U,P,B,L;t("ItemTypeShop",void 0),o._RF.push({},"94b06rAdY9C6o1iMD9Ogzg/","UIItemShop",void 0);var v,A=a.ccclass,W=a.property;!function(t){t[t.ScareCrow=1]="ScareCrow",t[t.Water=2]="Water"}(v||(v=t("ItemTypeShop",{})));t("UIItemShop",(g=A("UIItemShop"),b=W(typeof v),d=W(p),w=W(u),g((P=e((U=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"itemType",P,r(e)),i(e,"input",B,r(e)),i(e,"txtPrice",L,r(e)),e}n(e,t);var o=e.prototype;return o.onEnable=function(){this.input.callbackUpdate=this.updatePrice.bind(this)},o.updatePrice=function(t){switch(this.itemType){case v.Water:this.txtPrice.string=f.numberWithCommas(t*l.PriceBuyWater);break;case v.ScareCrow:this.txtPrice.string=f.numberWithCommas(t*l.PriceBuyScareCrow)}},o.OnBtnBuy=function(){var t=this;if(this.input.amountCur*l.PriceBuyWater>S.LE)m.Instance.ShowToast("FAIL!","Not enough to LE!",I.Error);else{var e={toolType:this.itemType,quantity:this.input.amountCur};s("OnBtnBuy:"+JSON.stringify(e)),y.PostRequest(h.LINK_API+h.shop_buy_tools,e,(function(e){switch(s("OnBtnBuy success::"+JSON.stringify(e)),e=JSON.parse(e).data,S.LE=parseInt(e.remainLeAmount+""),t.itemType){case v.Water:S.Watering+=t.input.amountCur,m.Instance.ShowToast("SUCCESS!",t.input.amountCur+"",I.Success,!0,C.Water);break;case v.ScareCrow:S.ScareCrow+=t.input.amountCur,m.Instance.ShowToast("SUCCESS!",t.input.amountCur+"",I.Success,!0,C.ScareCrow)}}),(function(t){m.Instance.ShowToast("FAIL!","Not enough to LE!",I.Error),s("OnBtnBuy failed::"+JSON.stringify(t))}))}},e}(c)).prototype,"itemType",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.ScareCrow}}),B=e(U.prototype,"input",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(U.prototype,"txtPrice",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=U))||T));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIMinigameMenu.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts","./UIPopupManager.ts","./UserModel.ts"],(function(n){"use strict";var e,i,t,c,o,a;return{setters:[function(n){e=n.inheritsLoose},function(n){i=n.cclegacy,t=n._decorator},function(n){c=n.PopUpBase},function(n){o=n.UIPopupManager},function(n){a=n.UserModel}],execute:function(){var d;i._RF.push({},"3733frnY3pOd7m3Pbd9MxqT","UIMinigameMenu",void 0);var s=t.ccclass;t.property,n("UIMinigameMenu",s("UIMinigameMenu")(d=function(n){function i(){for(var e,i=arguments.length,t=new Array(i),c=0;c<i;c++)t[c]=arguments[c];return(e=n.call.apply(n,[this].concat(t))||this).whiteListDond=["0x3f81f2a9b6b78c520186693a0c6b9ee44004202e","0x9f380a0d79ff738429afdd84e9db432dbb75ccbe","0x052920b33ccdeb143e8d316a4110cbb65f0dcfd0","0x706dd398c4bc5659c4f41be63939a93dcd4aa912","0x83d82e9c7b2804b14d97a68bd5b1668c3b38c6f6","0x2662dfd58d0442c9960675a0cf8cf1649a8eece6"],e}e(i,n);var t=i.prototype;return t.Show=function(){n.prototype.OnShow.call(this)},t.Hide=function(){n.prototype.OnHide.call(this)},t.onBack=function(){this.Hide(),o.Instance.ShowUIScreenMain()},t.onBtnBetting=function(){a.minigameSceneType="0",o.Instance.LoadScene("1.MiniGame",this.Hide.bind(this))},t.onBtnLottery=function(){a.minigameSceneType="1",o.Instance.LoadScene("1.MiniGame",this.Hide.bind(this))},t.onBtnCrowHunt=function(){a.minigameSceneType="2",o.Instance.LoadScene("1.MiniGame",this.Hide.bind(this))},t.onBtnDond=function(){o.Instance.Loading(!0),a.minigameSceneType="3",o.Instance.LoadScene("1.MiniGame",this.Hide.bind(this))},t.onBtnSetting=function(){o.Instance.ShowUISetting(this.onBack.bind(this))},i}(c))||d);i._RF.pop()}}}));

System.register("chunks:///_virtual/UIPages.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConfigApi.ts"],(function(t){"use strict";var e,i,n,a,r,s,c,o,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,c=t.Label,o=t.Component},function(t){g=t.ConfigApi}],execute:function(){var l,u,h,P,f;r._RF.push({},"950c4fGNfJEy7+lTfmC5yf5","UIPages",void 0);var p=s.ccclass,d=s.property;t("UIPages",(l=p("UIPages"),u=d(c),l((f=e((P=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(e,"txtPage",f,a(e)),e.currentPage=1,e.totalPage=1,e.cbLeft=null,e.cbRight=null,e}i(e,t);var r=e.prototype;return r.Init=function(t){this.currentPage=1,this.totalPage=Math.ceil(t/g.DEFAULT_PAGE),this.UpdateUI()},r.AddCbLeft=function(t){this.cbLeft=t},r.AddCbRight=function(t){this.cbRight=t},r.UpdateUI=function(){this.txtPage.string=this.currentPage+"/"+this.totalPage},r.AddNewPage=function(){this.totalPage++,this.currentPage=this.totalPage,this.txtPage.string=this.currentPage+"/"+this.totalPage},r.OnBtnLeft=function(){var t;this.currentPage--,this.currentPage<1&&(this.currentPage=1),this.UpdateUI(),null==(t=this.cbLeft)||t.call(this,this.currentPage)},r.OnBtnRight=function(){var t;this.currentPage++,this.currentPage>this.totalPage&&(this.currentPage=this.totalPage),this.UpdateUI(),null==(t=this.cbRight)||t.call(this,this.currentPage)},e}(o)).prototype,"txtPage",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=P))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIPopupBidAd.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts","./ResHttp.ts","./ConfigApi.ts","./EventSystem.ts","./UserModel.ts","./ConfigGame.ts","./UIPopupManager.ts","./UIToast.ts"],(function(t){"use strict";var e,i,n,r,o,a,l,s,u,c,p,f,h,b,d,g,m,y,v,A,R;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Label,s=t.Node,u=t.Sprite,c=t.sys,p=t.SpriteFrame,f=t.log},function(t){h=t.PopUpBase},function(t){b=t.ResHttp},function(t){d=t.ConfigApi},function(t){g=t.GlobalEvents,m=t.EventType},function(t){y=t.UserModel},function(t){v=t.ConfigGame},function(t){A=t.UIPopupManager},function(t){R=t.TypeNoticeToast}],execute:function(){var x,E,I,B,P,w,N,L,U,S,T,z,D,F,_,O,M,C,H,G,K;o._RF.push({},"7d715c6gExPgrSyRRUf8Kmc","UIPopupBidAd",void 0);var k=a.ccclass,q=a.property;t("UIPopupBidAd",(x=k("UIPopupBidAd"),E=q(l),I=q(l),B=q(l),P=q(l),w=q(s),N=q(s),L=q(u),U=q(s),S=q(l),x((D=e((z=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"txtBotLeft",D,r(e)),n(e,"txtTopLeft",F,r(e)),n(e,"txtTopRight",_,r(e)),n(e,"txtBotRight",O,r(e)),n(e,"btnDisable",M,r(e)),n(e,"btnAcive",C,r(e)),n(e,"imgAd",H,r(e)),n(e,"nodeEmpty",G,r(e)),n(e,"priceLabels",K,r(e)),e.x=-1,e.y=-1,e.landId="",e.file="",e}i(e,t);var o=e.prototype;return o.start=function(){this.priceLabels.forEach((function(t){t.string=v.PRICE_BANNER.toString()}))},o.Show=function(t,e,i){if(c.platform==c.Platform.ANDROID||c.platform==c.Platform.IOS)return A.Instance.ShowToast("INFO","Not available on Mobile app.",2),void(this.node.active=!1);this.OnShow(),this.x=t,this.y=e,this.landId=i,this.imgAd.node.active=!1,this.imgAd.spriteFrame=null,this.nodeEmpty.active=!0,this.txtBotLeft.string=this.x+","+this.y,this.txtTopLeft.string=this.x+","+this.y,this.txtTopRight.string=this.x+","+this.y,this.txtBotRight.string=this.x+","+this.y,this.btnDisable.active=!0,this.btnAcive.active=!1},o.Hide=function(){this.OnHide()},o.OnBtnUpdate=function(){var t=this,e=document.createElement("input");e.type="file",e.accept="image/*",e.onchange=function(e){var i=e.target.files[0];if(t.file=i,i.size>v.SIZE_BANNER)A.Instance.ShowToast("Error","Picture size must be less than 100KB!",R.Error);else{var n=new FileReader;n.onload=function(e){var i=new Image;i.src=e.target.result,i.onload=function(){t.imgAd.spriteFrame=p.createWithImage(i),t.imgAd.node.active=!0,t.nodeEmpty.active=!1,t.btnDisable.active=!1,t.btnAcive.active=!0}},n.readAsDataURL(i)}},e.click()},o.OnBtnBid=function(){var t=this,e=[this.x,this.y],i=new FormData;i.append("file",this.file);for(var n=0;n<e.length;n++)i.append("location",e[n]);b.PostRequestForm(d.LINK_API+d.ads_rent,i,"location=",(function(e){JSON.parse(e);g.publish(m.FARM_BANNER_UPDATE,{x:t.x,y:t.y}),y.LE-=v.PRICE_BANNER,t.Hide()}),(function(t){f("PostRequestFormError : "+JSON.stringify(t))}))},e}(h)).prototype,"txtBotLeft",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(z.prototype,"txtTopLeft",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(z.prototype,"txtTopRight",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(z.prototype,"txtBotRight",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(z.prototype,"btnDisable",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(z.prototype,"btnAcive",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(z.prototype,"imgAd",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(z.prototype,"nodeEmpty",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(z.prototype,"priceLabels",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=z))||T));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIPopupLobbyManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var e,t,r,o,a;return{setters:[function(n){e=n.inheritsLoose,t=n.createClass},function(n){r=n.cclegacy,o=n._decorator,a=n.Component}],execute:function(){var c;r._RF.push({},"ef712asx9xDJbv2MRgqxvbJ","UIPopupLobbyManager",void 0);var s=o.ccclass;o.property,n("UIPopupLobbyManager",s("UIPopupLobbyManager")(c=function(n){function r(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))||this)._instance=null,e}return e(r,n),t(r,[{key:"Instance",get:function(){return this._instance}}]),r}(a))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/UIPopupManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConfigApi.ts","./UserModel.ts","./LoginManager.ts","./FarmingServicesApi.ts","./EventSystem.ts","./UIToast.ts","./Utility.ts","./SocketFarmHandler.ts","./ConfigGame.ts"],(function(o){"use strict";var t,i,n,e,a,r,p,s,u,c,l,d,h,f,g,I,S,U,m,v,P,w,L,M,b,T,k,A,_,N;return{setters:[function(o){t=o.applyDecoratedDescriptor,i=o.inheritsLoose,n=o.initializerDefineProperty,e=o.assertThisInitialized},function(o){a=o.cclegacy,r=o._decorator,p=o.Node,s=o.Sprite,u=o.UIOpacity,c=o.director,l=o.game,d=o.Game,h=o.tween,f=o.color,g=o.Tween,I=o.resources,S=o.Prefab,U=o.instantiate,m=o.Component},function(o){v=o.ConfigApi},function(o){P=o.UserModel},function(o){w=o.LoginManager},function(o){L=o.FarmingServicesApi},function(o){M=o.GlobalEvents,b=o.EventType},function(o){T=o.SubIconNoticeToast},function(o){k=o.Utility},function(o){A=o.SocketFarmHandler,_=o.TYPE_NOTIFICATION},function(o){N=o.ConfigGame}],execute:function(){var y,C,F,D,E,R,W,O,H,q,z,B,G,V,K,J;o("LoadingType",void 0),a._RF.push({},"3036ek40DJGiaiK4+dmYVo5","UIPopupManager",void 0);var Y,x=r.ccclass,j=r.property;!function(o){o[o.normal=0]="normal",o[o.noAnim=1]="noAnim",o[o.loadScene=2]="loadScene"}(Y||(Y=o("LoadingType",{})));o("UIPopupManager",(y=x("UIPopupManager"),C=j(p),F=j(s),D=j(p),E=j(p),R=j(u),W=j(p),y(((J=function(o){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=o.call.apply(o,[this].concat(a))||this,n(t,"loadingNode",q,e(t)),n(t,"loadingNodeSprite",z,e(t)),n(t,"popupParent",B,e(t)),n(t,"popupParentTop",G,e(t)),n(t,"LoadingLong",V,e(t)),n(t,"HighlightNode",K,e(t)),t.popUpMap=new Map,t.popUpArray=[],t.timePause=0,t.timePauseDelta=0,t._LoginManager=void 0,t.Socket_onChatAllCallback=void 0,t.Socket_onNotice=void 0,t.Socket_onErr=void 0,t.loadingTimeOut=void 0,t}i(t,o);var a=t.prototype;return a.onLoad=function(){null==t.Instance?(t.Instance=this,c.addPersistRootNode(this.node)):this.destroy()},a.start=function(){var o=this;l.on(d.EVENT_HIDE,(function(){o.timePause=Date.now()}),this,!1),l.on(d.EVENT_SHOW,(function(){if(""!=P.Token){var t=Date.now()-o.timePause;o.timePauseDelta+=t,P.serverTime+=t,o.timePauseDelta>3e4&&(o.timePauseDelta=0,o.RequestUserInfo(null))}}),this,!1),k.PreLoadPopup("UIDescriptionInfo"),k.PreLoadPopup("FarmToastSpeakerUI"),this._LoginManager=this.getComponentInChildren(w),this._LoginManager&&this._LoginManager.ShowLogin(),h(this.LoadingLong).delay(.8).to(.3,{opacity:0}).call((function(){o.LoadingLong.node.active=!1})).start(),this.Socket_onChatAllCallback=M.subscribe(b.Socket_onChatAllCallback,this.onSocket_onChatAllCallback.bind(this)),this.Socket_onNotice=M.subscribe(b.Socket_onNotice,this.onSocket_Notice.bind(this)),this.Socket_onErr=M.subscribe(b.Socket_onErr,this.onSocket_onErr.bind(this))},a.onDestroy=function(){M.unsubscribe(b.Socket_onChatAllCallback,this.Socket_onChatAllCallback),M.unsubscribe(b.Socket_onNotice,this.Socket_onNotice),M.unsubscribe(b.Socket_onErr,this.Socket_onErr)},a.OnLoginSuccess=function(){t.Instance.ShowUIScreenMain(),this.RequestUserInfo(this.RequestFarmWorld.bind(this)),A.Connect()},a.onSocket_onChatAllCallback=function(o){for(var t in o)if(null!=o[t]){this.FarmToastSpeakerUIAddMsg({address:t,msg:o[t],time:o.time});break}},a.onSocket_onErr=function(o){this.ShowToast("Error",o.data,0)},a.onSocket_Notice=function(o){o.type==_.TRANSFER_LE&&o.ownerId==P.ownerId&&(P.LE+=o.amount)},a.ReturnToLoginScreen=function(){P.Token="",this._LoginManager&&this._LoginManager.ShowLogin(),A.Disconnect()},a.update=function(o){P.serverTime+=1e3*o,this.updateFarmWorld()},a.RequestUserInfo=function(o){L.RequestUserInfo((function(t){var i=JSON.parse(t);P.serverTime=i.data.serverTime,P.LE=i.data.leAmount,i.data.wateringTools&&(P.Watering=i.data.wateringTools),i.data.chaseCrowTools&&(P.ScareCrow=i.data.chaseCrowTools),P.FreeTicket=i.data.numberOfLotteryTickets,P.ownerId=i.data.publicAddress,null!=o&&o()}),this.ReturnToLoginScreen.bind(this))},a.RequestFarmWorld=function(){L.RequestFarmWorld((function(o){P.farmWorldInfo=JSON.parse(o).data,M.publish(b.FARM_WORLD_UPDATE,null)}),this.ReturnToLoginScreen.bind(this))},a.updateFarmWorld=function(){if(null!=P.farmWorldInfo)return P.serverTime>P.farmWorldInfo.endDate+N.YearBreakDuration?(P.farmWorldInfo=null,void this.RequestFarmWorld()):void 0},a.CheckUpgradeVersion=function(o){var t=o.split("."),i=v.VERSION.split(".");return!(parseInt(i[0])>parseInt(t[0]))&&(parseInt(i[0])<parseInt(t[0])||!(parseInt(i[1])>parseInt(t[1]))&&(parseInt(i[1])<parseInt(t[1])||!(parseInt(i[2])>parseInt(t[2]))&&parseInt(i[2])<parseInt(t[2])))},a.Loading=function(o,t){var i=this;void 0===t&&(t=Y.noAnim);if(o){switch(t){case Y.normal:this.loadingNodeSprite.color=f(0,0,0,170),this.loadingNodeSprite.node.active=!0;break;case Y.noAnim:this.loadingNodeSprite.node.active=!1;break;case Y.loadScene:this.loadingNodeSprite.color=f(0,0,0,255),this.loadingNodeSprite.node.active=!0}this.loadingNode.active=!0,this.loadingTimeOut=setTimeout((function(){i.loadingNode.active=!1}),1e4)}else this.loadingNode.active=!1,clearTimeout(this.loadingTimeOut)},a.LoadScene=function(o,t){var i=this;void 0===t&&(t=null),g.stopAll(),this.HideToast(),this.Loading(!0),c.loadScene(o,(function(){i.Loading(!1),null!=t&&t()}))},a.LoadPopup=function(o,t,i){void 0===i&&(i=!1),this.popUpMap.has(o)?t():(this.Loading(!0,Y.noAnim),I.load("ui_prefab/"+o,S,function(n,e){var a=U(e);a.setParent(i?this.popupParentTop:this.popupParent);var r=a.getComponent(o);this.popUpMap.set(o,r),i||this.popUpArray.push(r),this.SortPopup(),this.Loading(!1,Y.noAnim),t()}.bind(this)))},a.SortPopup=function(){this.popUpArray.sort((function(o,t){return t.order-o.order}));for(var o=0;o<this.popUpArray.length;o++)this.popUpArray[o].node.setSiblingIndex(0)},a.ShowToast=function(o,t,i,n,e){var a=this;void 0===n&&(n=!0),void 0===e&&(e=T.None),this.LoadPopup("UIToast",(function(){a.popUpMap.get("UIToast").Show(o,t,i,n,e)}),!0)},a.HideToast=function(){this.popUpMap.has("UIToast")&&this.popUpMap.get("UIToast").HideToast()},a.ShowPopupConfirmUI=function(o,t,i,n,e,a,r,p){var s=this;void 0===e&&(e="Confirm"),void 0===a&&(a=!1),void 0===r&&(r=!0),void 0===p&&(p=!0),this.LoadPopup("PopupConfirmUI",(function(){s.popUpMap.get("PopupConfirmUI").Show(o,t,i,n,e,a,r,p)}),!0)},a.ShowUIScreenMain=function(){var o=this;this.LoadPopup("UIScreenMain",(function(){o.popUpMap.get("UIScreenMain").Show()}))},a.ShowUISetting=function(o,t){var i=this;void 0===t&&(t="quit"),this.LoadPopup("UISetting",(function(){i.popUpMap.get("UISetting").Show(o,t)}))},a.ShowUIPopupMyAssets=function(){var o=this;this.LoadPopup("UIPopupMyAssets",(function(){o.popUpMap.get("UIPopupMyAssets").Show()}))},a.ShowUIPopupShop=function(o){var t=this;void 0===o&&(o=null),this.LoadPopup("UIPopupShop",(function(){t.popUpMap.get("UIPopupShop").Show(o)}))},a.ShowUIPopupBidAd=function(o,t,i){var n=this;this.LoadPopup("UIPopupBidAd",(function(){n.popUpMap.get("UIPopupBidAd").Show(o,t,i)}))},a.ShowFarmPopupFilterPlantUI=function(o){var t=this;this.LoadPopup("FarmPopupFilterPlantUI",(function(){t.popUpMap.get("FarmPopupFilterPlantUI").Show(o)}))},a.ShowFarmPopupFilterDecorUI=function(o){var t=this;this.LoadPopup("FarmPopupFilterDecorUI",(function(){t.popUpMap.get("FarmPopupFilterDecorUI").Show(o)}))},a.ShowNotification=function(o,t){var i=this;this.LoadPopup("UIPopupNotification",(function(){i.popUpMap.get("UIPopupNotification").Show(o,t)}),!0)},a.ShowUIWeather=function(){var o=this;this.LoadPopup("UIWeather",(function(){o.popUpMap.get("UIWeather").Show()}))},a.ShowUICrowKing=function(){var o=this;this.LoadPopup("UICrowKing",(function(){o.popUpMap.get("UICrowKing").Show()}))},a.ShowUIDescriptionInfo=function(o,t,i,n,e){var a=this;this.LoadPopup("UIDescriptionInfo",(function(){a.popUpMap.get("UIDescriptionInfo").Show(o,t,i,n,e)}),!0)},a.HideUIDescriptionInfo=function(){this.popUpMap.has("UIDescriptionInfo")&&this.popUpMap.get("UIDescriptionInfo").Hide()},a.FarmToastSpeakerUIAddMsg=function(o){var t=this,i=c.getScene().name;"3.Farm"!=i&&"2.WorldMap"!=i||this.LoadPopup("FarmToastSpeakerUI",(function(){t.popUpMap.get("FarmToastSpeakerUI").AddMsg(o)}))},a.ShowUIAirDrop=function(){var o=this;this.LoadPopup("UIAirDrop",(function(){o.popUpMap.get("UIAirDrop").Show()}))},a.ShowUIMinigameMenu=function(){var o=this;this.LoadPopup("UIMinigameMenu",(function(){o.popUpMap.get("UIMinigameMenu").Show()}))},t}(m)).Instance=void 0,q=t((H=J).prototype,"loadingNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(H.prototype,"loadingNodeSprite",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(H.prototype,"popupParent",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(H.prototype,"popupParentTop",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(H.prototype,"LoadingLong",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(H.prototype,"HighlightNode",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=H))||O));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIPopupMyAssets.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts","./UIPages.ts","./UIPopupManager.ts","./ResHttp.ts","./ConfigApi.ts","./UserModel.ts","./UIItemMyAsset.ts","./ConfigGame.ts","./UIItemMyAssetPlant.ts"],(function(t){"use strict";var e,n,i,o,a,l,r,s,c,u,p,f,g,d,h,b,I,m,y,P;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,l=t._decorator,r=t.Node,s=t.ScrollView,c=t.Toggle,u=t.instantiate},function(t){p=t.PopUpBase},function(t){f=t.UIPages},function(t){g=t.UIPopupManager},function(t){d=t.ResHttp},function(t){h=t.ConfigApi},function(t){b=t.UserModel,I=t.FarmWorldState},function(t){m=t.UIItemMyAsset},function(t){y=t.ConfigGame},function(t){P=t.UIItemMyAssetPlant}],execute:function(){var S,B,w,v,U,M,A,L,T,z,C,_,O,N,k,F,G,H,x;a._RF.push({},"40b3ajSolhACrh0WeCG7IkZ","UIPopupMyAssets",void 0);var D,R=l.ccclass,W=l.property;!function(t){t[t.None=0]="None",t[t.Bidding=1]="Bidding",t[t.Slot=2]="Slot",t[t.Plant=3]="Plant"}(D||(D={}));t("UIPopupMyAssets",(S=R("UIPopupMyAssets"),B=W(r),w=W(r),v=W(r),U=W(s),M=W(c),A=W(c),L=W(c),T=W(f),S((_=e((C=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a))||this,i(e,"emptyBox",_,o(e)),i(e,"prefabItem",O,o(e)),i(e,"prefabItemPlant",N,o(e)),i(e,"scrollLIst",k,o(e)),i(e,"toggleBidding",F,o(e)),i(e,"togglePlant",G,o(e)),i(e,"toggleSlot",H,o(e)),i(e,"pages",x,o(e)),e.curTab=D.None,e}n(e,t);var a=e.prototype;return a.Show=function(){this.OnShow(),this.curTab=D.None,b.GetFarmWorldState()==I.BIDDING?(this.ShowTab(D.Bidding),this.toggleBidding.isChecked=!0):(this.ShowTab(D.Plant),this.togglePlant.isChecked=!0)},a.ShowTab=function(t){var e=this;if(void 0===t&&(t=D.Bidding),this.curTab!=t){this.curTab=t,g.Instance.Loading(!0);var n="";switch(t){case D.Bidding:n=h.lands_my_bidding;break;case D.Slot:n=h.lands_my_slots;break;case D.Plant:n=h.lands_my_plants}d.GetRequest(h.LINK_API+n,null,(function(t){t=JSON.parse(t).data,e.loadList(t)}),(function(t){}))}},a.loadList=function(t){if(this.scrollLIst.content.removeAllChildren(),t.length>0){this.scrollLIst.node.active=!0,this.emptyBox.active=!1,t=t.sort((function(t,e){return t.location[0]*y.FarmWorldMapSize-e.location[0]*y.FarmWorldMapSize-(e.location[1]-t.location[1])}));for(var e=0;e<t.length;e++)if(this.curTab==D.Plant){var n=u(this.prefabItemPlant);n.setParent(this.scrollLIst.content),n.getComponent(P).Init(this,t[e])}else{var i=u(this.prefabItem);i.setParent(this.scrollLIst.content),i.getComponent(m).Init(this,t[e])}}else this.scrollLIst.node.active=!1,this.emptyBox.active=!0},a.Hide=function(){this.OnHide()},a.SetCallbackHide=function(t){},a.OnBtnOpenBidding=function(){this.ShowTab(D.Bidding)},a.OnBtnOpenSlot=function(){this.ShowTab(D.Slot)},a.OnBtnOpenPlant=function(){this.ShowTab(D.Plant)},e}(p)).prototype,"emptyBox",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(C.prototype,"prefabItem",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(C.prototype,"prefabItemPlant",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(C.prototype,"scrollLIst",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(C.prototype,"toggleBidding",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(C.prototype,"togglePlant",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(C.prototype,"toggleSlot",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(C.prototype,"pages",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=C))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIPopupNotification.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts"],(function(t){"use strict";var i,e,o,r,n,a,p,c;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,p=t.Label},function(t){c=t.PopUpBase}],execute:function(){var l,s,u,f,h,b,y;n._RF.push({},"8bf63j8CEZMboDLpQDhg9+l","UIPopupNotification",void 0);var g=a.ccclass,P=a.property;t("UIPopupNotification",(l=g("UIPopupNotification"),s=P(p),u=P(p),l((b=i((h=function(t){function i(){for(var i,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return i=t.call.apply(t,[this].concat(n))||this,o(i,"txtTitle",b,r(i)),o(i,"txtNoti",y,r(i)),i}e(i,t);var n=i.prototype;return n.Show=function(t,i){this.OnShow(),this.txtTitle.string=t.toUpperCase(),this.txtNoti.string=i},n.Hide=function(){this.OnHide()},i}(c)).prototype,"txtTitle",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=i(h.prototype,"txtNoti",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=h))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/UIPopupShop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts"],(function(o){"use strict";var t,n,e,p;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,e=o._decorator},function(o){p=o.PopUpBase}],execute:function(){var i;n._RF.push({},"db161k7wo1FkonUvmbWhQN7","UIPopupShop",void 0);var u=e.ccclass;e.property,o("UIPopupShop",u("UIPopupShop")(i=function(o){function n(){return o.apply(this,arguments)||this}t(n,o);var e=n.prototype;return e.Show=function(o){void 0===o&&(o=null),this.OnShow(),this.SetCallbackHide(o)},e.Hide=function(){this.OnHide()},n}(p))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/UIPrizeCrowHunting.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,i,e,r,o,u,a,l,c;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,u=t._decorator,a=t.Label,l=t.Node,c=t.Component}],execute:function(){var s,p,f,g,h,d,y,P,b;o._RF.push({},"fa61dgVlgJBGJOy3uN/7ZeO","UIPrizeCrowHunting",void 0);var m=u.ccclass,v=u.property;t("UIPrizeCrowHunting",(s=m("UIPrizeCrowHunting"),p=v(a),f=v(a),g=v(l),s((y=n((d=function(t){function n(){for(var n,i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return n=t.call.apply(t,[this].concat(o))||this,e(n,"txtNum",y,r(n)),e(n,"txtX",P,r(n)),e(n,"nodePoint",b,r(n)),n.num=0,n}i(n,t);var o=n.prototype;return o.Init=function(t,n){this.num=t,this.txtNum.string=t.toString(),this.txtX.string="x"+n.toString(),this.nodePoint.active=!1},o.ShowPoint=function(t){this.num==t?this.nodePoint.active=!0:this.nodePoint.active=!1},n}(c)).prototype,"txtNum",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=n(d.prototype,"txtX",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=n(d.prototype,"nodePoint",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=d))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIScreenMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts","./UIPopupManager.ts","./UserModel.ts"],(function(n){"use strict";var t,e,i,o,a,r,c,s,u,l;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,c=n.Node},function(n){s=n.PopUpBase},function(n){u=n.UIPopupManager},function(n){l=n.UserModel}],execute:function(){var p,d,f,h,I,M,g;a._RF.push({},"b70c55M2m1LNaeVoMHiifvC","UIScreenMain",void 0);var y=r.ccclass,B=r.property;n("UIScreenMain",(p=y("UIScreenMain"),d=B(c),f=B(c),p((M=t((I=function(n){function t(){for(var t,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t=n.call.apply(n,[this].concat(a))||this,i(t,"leLabel",M,o(t)),i(t,"adBtns",g,o(t)),t}e(t,n);var a=t.prototype;return a.Show=function(){n.prototype.OnShow.call(this),this.updateAdsBtn()},a.updateAdsBtn=function(){this.adBtns[1].active=l.IsHideAds,this.adBtns[0].active=!this.adBtns[1].active},a.onAdBtnClick=function(){l.IsHideAds=!l.IsHideAds,this.updateAdsBtn()},a.OnFarmClick=function(){var t=this;u.Instance.LoadScene("2.WorldMap",(function(){n.prototype.OnHide.call(t)}))},a.OnMiniGameClick=function(){n.prototype.OnHide.call(this),u.Instance.ShowUIMinigameMenu()},a.onBtnSetting=function(){u.Instance.ShowUISetting(this.onQuit,"Logout")},a.onQuit=function(){u.Instance.ReturnToLoginScreen()},t}(s)).prototype,"leLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=t(I.prototype,"adBtns",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=I))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/UISetting.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts","./UserModel.ts","./EventSystem.ts","./UIPopupManager.ts"],(function(t){"use strict";var e,n,i,o,a,u,l,r,s,c,p,g,b,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,u=t._decorator,l=t.Toggle,r=t.Node,s=t.Label},function(t){c=t.PopUpBase},function(t){p=t.UserModel},function(t){g=t.GlobalEvents,b=t.EventType},function(t){f=t.UIPopupManager}],execute:function(){var h,d,S,U,D,L,y,B,O,v,M;a._RF.push({},"262b7D+ZiVDpqYxZO7J2oy+","UISetting",void 0);var m=u.ccclass,I=u.property;t("UISetting",(h=m("UISetting"),d=I(l),S=I(l),U=I(r),D=I(s),h((B=e((y=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];return e=t.call.apply(t,[this].concat(a))||this,i(e,"toggleMusic",B,o(e)),i(e,"toggleSound",O,o(e)),i(e,"BtnQuit",v,o(e)),i(e,"BtnQuitLabel",M,o(e)),e.onBtnQuitCB=null,e}n(e,t);var a=e.prototype;return a.Show=function(t,e){this.OnShow(),this.toggleMusic.isChecked=p.userLocalData.musicOn,this.toggleSound.isChecked=p.userLocalData.soundOn,this.onBtnQuitCB=t,this.BtnQuit.active=null!=t,this.BtnQuitLabel.string="LOGOUT"},a.onMusicToggle=function(){p.userLocalData.musicOn=!p.userLocalData.musicOn,p.SaveUserLocalData(),g.publish(b.UPDATE_MUSIC,null)},a.onSoundToggle=function(){p.userLocalData.soundOn=!p.userLocalData.soundOn,p.SaveUserLocalData(),g.publish(b.UPDATE_SOUND,null)},a.OnBtnSave=function(){this.OnHide()},a.OnBtnQuit=function(){f.Instance.ReturnToLoginScreen(),this.OnHide()},e}(c)).prototype,"toggleMusic",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(y.prototype,"toggleSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(y.prototype,"BtnQuit",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(y.prototype,"BtnQuitLabel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=y))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIToast.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,o,r,n,s,l,a,u,c,p,h,w,f,b,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,s=e._decorator,l=e.Sprite,a=e.SpriteFrame,u=e.CCInteger,c=e.Label,p=e.Node,h=e.UITransform,w=e.Vec3,f=e.Color,b=e.tween,v=e.Component}],execute:function(){var I,m,T,d,S,g,C,y,M,O,x,N,z,E,D,B,F,U,W,P,_,k,H,R,L;e({SubIconNoticeToast:void 0,TypeNoticeToast:void 0}),n._RF.push({},"50b62ihIp9P+rV9JIo/K0Kp","UIToast",void 0);var K,V,Z=s.ccclass,j=s.property;!function(e){e[e.Error=0]="Error",e[e.Success=1]="Success",e[e.Info=2]="Info"}(K||(K=e("TypeNoticeToast",{}))),function(e){e[e.None=0]="None",e[e.ScareCrow=1]="ScareCrow",e[e.Water=2]="Water"}(V||(V=e("SubIconNoticeToast",{})));e("UIToast",(I=Z("UIToast"),m=j(l),T=j(a),d=j(a),S=j(u),g=j(c),C=j(c),y=j(l),M=j(a),O=j(a),x=j(a),N=j(p),I((D=t((E=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n))||this,o(t,"spriteSubIcon",D,r(t)),o(t,"sfWater",B,r(t)),o(t,"sfScareCrow",F,r(t)),o(t,"order",U,r(t)),o(t,"txtTitle",W,r(t)),o(t,"txtDes",P,r(t)),o(t,"imgIcon",_,r(t)),o(t,"spriteError",k,r(t)),o(t,"spriteInfo",H,r(t)),o(t,"spriteSuccess",R,r(t)),o(t,"BoxNode",L,r(t)),t.autoCloseTimeOut=void 0,t.tweenMoveIn=void 0,t.tweenMoveOut=void 0,t}i(t,e);var n=t.prototype;return n.Show=function(e,t,i,o,r){var n=this;switch(void 0===r&&(r=V.None),r){case V.Water:this.txtDes.overflow=c.Overflow.NONE,this.spriteSubIcon.node.parent.active=!0,this.spriteSubIcon.spriteFrame=this.sfWater;break;case V.ScareCrow:this.txtDes.overflow=c.Overflow.NONE,this.spriteSubIcon.node.parent.active=!0,this.spriteSubIcon.spriteFrame=this.sfScareCrow;break;default:this.txtDes.overflow=c.Overflow.RESIZE_HEIGHT,this.txtDes.getComponent(h).setContentSize(440,0),this.spriteSubIcon.node.parent.active=!1}this.node.active=!0,this.txtDes.string=t,this.txtTitle.string=e.toUpperCase(),o?this.MoveIn():this.BoxNode.setPosition(w.ZERO),i==K.Error?(this.imgIcon.spriteFrame=this.spriteError,this.txtTitle.color=new f(234,55,55,255)):i==K.Success?(this.imgIcon.spriteFrame=this.spriteSuccess,this.txtTitle.color=new f(43,144,65,255)):(this.txtTitle.color=new f(43,144,65,255),this.imgIcon.spriteFrame=this.spriteInfo),clearTimeout(this.autoCloseTimeOut);this.autoCloseTimeOut=setTimeout((function(){n.Close()}),5e3)},n.setSubIcon=function(e){},n.MoveIn=function(){null!=this.tweenMoveIn&&this.tweenMoveIn.stop(),null!=this.tweenMoveOut&&this.tweenMoveOut.stop(),this.BoxNode.setPosition(new w(1e3,-150,0)),this.tweenMoveIn=b(this.BoxNode).to(.2,{position:new w(-50,-150,0)}),this.tweenMoveIn.start()},n.OnBtnCloseClick=function(){clearTimeout(this.autoCloseTimeOut),this.Close()},n.Close=function(){var e=this;null!=this.tweenMoveIn&&this.tweenMoveIn.stop(),null!=this.tweenMoveOut&&this.tweenMoveOut.stop(),this.tweenMoveOut=b(this.BoxNode).to(.2,{position:new w(1e3,-150,0)}).call((function(){e.node.active=!1})),this.tweenMoveOut.start()},n.HideToast=function(){clearTimeout(this.autoCloseTimeOut),null!=this.tweenMoveIn&&this.tweenMoveIn.stop(),null!=this.tweenMoveOut&&this.tweenMoveOut.stop(),this.node.active=!1},t}(v)).prototype,"spriteSubIcon",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(E.prototype,"sfWater",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(E.prototype,"sfScareCrow",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(E.prototype,"order",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),W=t(E.prototype,"txtTitle",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(E.prototype,"txtDes",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(E.prototype,"imgIcon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(E.prototype,"spriteError",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(E.prototype,"spriteInfo",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(E.prototype,"spriteSuccess",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(E.prototype,"BoxNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=E))||z));n._RF.pop()}}}));

System.register("chunks:///_virtual/UIToggle.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,o,r,l,n,s,c,h,a,u,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,l=e.createClass},function(e){n=e.cclegacy,s=e._decorator,c=e.Sprite,h=e.Label,a=e.Color,u=e.Toggle,g=e.Component}],execute:function(){var p,f,b,d,y,C,k,_,T,L,v;n._RF.push({},"b775d9EyclFYqWZN2IGf7wU","UIToggle",void 0);var m=s.ccclass,D=s.property,E=s.executeInEditMode;e("UIToggle",(p=m("UIToggle"),f=D([c]),b=D([h]),d=D(a),y=D(a),p(C=E((_=t((k=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),n=0;n<i;n++)l[n]=arguments[n];return t=e.call.apply(e,[this].concat(l))||this,o(t,"spriteList",_,r(t)),o(t,"labelList",T,r(t)),o(t,"colorEnable",L,r(t)),o(t,"colorDisable",v,r(t)),t._toggle=null,t._otherToggle=null,t._isChecked=null,t}i(t,e);var n=t.prototype;return n.start=function(){this.isChecked=this.toggle.isChecked},n.updateStatus=function(){for(var e=0;e<this.spriteList.length;e++)this.spriteList[e]&&(this.spriteList[e].color=this.isChecked?this.colorEnable:this.colorDisable);for(var t=0;t<this.labelList.length;t++)this.labelList[t]&&(this.labelList[t].color=this.isChecked?this.colorEnable:this.colorDisable)},n.Check=function(){this.isChecked=!0,this.otherToggle.forEach((function(e){e.UnCheck()}))},n.UnCheck=function(){this.isChecked=!1},l(t,[{key:"toggle",get:function(){return null==this._toggle&&(this._toggle=this.node.getComponent(u)),this._toggle}},{key:"otherToggle",get:function(){var e=this;return null==this._otherToggle&&(this._otherToggle=[],this.node.parent.children.forEach((function(i){var o=i.getComponent(t);i!=e.node&&null!=o&&e._otherToggle.push(o)}))),this._otherToggle}},{key:"isChecked",get:function(){return this._isChecked},set:function(e){e!==this._isChecked&&(this._isChecked=e,this.toggle.isChecked=e,this.updateStatus())}}]),t}(g)).prototype,"spriteList",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(k.prototype,"labelList",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=t(k.prototype,"colorEnable",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(k.prototype,"colorDisable",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(k.prototype,"otherToggle",[D],Object.getOwnPropertyDescriptor(k.prototype,"otherToggle"),k.prototype),C=k))||C)||C));n._RF.pop()}}}));

System.register("chunks:///_virtual/UIWeather.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts","./IconInfo.ts","./UserModel.ts","./ResourcesManager.ts","./ConfigGame.ts","./Utility.ts"],(function(e){"use strict";var t,n,i,r,o,a,s,l,f,c,u,p,d,g,h,b,m,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Widget,l=e.Label,f=e.Sprite,c=e.SpriteFrame,u=e.tween},function(e){p=e.PopUpBase},function(e){d=e.IconInfo},function(e){g=e.UserModel,h=e.FarmWorldState},function(e){b=e.ResourcesManager},function(e){m=e.ConfigGame},function(e){y=e.Utility}],execute:function(){var _,S,v,F,I,W,w,U,z,T,L,C,D,M,P,R,A,B,E,x,G;o._RF.push({},"74890sevZtPPLfB+3dktfjF","UIWeather",void 0);var H=a.ccclass,O=a.property;e("UIWeather",(_=H("UIWeather"),S=O(s),v=O(l),F=O(l),I=O(l),W=O(f),w=O(l),U=O(c),z=O(d),T=O(d),_((D=t((C=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"panelWidget",D,r(t)),i(t,"year",M,r(t)),i(t,"year_dayleft",P,r(t)),i(t,"season",R,r(t)),i(t,"season_icons",A,r(t)),i(t,"season_timeleft",B,r(t)),i(t,"season_iconSpriteFrame",E,r(t)),i(t,"icon_buff",x,r(t)),i(t,"icon_debuff",G,r(t)),t}n(t,e);var o=t.prototype;return o.Show=function(){var t=this;e.prototype.OnShow.call(this),u(this.panelWidget).to(.2,{right:0}).start(),this.year.string="YEAR - "+(g.farmWorldInfo.yearOrder+1).toString();var n=g.GetFarmWorldState();if(n==h.Spring||n==h.Summer||n==h.Autumn||n==h.Winter){this.year_dayleft.node.active=this.season_timeleft.node.active=!0;var i=Math.floor((g.farmWorldInfo.endDate-g.serverTime)/864e5);this.year_dayleft.string=1==i?i+" DAY LEFT":i+" DAYS LEFT";var r=g.farmWorldInfo.startSeasons[n-3],o=g.farmWorldInfo.endDate;n-2<g.farmWorldInfo.startSeasons.length&&(o=g.farmWorldInfo.startSeasons[n-2]);var a=g.serverTime;this.season_timeleft.string=y.ConvertSecondsToTimeSecond((o-a)/1e3).toUpperCase()+" LEFT",this.season_icons[1].fillRange=-(o-a)/(o-r)}else this.year_dayleft.node.active=this.season_timeleft.node.active=!1,n=h.Spring;this.season.string=h[n].toString().toUpperCase(),this.season_icons[0].spriteFrame=this.season_iconSpriteFrame[n-3],this.season_icons[1].spriteFrame=this.season_icons[0].spriteFrame;for(var s=g.plantConfig.support.season[h[n]],l=function(e){e<s.length?b.Instance.LoadFactionSprite(s[e],(function(n){t.icon_buff[e].Init(n,"Faction: "+m.FactionText[s[e]],!0,s[e])})):t.icon_buff[e].Init(null)},f=0;f<this.icon_buff.length;f++)l(f);for(var c=g.plantConfig.sabotage.season[h[n]],p=function(e){e<c.length?b.Instance.LoadFactionSprite(c[e],(function(n){t.icon_debuff[e].Init(n,"Faction: "+m.FactionText[c[e]],!0,c[e])})):t.icon_debuff[e].Init(null)},d=0;d<this.icon_debuff.length;d++)p(d)},o.Hide=function(){e.prototype.OnHide.call(this),this.panelWidget.right=0,u(this.panelWidget).to(.2,{right:-800}).start()},t}(p)).prototype,"panelWidget",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(C.prototype,"year",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(C.prototype,"year_dayleft",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(C.prototype,"season",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(C.prototype,"season_icons",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=t(C.prototype,"season_timeleft",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(C.prototype,"season_iconSpriteFrame",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=t(C.prototype,"icon_buff",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=t(C.prototype,"icon_debuff",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=C))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/UserModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventSystem.ts"],(function(e){"use strict";var t,r,n,o,a;return{setters:[function(e){t=e.createClass},function(e){r=e.cclegacy,n=e.sys},function(e){o=e.GlobalEvents,a=e.EventType}],execute:function(){e("FarmWorldState",void 0),r._RF.push({},"e48c9TptIdAr6xS8ya3acrW","UserModel",void 0);var i,s=e("UserModel",function(){function e(){}return e.SaveUserLocalData=function(){n.localStorage.setItem("userLocalData",JSON.stringify(this.userLocalData))},e.GetFarmWorldState=function(){return null==e.farmWorldInfo||e.serverTime>=e.farmWorldInfo.endDate||e.serverTime<e.farmWorldInfo.startBidding?i.PRE_BIDDING:e.serverTime<e.farmWorldInfo.startDemo?i.BIDDING:e.serverTime<e.farmWorldInfo.startDate?i.DEMO:e.serverTime<e.farmWorldInfo.startSeasons[1]?i.Spring:e.serverTime<e.farmWorldInfo.startSeasons[2]?i.Summer:e.serverTime<e.farmWorldInfo.startSeasons[3]?i.Autumn:e.serverTime<e.farmWorldInfo.endDate?i.Winter:i.PRE_BIDDING},e.GetCrowKingData=function(){return null!=e.farmWorldInfo.crowKing&&null!=e.farmWorldInfo.crowKing?e.farmWorldInfo.crowKing:null},e.GetCrowKingAppearanceInMS=function(){return null==e.GetCrowKingData()?-1:e.serverTime-e.GetCrowKingData().apearenceTime},e.IsCrowKingOutOfTime=function(){var t=e.GetCrowKingAppearanceInMS();return t<0||t>e.farmWorldInfo.crowKingLengthTime},t(e,null,[{key:"Token",get:function(){return this._token||(this._token=n.localStorage.getItem("token")),this._token},set:function(e){this._token=e,n.localStorage.setItem("token",e)}},{key:"userLocalData",get:function(){if(!this._userLocalData){var e=n.localStorage.getItem("userLocalData");this._userLocalData=e?JSON.parse(e):{musicOn:!0,soundOn:!0,change_log_version:""}}return this._userLocalData}},{key:"LE",get:function(){return this._le},set:function(e){this._le=e,o.publish(a.LE_INFO_UPDATED,e)}},{key:"FreeTicket",get:function(){return this._freeTicket},set:function(e){this._freeTicket=e,o.publish(a.FREETICKET_INFO_UPDATED,e)}},{key:"Watering",get:function(){return this._watering},set:function(e){this._watering=e,o.publish(a.WATERING_INFO_UPDATED,e)}},{key:"ScareCrow",get:function(){return this._scareCrow},set:function(e){this._scareCrow=e,o.publish(a.SCARECROW_INFO_UPDATED,e)}},{key:"IsHideAds",get:function(){return!1},set:function(e){this._isHideAds=e,n.localStorage.setItem("IsHideAds",e?"true":"false")}}]),e}());s._token="",s._userLocalData=null,s.timeSendSpeaker=null,s.serverTime=void 0,s.farmWorldInfo=null,s.plantConfig=null,s.ownerId="",s._le=0,s._freeTicket=0,s._watering=0,s._scareCrow=0,s.currentLandData=void 0,s.isShowAirDropBanner=!1,s.minigameSceneType="0",s._isHideAds=null,function(e){e[e.PRE_BIDDING=0]="PRE_BIDDING",e[e.BIDDING=1]="BIDDING",e[e.DEMO=2]="DEMO",e[e.Spring=3]="Spring",e[e.Summer=4]="Summer",e[e.Autumn=5]="Autumn",e[e.Winter=6]="Winter"}(i||(i=e("FarmWorldState",{}))),r._RF.pop()}}}));

System.register("chunks:///_virtual/Utility.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var r,e,n,o,a,i,u,c,l,s,f,h,p;return{setters:[function(t){r=t.createClass,e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t.sys,i=t.game,u=t.view,c=t.tween,l=t.ParticleSystem,s=t.Animation,f=t.log,h=t.resources,p=t.Prefab}],execute:function(){o._RF.push({},"e73f879pn1EOpwpVVSeMUdM","Utility",void 0);var v=t("Utility",function(){function t(){}return t.reduceWallet=function(t){return t.slice(0,4)+"..."+t.slice(t.length-4,t.length)},t.keepUpdateWhenChangeTab=function(){a.isBrowser&&(i.frameRate=59,i.pause=function(){},i.resume=function(){})},t.addResizeCallBack=function(r,e){t.isSetCallBack||u.setResizeCallback((function(){null!=t.ResizeCallback&&clearTimeout(t.ResizeCallback),t.ResizeCallback=setTimeout((function(){t.ResizeCbMap.forEach((function(t,r){t()}),t)}),200)})),t.ResizeCbMap.set(r,e)},t.removeResizeCallBack=function(r){t.ResizeCbMap.has(r)&&t.ResizeCbMap.delete(r)},t.shuffleArray=function(t){if(!Array.isArray(t))return[];for(var r=t.length,e=-1,n=-1;0!==r;)n=Math.floor(Math.random()*r),e=t[r-=1],t[r]=t[n],t[n]=e;return t},t.tweenNumber=function(t,r,e,n,o){void 0===o&&(o=0);var a=new d(t),i=c(a).delay(o).to(e,{n:r},{progress:function(t,r,e,o){var a=Math.floor(t+(r-t)*o);return n(a),a}}).call((function(){n(r)}));return i.start(),i},t.tweenSpriteColor=function(t,r,e){var n={r:t.r,g:t.g,b:t.b,a:t.a};return c(r).to(e,{color:n})},t.UpperCaseFirstCharOfWord=function(t){return t.toLowerCase().replace(/(^\w{1})|(\s{1}\w{1})/g,(function(t){return t.toUpperCase()}))},t.PlayParticle=function(t){var r=this;t.active=!0;var e=t.getComponent(l);null!=e&&(e.isPlaying&&e.stop(),e.play()),t.children.length>0&&t.children.forEach((function(t){return r.PlayParticle(t)}))},t.StopParticle=function(t){var r=t.getComponent(l);null!=r&&r.isPlaying&&r.stop();for(var e=t.getComponentsInChildren(l),n=0;n<e.length;n++)e[n].isPlaying&&e[n].stop();t.active=!1},t.PlayAnimation=function(t){t.active=!0,t.getComponent(s).play()},t.AsyncDelay=function(){var t=e(n().mark((function t(r){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){setTimeout(t,r)})));case 1:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}(),t.numberWithCommas=function(t){return null==t&&(t=0),t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},t.AddZeroInNumber=function(t){return t<10?"0"+t:t},t.numberWithCommasToInt=function(t){return parseInt(t.toString().replace(/\,/g,""))},t.ConvertSecondsToTime=function(t,r){if(void 0===r&&(r=!1),t<=0)return"00:00";var e="",n=Math.floor(t/3600);t-=3600*n;var o=Math.floor(t/60);return t-=60*o,r&&n>24&&(e=Math.floor(n/24)+"D ",n%=24),e+=n>=10?n+":":"0"+n+":",e+=o>=10?o:"0"+(o>1?o:t>0?1:0)},t.TimeToString_v1=function(t){if(t<=0)return"00 : 00";t/=1e3;var r="",e=Math.floor(t/3600);t-=3600*e;var n=Math.floor(t/60);return t-=60*n,r+=e>=10?e+":":"0"+e+":",r+=n>=10?n:"0"+n},t.TimeToString_v2=function(t){var r="",e=t.getUTCHours(),n=t.getUTCMinutes();return r+=e>=10?e+":":"0"+e+":",r+=n>=10?n:"0"+n},t.TimeToString_v3=function(t){if(t<=0)return"00:00";t/=1e3;var r="",e=Math.floor(t/60);return t-=60*e,r+=e>=10?e:"0"+e,r+=":",r+=(t=Math.floor(t))>=10?t:"0"+t},t.GetRandomInt=function(t){return Math.floor(Math.random()*Math.floor(t))+1},t.RandomLottery=function(r,e){var n=function(){for(var r=[];r.length<5;){var e=t.GetRandomInt(60);-1===r.indexOf(e)&&r.push(e)}return r=r.sort((function(t,r){return t-r}))},o=[];do{o=n()}while(this.CheckExistLottery(r,o,e));return o},t.CheckExistLottery=function(t,r,e){var n=a.localStorage.getItem("tickets_"+t);null!=n?(n=JSON.parse(n),e=e.concat(n),f("CheckExistLottery:"+n.length)):a.localStorage.clear();for(var o=0;o<e.length;o++){for(var i=e[o],u=!0,c=0;c<i.length;c++)if(i[c]!=r[c]){u=!1;break}if(1==u)return!0}return!1},t.ConvertMiliSecond=function(t){var r=t%864e5,e=t%36e5,n=t%6e4;return[Math.floor(t/864e5),Math.floor(r/36e5),Math.floor(e/6e4),Math.floor(n/1e3)]},t.ConvertSecondsToTimeSecond=function(t){var r="",e=Math.floor(t/86400);t-=86400*e;var n=Math.floor(t/3600);t-=3600*n;var o=Math.floor(t/60);return t-=60*o,e>0&&(r+=1==e?"1 day, ":e+" days, "),r+=n>=10?n+":":"0"+n+":",r+=o>=10?o:"0"+o},t.SecondsToTime_ver1=function(t){var r="",e=Math.floor(t/86400);t-=86400*e;var n=Math.floor(t/3600);t-=3600*n;var o=Math.floor(t/60);return t-=60*o,e>0&&(r+=e+"d:"),r+=n>=10?n+"h:":"0"+n+"h:",r+=o>=10?o+"m":"0"+o+"m"},t.ConvertSecondsToTimeShort=function(t){var r="",e=Math.floor(t/86400);t-=86400*e;var n=Math.floor(t/3600);t-=3600*n;var o=Math.floor(t/60);return t-=60*o,e>0&&(r+=e+"d:"),n>=10?r+=n+"h:":n>0&&(r+="0"+n+"h:"),r+=o>=10?o+"m":"0"+o+"m"},t.GetSeasonByTypePlant=function(t){return"electro"==t||"water"==t||"ice"==t?0:"fire"==t||"light"==t||"parasite"==t?1:"dark"==t||"metal"==t||"wind"==t?2:0},t.ConvertSecondsToTimeSecondSeason=function(t){var r="",e=Math.floor(t/86400);t-=86400*e;var n=Math.floor(t/3600);t-=3600*n;var o=Math.floor(t/60);return t-=60*o,e>=0&&(r+=e+"D : "),n>=0&&(r+=n+"H : "),o>=0&&(r+=o+"M"),r},t.CheckUpgradeVersion=function(t,r){var e=t.split("."),n=r.split(".");return!(parseInt(n[0])>parseInt(e[0]))&&(parseInt(n[0])<parseInt(e[0])||!(parseInt(n[1])>parseInt(e[1]))&&(parseInt(n[1])<parseInt(e[1])||!(parseInt(n[2])>parseInt(e[2]))&&parseInt(n[2])<parseInt(e[2])))},t.PreLoadPopup=function(t){h.preload("ui_prefab/"+t,p)},t}());v.ResizeCallback=0,v.ResizeCbMap=new Map,v.isSetCallBack=!1;var d=t("NumberToTween",(function(t){this.n=void 0,this.n=t})),g=(t("ProtectedInt",function(){function t(t){this.str=void 0,this.value=t}return r(t,[{key:"value",get:function(){return parseInt(m.decrypt(this.str))},set:function(t){this.str=g.encrypt(t.toString())}}]),t}()),t("ProtectedFloat",function(){function t(t){this.str=void 0,this.value=t}return r(t,[{key:"value",get:function(){return parseFloat(m.decrypt(this.str))},set:function(t){this.str=g.encrypt(t.toString())}}]),t}()),t("ProtectedString",function(){function t(t){this.str=void 0,this.value=t}return r(t,[{key:"value",get:function(){return m.decrypt(this.str)},set:function(t){this.str=g.encrypt(t)}}]),t}()),t("GuidEncrypt",function(){function t(){}return t.encrypt=function(r){for(var e=[],n=r.split("-"),o=n.length,a=0;a<o;a++)e.push(t.handleString(n[a]));return e.join("-")},t.handleString=function(t){for(var r=t.length,e="",n=0;n<t.length;n++){var o=t.charCodeAt(n),a=o+r;o>57?(a=o+r%26)>122&&(a-=26):(a=o+r%10)>57&&(a-=10),e+=String.fromCharCode(a)}return e},t}())),m=t("GuidDecrypt",function(){function t(){}return t.decrypt=function(r){for(var e=[],n=r.split("-"),o=n.length,a=0;a<o;a++)e.push(t.handleString(n[a]));return e.join("-")},t.handleString=function(t){for(var r=t.length,e="",n=0;n<t.length;n++){var o=t.charCodeAt(n),a=0;o>57?(a=o-r%26)<97&&(a+=26):(a=o-r%10)<48&&(a+=10),e+=String.fromCharCode(a)}return e},t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/VFXminigameBetting.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utility.ts"],(function(i){"use strict";var e,t,n,s,a,o,r,l,c,p,u,h;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,s=i.assertThisInitialized},function(i){a=i.cclegacy,o=i._decorator,r=i.Node,l=i.sp,c=i.Vec3,p=i.tween,u=i.Component},function(i){h=i.Utility}],execute:function(){var b,f,w,y,g,m,P,T,v,F,d;a._RF.push({},"d4b48MGi01PKrFFz9YGa1PR","VFXminigameBetting",void 0);var V=o.ccclass,z=o.property;i("VFXminigameBetting",(b=V("VFXminigameBetting"),f=z(r),w=z(r),y=z({type:l.Skeleton}),g=z(r),b((T=e((P=function(i){function e(){for(var e,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return e=i.call.apply(i,[this].concat(a))||this,n(e,"winPanels",T,s(e)),n(e,"btnToss",v,s(e)),n(e,"spineToss",F,s(e)),n(e,"winVFX",d,s(e)),e}t(e,i);var a=e.prototype;return a.start=function(){this.spineToss.setCompleteListener(this.tweenWinPanel.bind(this))},a.OnToss=function(){this.btnToss.active=!1,this.winPanels.active=!1,this.playSpineToss()},a.tweenWinPanel=function(){this.winPanels.active=!0,this.btnToss.active=!0,this.winPanels.scale=c.ZERO,p(this.winPanels).to(.8,{scale:c.ONE},{easing:"elasticOut"}).start(),h.PlayParticle(this.winVFX)},a.playSpineToss=function(){this.spineToss.node.active=!0,this.spineToss.setAnimation(0,"crow",!1)},e}(u)).prototype,"winPanels",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(P.prototype,"btnToss",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(P.prototype,"spineToss",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=e(P.prototype,"winVFX",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=P))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/WateringInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventSystem.ts","./UserModel.ts","./Utility.ts","./UIPopupManager.ts"],(function(n){"use strict";var t,e,i,r,o,s,a,c,l,u,h,b,p;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){o=n.cclegacy,s=n._decorator,a=n.Label,c=n.Component},function(n){l=n.GlobalEvents,u=n.EventType},function(n){h=n.UserModel},function(n){b=n.Utility},function(n){p=n.UIPopupManager}],execute:function(){var f,g,m,I,y;o._RF.push({},"c6135eXIWlLnaBUYRL0lPZl","WateringInfo",void 0);var v=s.ccclass,W=s.property;n("WateringInfo",(f=v("WateringInfo"),g=W(a),f((y=t((I=function(n){function t(){for(var t,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return t=n.call.apply(n,[this].concat(o))||this,i(t,"label",y,r(t)),t.current=-1,t.cb=void 0,t}e(t,n);var o=t.prototype;return o.onEnable=function(){this.cb=l.subscribe(u.WATERING_INFO_UPDATED,this.onChange.bind(this)),this.current=h.Watering,this.label.string=b.numberWithCommas(h.Watering)},o.onChange=function(n){this.current!=n&&(this.current=n,this.node.activeInHierarchy?this.Tween(n):this.label.string=b.numberWithCommas(n))},o.onDisable=function(){l.unsubscribe(u.WATERING_INFO_UPDATED,this.cb)},o.Tween=function(n){var t=this,e=b.numberWithCommasToInt(this.label.string);b.tweenNumber(e,n,.5,(function(n){t.label.string=b.numberWithCommas(n)})).start()},o.onBtnOpen=function(){p.Instance.ShowUIPopupShop()},t}(c)).prototype,"label",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=I))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/WorldMapBannerUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){"use strict";var e,n,t,i,o,a,c,l;return{setters:[function(r){e=r.applyDecoratedDescriptor,n=r.inheritsLoose,t=r.initializerDefineProperty,i=r.assertThisInitialized},function(r){o=r.cclegacy,a=r._decorator,c=r.Sprite,l=r.Component}],execute:function(){var p,s,u,f,d;o._RF.push({},"aec130fjvVJhrgCck37U9Qm","WorldMapBannerUI",void 0);var h=a.ccclass,y=a.property;r("WorldMapBannerUI",(p=h("WorldMapBannerUI"),s=y(c),p((d=e((f=function(r){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=r.call.apply(r,[this].concat(o))||this,t(e,"icon",d,i(e)),e}return n(e,r),e.prototype.Load=function(r){this.icon.spriteFrame=r},e}(l)).prototype,"icon",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=f))||u));o._RF.pop()}}}));

System.register("chunks:///_virtual/WorldMapClickPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserModel.ts","./UIPopupManager.ts","./ResHttp.ts","./ConfigApi.ts","./AdsBannerController.ts"],(function(e){"use strict";var i,t,n,a,r,o,l,s,c,d,u,b,p,h,f,v,g,I,y;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,l=e.UITransform,s=e.Node,c=e.Sprite,d=e.Label,u=e.view,b=e.Vec3,p=e.Component},function(e){h=e.UserModel,f=e.FarmWorldState},function(e){v=e.UIPopupManager},function(e){g=e.ResHttp},function(e){I=e.ConfigApi},function(e){y=e.AdsBannerController}],execute:function(){var L,w,m,D,z,P,F,C,S,T,V,x,M,_,A,B,N,U,W,R,G;r._RF.push({},"60c68UwQsVPjbpzGttPq/iV","WorldMapClickPanel",void 0);var k=o.ccclass,O=o.property;e("WorldMapClickPanel",(L=k("WorldMapClickPanel"),w=O(l),m=O(s),D=O(c),z=O(d),P=O(d),F=O(d),C=O(d),S=O(s),T=O(s),L((M=i((x=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return i=e.call.apply(e,[this].concat(r))||this,n(i,"canvasToFit",M,a(i)),n(i,"landIcon",_,a(i)),n(i,"adsIcon",A,a(i)),n(i,"locationLabel",B,a(i)),n(i,"treeLabel",N,a(i)),n(i,"mTreeLabel",U,a(i)),n(i,"bidLabel",W,a(i)),n(i,"DisableNode",R,a(i)),n(i,"btnVisits",G,a(i)),i.x=void 0,i.y=void 0,i.designWidth=2001,i.isFirstInit=!0,i}t(i,e);var r=i.prototype;return r.LoadBanner=function(e){if(null!=e.ads){var i=this;y.LoadSpriteAdByUrl(e.ads,(function(e){null!=i&&null!=e&&null!=i.adsIcon&&null!=i.landIcon&&(i.adsIcon.spriteFrame=e,i.landIcon.active=!1,i.adsIcon.node.active=!0)}))}},r.Show=function(e,i,t,n,a){var r=this;this.isFirstInit&&(this.isFirstInit=!1,this.designWidth=u.getDesignResolutionSize().width),this.landIcon.active=!0,this.adsIcon.node.active=!1,this.x=e,this.y=i,this.locationLabel.string=e+", "+i;var o=1/a;2001>this.canvasToFit.width&&(o*=this.canvasToFit.width/this.designWidth),this.node.scale=new b(o,o,1);var l=440*o,s=105*o,c=new b;c.z=0,t.x<0?c.x=n.position.x+l+3*a:c.x=n.position.x-l-.5*a,t.y>0?c.y=n.position.y-s+a:c.y=n.position.y+s+a,this.node.setPosition(c),this.node.active=!0,this.treeLabel.node.parent.active=!1,this.bidLabel.node.parent.active=!1,this.DisableNode.active=!1,this.btnVisits[0].active=!1,this.btnVisits[1].active=!1;var d={x:e,y:i};g.GetRequest(I.LINK_API+I.lands_get_by_coordinate,d,(function(e){var i=JSON.parse(e).data[0];h.currentLandData=i,r.LoadBanner(i);var t=h.GetFarmWorldState();if(t==f.PRE_BIDDING||1==i.isCenter)r.DisableNode.active=!0,r.btnVisits[1].active=!0;else if(t==f.BIDDING){r.btnVisits[0].active=!0,r.bidLabel.node.parent.active=!0;var n=0;i.slots.forEach((function(e){1!=e.type||e.ownerId||(n+=e.prices.biddingUser.length)})),r.bidLabel.string=n.toString()}else{r.btnVisits[0].active=!0,r.treeLabel.node.parent.active=!0;var a=0;i.slots.forEach((function(e){null!=e.plantInfos.plantId&&a++})),i.isGrowthMotherTree?(r.mTreeLabel.string="1",a-=1):r.mTreeLabel.string="0",r.treeLabel.string=a.toString()}}),(function(e){r.OnClose()}))},r.OnClose=function(){this.node.active=!1},r.OnVisit=function(){v.Instance.LoadScene("3.Farm")},r.OnRentAd=function(){null!=h.currentLandData&&v.Instance.ShowUIPopupBidAd(this.x,this.y,h.currentLandData._id)},i}(p)).prototype,"canvasToFit",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(x.prototype,"landIcon",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=i(x.prototype,"adsIcon",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(x.prototype,"locationLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=i(x.prototype,"treeLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=i(x.prototype,"mTreeLabel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=i(x.prototype,"bidLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(x.prototype,"DisableNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=i(x.prototype,"btnVisits",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=x))||V));r._RF.pop()}}}));

System.register("chunks:///_virtual/WorldMapControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WorldMapClickPanel.ts","./ConfigGame.ts","./ConfigApi.ts","./EventSystem.ts","./UserModel.ts","./AdsBannerController.ts"],(function(t){"use strict";var i,o,e,s,n,r,a,l,h,u,c,m,p,f,d,g,D,y,T,C,M,v,w,P,S;return{setters:[function(t){i=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){n=t.cclegacy,r=t._decorator,a=t.UITransform,l=t.Node,h=t.CCFloat,u=t.Sprite,c=t.EditBox,m=t.v3,p=t.Vec3,f=t.math,d=t.Vec2,g=t.v2,D=t.instantiate,y=t.Component},function(t){T=t.WorldMapClickPanel},function(t){C=t.ConfigGame},function(t){M=t.ConfigApi},function(t){v=t.GlobalEvents,w=t.EventType},function(t){P=t.UserModel},function(t){S=t.AdsBannerController}],execute:function(){var b,Z,I,z,E,x,U,F,_,O,k,A,H,L,G,B,W,Y,X,N,R,V,j,q,K,J,Q,$,tt,it,ot,et,st,nt,rt;n._RF.push({},"1fc99Gg0WxHzqgsj4pCjP+7","WorldMapControl",void 0);var at=r.ccclass,lt=r.property;t("WorldMapControl",(b=at("WorldMapControl"),Z=lt(a),I=lt(l),z=lt(h),E=lt(h),x=lt(h),U=lt(h),F=lt(l),_=lt(l),O=lt(l),k=lt(l),A=lt(u),H=lt(l),L=lt(c),G=lt(l),B=lt(l),W=lt(T),b((N=i((X=function(t){function i(){for(var i,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return i=t.call.apply(t,[this].concat(n))||this,e(i,"Canvas",N,s(i)),e(i,"Zoom",R,s(i)),e(i,"MaxZoom",V,s(i)),e(i,"MinZoom",j,s(i)),e(i,"DefaultZoom",q,s(i)),e(i,"ZoomSpeed",K,s(i)),i.lerpSpeed=15,i.TargetZoom=1.5,i.ismouseDown0=!1,i.ismouseDown1=!1,i.mouseDownPos0=void 0,i.mouseDownPos1=void 0,i.mouscePosDistance=0,i.zoomTargetpos=m(0,0,0),i.TouchIDArray=[],i.touch0ID=-1,i.touch1ID=-1,i.touch0DownTime=void 0,i.touchDownPos0_detectclick=void 0,i.maxx=void 0,i.minx=void 0,i.maxy=void 0,i.miny=void 0,i.MapSize=0,i.GirdSize=0,e(i,"FilterItemHolder",J,s(i)),e(i,"FilterItemPrefab",Q,s(i)),e(i,"BannerItemHolder",$,s(i)),e(i,"BannerItemPrefab",tt,s(i)),e(i,"fullAdsSprite",it,s(i)),i.filterTtemPrefabs=[],e(i,"FilterXYGo",ot,s(i)),e(i,"FilterXYinput",et,s(i)),e(i,"ClickMap",st,s(i)),e(i,"ClickIcon",nt,s(i)),e(i,"worldMapClickPanel",rt,s(i)),i.isPause=!0,i.isDoneInit=!1,i.worldMapUI=void 0,i.onFarmBannerUpdateCallBack=null,i.adload_current=0,i.adData=null,i}o(i,t);var n=i.prototype;return n.onLoad=function(){this.node.on(l.EventType.MOUSE_WHEEL,this.onMOUSE_WHEEL,this),this.node.on(l.EventType.TOUCH_START,this.onMOUSE_DOWN,this),this.node.on(l.EventType.TOUCH_END,this.onMOUSE_UP,this),this.node.on(l.EventType.TOUCH_CANCEL,this.onMOUSE_UP,this),this.node.on(l.EventType.TOUCH_MOVE,this.onMOUSE_MOVE,this),this.onFarmBannerUpdateCallBack=v.subscribe(w.FARM_BANNER_UPDATE,this.onFarmBannerUpdate.bind(this)),this.MapSize=this.Zoom.getComponent(a).width,this.GirdSize=this.MapSize/C.FarmWorldMapSize},n.onFarmBannerUpdate=function(t){},n.Show=function(t){this.worldMapUI=t,this.Init(300,-300,300,-300)},n.Init=function(t,i,o,e){this.maxx=t,this.minx=i,this.maxy=o,this.miny=e,this.TargetZoom=this.DefaultZoom,this.Zoom.setScale(this.DefaultZoom,this.DefaultZoom,1),this.ResetCamera(),this.isDoneInit=!0,this.isPause=!1,this.GetAds()},n.get2D=function(t){return t<10?"0"+t:t.toString()},n.GetAds=function(){var t=this;if(!P.IsHideAds){var i=M.LINK_FULL_ADS,o=new Date,e=i+"?time="+(""+o.getFullYear()+this.get2D(o.getMonth())+this.get2D(o.getDate())+this.get2D(o.getHours())+Math.round(o.getMinutes()/M.FULL_ADS_SERVER_CACHE));S.LoadSpriteByUrl(e,(function(i){null!=i?(t.fullAdsSprite.node.active=!0,t.fullAdsSprite.spriteFrame=i):t.fullAdsSprite.node.active=!1}))}},n.Pause=function(t){this.isPause=t,t&&(this.TouchIDArray=[],this.ismouseDown0=!1,this.ismouseDown1=!1)},n.update=function(t){this.updateZoomPos(t)},n.updateZoomPos=function(t){if(this.isDoneInit&&t>0){var i=this.lerpSpeed*t;i>.5&&(i=.5);var o=new p(0,0,0);p.lerp(o,this.Zoom.position,this.zoomTargetpos,i),this.Zoom.setPosition(o);var e=f.lerp(this.Zoom.scale.x,this.TargetZoom,i);this.Zoom.setScale(e,e,1),1==this.ClickMap.active&&(this.ClickMap.setPosition(this.Zoom.position),this.ClickMap.setScale(this.Zoom.scale))}},n.onMOUSE_DOWN=function(t){if(!(this.isPause||this.TouchIDArray.length>=2)){var i=t.getID();this.TouchIDArray.push(i),1==this.TouchIDArray.length&&(this.ismouseDown0=!0,this.mouseDownPos0=t.getUILocation(),this.touch0ID=i,this.touch0DownTime=(new Date).getTime(),this.touchDownPos0_detectclick=t.getUILocation()),2==this.TouchIDArray.length&&(this.ismouseDown1=!0,this.mouseDownPos1=t.getUILocation(),this.touch1ID=i),this.ismouseDown1&&this.ismouseDown0&&(this.mouscePosDistance=d.distance(this.mouseDownPos0,this.mouseDownPos1))}},n.onMOUSE_UP=function(t){if(!(this.isPause||this.TouchIDArray.length<=0)){if(this.ismouseDown0=!1,this.touch0ID=-1,this.ismouseDown1=!1,this.touch1ID=-1,1==this.TouchIDArray.length){this.SetCamPos(g(this.zoomTargetpos.x,this.zoomTargetpos.y));var i=(new Date).getTime()-this.touch0DownTime,o=d.distance(this.touchDownPos0_detectclick,t.getUILocation());i<400&&o<45&&this.OnClickMap(t)}this.TouchIDArray=[]}},n.onMOUSE_MOVE=function(t){if(this.ismouseDown0)if(this.ismouseDown1){var i=t.getID();i==this.touch0ID&&(this.mouseDownPos0=t.getUILocation()),i==this.touch1ID&&(this.mouseDownPos1=t.getUILocation());var o=d.distance(this.mouseDownPos0,this.mouseDownPos1),e=o-this.mouscePosDistance,s=this.TargetZoom+.01*e;s<this.MinZoom&&(s=this.MinZoom),s>this.MaxZoom&&(s=this.MaxZoom);var n=s/this.TargetZoom;this.TargetZoom=s,this.SetCamPos(g(this.zoomTargetpos.x*n,this.zoomTargetpos.y*n)),this.mouscePosDistance=o,this.onCloseClick()}else{var r=t.getUILocation(),a=new d(this.zoomTargetpos.x,this.zoomTargetpos.y);d.subtract(r,r,this.mouseDownPos0),d.multiplyScalar(r,r,1),d.add(a,a,r),this.SetCamPos(a),this.mouseDownPos0=t.getUILocation(),this.onCloseClick()}},n.onMOUSE_WHEEL=function(t){this.isPause||this.onZoom(null,t.getScrollY()<0?"0":"1",1)},n.onZoom=function(t,i,o){if(void 0===o&&(o=2),!this.ismouseDown0||!this.ismouseDown1){var e=o*(1+this.TargetZoom/3),s=this.TargetZoom-("1"==i?-this.ZoomSpeed:this.ZoomSpeed)*e;s<this.MinZoom&&(s=this.MinZoom),s>this.MaxZoom&&(s=this.MaxZoom);var n=s/this.TargetZoom;this.TargetZoom=s,this.SetCamPos(g(this.zoomTargetpos.x*n,this.zoomTargetpos.y*n)),this.onCloseClick()}},n.SetCamPos=function(t,i){void 0===i&&(i=!1);var o=this.maxx-this.minx,e=this.maxy-this.miny,s=this.TargetZoom-this.MinZoom;if(e*=s,o*=s,e+=this.ismouseDown0||this.ismouseDown1?300:100,o+=this.ismouseDown0||this.ismouseDown1?300:100,t.x>o&&(t.x=o),t.x<-o&&(t.x=-o),t.y>e&&(t.y=e),t.y<-e&&(t.y=-e),i){var n=g(this.zoomTargetpos.x,this.zoomTargetpos.y);return this.zoomTargetpos=new p(t.x,t.y,0),g(this.zoomTargetpos.x-n.x,this.zoomTargetpos.y-n.y)}return this.zoomTargetpos=new p(t.x,t.y,0),t},n.MoveCam=function(t){return this.SetCamPos(g(t.x+this.zoomTargetpos.x,t.y+this.zoomTargetpos.y),!0)},n.ResetCamera=function(){this.SetCamPos(g(0,0)),this.Zoom.setPosition(this.zoomTargetpos)},n.onDestroy=function(){this.node.off(l.EventType.MOUSE_WHEEL,this.onMOUSE_WHEEL,this),this.node.off(l.EventType.TOUCH_START,this.onMOUSE_DOWN,this),this.node.off(l.EventType.TOUCH_END,this.onMOUSE_UP,this),this.node.off(l.EventType.TOUCH_CANCEL,this.onMOUSE_UP,this),this.node.off(l.EventType.TOUCH_MOVE,this.onMOUSE_MOVE,this),v.unsubscribe(w.FARM_BANNER_UPDATE,this.onFarmBannerUpdateCallBack)},n.OnClickMap=function(t){var i=t.getUILocation();i.x=i.x-this.Canvas.width/2,i.y=i.y-this.Canvas.height/2;var o=new d(i),e=this.MapSize/2*this.Zoom.scale.x;i.x=i.x-this.Zoom.position.x+e,i.y=i.y-this.Zoom.position.y+e,i.x=Math.floor(i.x/(this.GirdSize*this.Zoom.scale.x)),i.y=Math.floor(i.y/(this.GirdSize*this.Zoom.scale.x)),i.x<0||i.x>=C.FarmWorldMapSize||i.y<0||i.y>=C.FarmWorldMapSize||(this.ClickMap.active=!0,this.ClickMap.setPosition(this.Zoom.position),this.ClickMap.setScale(this.Zoom.scale),this.ClickIcon.setPosition(i.x*this.GirdSize,i.y*this.GirdSize,0),this.worldMapClickPanel.Show(i.x,i.y,o,this.ClickIcon,this.Zoom.scale.x))},n.onCloseClick=function(){this.worldMapClickPanel.OnClose()},n.OnFilterXY=function(){this.TargetZoom=this.DefaultZoom,this.zoomTargetpos=p.ZERO;var t=+this.FilterXYinput[0].string,i=+this.FilterXYinput[1].string;this.ClickMap.active=!0,this.ClickMap.setPosition(this.zoomTargetpos),this.ClickMap.setScale(new p(this.TargetZoom,this.TargetZoom,1));var o=new d(t*this.GirdSize,i*this.GirdSize);this.ClickIcon.setPosition(m(o.x,o.y,0));var e=this.MapSize/2;o.x=o.x-e,o.y=o.y-e,this.worldMapClickPanel.Show(t,i,o,this.ClickIcon,this.TargetZoom)},n.OnFilterXYinput=function(){for(var t=0;t<this.FilterXYinput.length;t++)if(!this.FilterXYinput[t].string||+this.FilterXYinput[t].string>=C.FarmWorldMapSize)return this.FilterXYGo[0].active=!1,void(this.FilterXYGo[1].active=!0);this.FilterXYGo[1].active=!1,this.FilterXYGo[0].active=!0},n.ApplyFilter=function(t){if(null!=t){this.FilterItemHolder.parent.active=!0,this.disableFilterItemPrefabs();for(var i=0;i<t.data.length;i++){var o=t.data[i],e=new p(o.x*this.GirdSize,o.y*this.GirdSize,0);this.getFilterIemPrefabs(i).setPosition(e)}}else this.FilterItemHolder.parent.active=!1},n.disableFilterItemPrefabs=function(){for(var t=0;t<this.filterTtemPrefabs.length;t++)this.filterTtemPrefabs[t].active=!1},n.getFilterIemPrefabs=function(t){var i;return t<this.filterTtemPrefabs.length?i=this.filterTtemPrefabs[t]:((i=D(this.FilterItemPrefab)).setParent(this.FilterItemHolder),i.setScale(p.ONE),this.filterTtemPrefabs.push(i)),i.active=!0,i},i}(y)).prototype,"Canvas",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(X.prototype,"Zoom",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=i(X.prototype,"MaxZoom",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),j=i(X.prototype,"MinZoom",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.8}}),q=i(X.prototype,"DefaultZoom",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),K=i(X.prototype,"ZoomSpeed",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),J=i(X.prototype,"FilterItemHolder",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=i(X.prototype,"FilterItemPrefab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=i(X.prototype,"BannerItemHolder",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=i(X.prototype,"BannerItemPrefab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=i(X.prototype,"fullAdsSprite",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=i(X.prototype,"FilterXYGo",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),et=i(X.prototype,"FilterXYinput",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),st=i(X.prototype,"ClickMap",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=i(X.prototype,"ClickIcon",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=i(X.prototype,"worldMapClickPanel",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=X))||Y));n._RF.pop()}}}));

System.register("chunks:///_virtual/WorldMapFilterUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts"],(function(t){"use strict";var e,r,i,l,o,n,a,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){o=t.cclegacy,n=t._decorator,a=t.Node},function(t){s=t.PopUpBase}],execute:function(){var c,p,h,g,u;o._RF.push({},"7c6e0A+hb1OF4zoVK0xlYFB","WorldMapFilterUI",void 0);var F=n.ccclass,d=n.property;t("WorldMapFilterUI",(c=F("WorldMapFilterUI"),p=d(a),c((u=e((g=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return e=t.call.apply(t,[this].concat(o))||this,i(e,"toggleFilter",u,l(e)),e.currentFilterOnIndex=-1,e.worldMapUI=void 0,e}r(e,t);var o=e.prototype;return o.Show=function(e){this.worldMapUI=e;for(var r=0;r<this.toggleFilter.length;r++)this.toggleFilter[r].active=this.currentFilterOnIndex==r;t.prototype.OnShow.call(this)},o.Hide=function(){t.prototype.OnHide.call(this)},o.onFilterClick=function(t,e){var r=parseInt(e);if(1==this.toggleFilter[r].active)this.toggleFilter[r].active=!1;else for(var i=0;i<this.toggleFilter.length;i++)this.toggleFilter[i].active=r==i},o.onApply=function(){this.Hide(),this.currentFilterOnIndex=-1;for(var t=0;t<this.toggleFilter.length;t++)if(1==this.toggleFilter[t].active){this.currentFilterOnIndex=t;break}if(-1!=this.currentFilterOnIndex){var e={data:[{x:0,y:0},{x:1,y:0},{x:2,y:0},{x:1,y:1},{x:0,y:1},{x:10,y:10},{x:10,y:20},{x:10,y:21},{x:63,y:63}]};e.data.length<=0?this.worldMapUI.ApplyFilter(null):this.worldMapUI.ApplyFilter(e)}else this.worldMapUI.ApplyFilter(null)},o.onClear=function(){for(var t=0;t<this.toggleFilter.length;t++)this.toggleFilter[t].active=!1;this.onApply()},e}(s)).prototype,"toggleFilter",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=g))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/WorldMapUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIPopupManager.ts","./WorldMapFilterUI.ts","./WorldMapControl.ts","./FarmInfoUI.ts","./UserModel.ts","./FarmingServicesApi.ts","./Utility.ts"],(function(t){"use strict";var e,n,i,r,o,a,l,c,u,s,p,f,h,I,b,w,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Node,c=t.Label,u=t.Component},function(t){s=t.UIPopupManager},function(t){p=t.WorldMapFilterUI},function(t){f=t.WorldMapControl},function(t){h=t.FarmInfoUI},function(t){I=t.UserModel,b=t.FarmWorldState},function(t){w=t.FarmingServicesApi},function(t){d=t.Utility}],execute:function(){var g,m,y,U,S,v,M,C,F,W,L,A,D,B,z,T,P,_,K,R,N,O,Y;o._RF.push({},"665eax6QY5Lfo4GO+8a6RCy","WorldMapUI",void 0);var k=a.ccclass,q=a.property;t("WorldMapUI",(g=k("WorldMapUI"),m=q(l),y=q(f),U=q(p),S=q(l),v=q(h),M=q(l),C=q(c),F=q(c),W=q(c),L=q(l),g((B=e((D=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"overlayUI",B,r(e)),i(e,"worldMapControl",z,r(e)),i(e,"worldMapFilterUI",T,r(e)),i(e,"FilterIndicator",P,r(e)),i(e,"farmInfoUI",_,r(e)),i(e,"weatherBtn",K,r(e)),i(e,"clockLabel",R,r(e)),e.currentDate=void 0,i(e,"yearLabel",N,r(e)),i(e,"dayLabel",O,r(e)),i(e,"m_iconNoticeCrowKing",Y,r(e)),e}n(e,t);var o=e.prototype;return o.start=function(){this.worldMapControl.Show(this),this.farmInfoUI.Init(this.onWeatherTimeUpdate.bind(this)),null==I.plantConfig&&this.RequestPlantConfig(),this.showAirDropBanner(),this.showYearLabel(),0==I.IsCrowKingOutOfTime()&&I.GetCrowKingData().remainHp>0?this.m_iconNoticeCrowKing.active=!0:this.m_iconNoticeCrowKing.active=!1},o.update=function(t){this.currentDate=new Date(I.serverTime),this.clockLabel.string=d.TimeToString_v2(this.currentDate)},o.RequestPlantConfig=function(){w.RequestPlantConfig((function(t){I.plantConfig=JSON.parse(t).data}),(function(t){s.Instance.ReturnToLoginScreen()}))},o.onBtnClose=function(){s.Instance.ShowUISetting(this.onQuit)},o.onQuit=function(){s.Instance.ShowUIScreenMain()},o.onBtnFilter=function(){this.worldMapFilterUI.Show(this)},o.ApplyFilter=function(t){this.worldMapControl.ApplyFilter(t),this.FilterIndicator.active=null!=t},o.onBtnWeather=function(){s.Instance.ShowUIWeather()},o.onBtnAssets=function(){s.Instance.ShowUIPopupMyAssets()},o.onBtnShop=function(){this.overlayUI.active=!1,s.Instance.ShowUIPopupShop(function(){this.overlayUI.active=!0}.bind(this))},o.onBtnCrowKing=function(){s.Instance.ShowUICrowKing()},o.onWeatherTimeUpdate=function(t){},o.showAirDropBanner=function(){try{if(!I.farmWorldInfo.isAirDropTime)return;if(I.isShowAirDropBanner)return;I.isShowAirDropBanner=!0,s.Instance.ShowUIAirDrop()}catch(t){}},o.showYearLabel=function(){this.yearLabel.string="YEAR "+(I.farmWorldInfo.yearOrder+1).toString();var t=I.GetFarmWorldState();if(t==b.Spring||t==b.Summer||t==b.Autumn||t==b.Winter){var e=Math.ceil((I.serverTime-I.farmWorldInfo.startDate)/864e5);this.dayLabel.string="DAY "+e}else this.dayLabel.string="-"},e}(u)).prototype,"overlayUI",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(D.prototype,"worldMapControl",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(D.prototype,"worldMapFilterUI",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(D.prototype,"FilterIndicator",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(D.prototype,"farmInfoUI",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(D.prototype,"weatherBtn",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(D.prototype,"clockLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(D.prototype,"yearLabel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(D.prototype,"dayLabel",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=e(D.prototype,"m_iconNoticeCrowKing",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=D))||A));o._RF.pop()}}}));
