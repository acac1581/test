System.register("chunks:///_virtual/AdsBannerController.ts",["cc","./UserModel.ts"],(function(e){"use strict";var n,a,t,r,i,l,c,u;return{setters:[function(e){n=e.cclegacy,a=e.assetManager,t=e.SpriteFrame,r=e.Texture2D,i=e.dynamicAtlasManager,l=e.macro,c=e.ImageAsset},function(e){u=e.UserModel}],execute:function(){n._RF.push({},"b95a6imWgxAy5MZN3Tdsovn","AdsBannerController",void 0);var s=e("AdsBannerController",function(){function e(){}return e.LoadSpriteByUrl=function(n,i){null==e.cacheBannerList[n]?a.loadRemote(n,{ext:".png"},(function(a,l){if(a)return console.error(a),void(null==i||i(null));var c=new t,u=new r;u.image=l,c.texture=u,e.cacheBannerList={},e.cacheBannerList[n]=c,null==i||i(c)})):null==i||i(e.cacheBannerList[n])},e.ImageToDataURL=function(e){var n=document.createElement("canvas"),a=n.getContext("2d");return n.width=6400,n.height=6400,null==a||a.drawImage(e.data,0,0,e.width,e.height),n.toDataURL()},e.LoadSpriteAdByUrl=function(n,c){if(void 0===c&&(c=null),null==n||null==n.imageUrl||null==n.endTime||n.endTime<=u.serverTime)null==c||c(null);else{var s=n.imageUrl.replace("pvu.sgp1","pvu.sgp1.cdn");null==e.cacheBannerList[s]?a.loadRemote(s,{ext:".png"},(function(n,a){var o=new t,d=new r;d.image=a,o.texture=d,o.packable=!0,u.isLoadAdsSingle&&(e.isInitdynamicAtlasManager||(e.isInitdynamicAtlasManager=!0,i.init(),l.CLEANUP_IMAGE_CACHE=!1,i.enabled=!0,i.maxFrameSize=250,i.maxAtlasCount=100,i.textureSize=2048),i.insertSpriteFrame(o)),e.cacheBannerList[s]=o,null==c||c(o)})):null==c||c(e.cacheBannerList[s])}},e.LoadSpriteAdByData=function(e,n){void 0===n&&(n=null);var a=new Image;a.onload=function(){var e=new r;e.image=new c(a);var i=new t;i.texture=e,null==n||n(i)}.bind(this),a.src=e},e}());s.isInitdynamicAtlasManager=!1,s.cacheBannerList={},n._RF.pop()}}}));

System.register("chunks:///_virtual/AutoReturnPrefab.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PrefabController.ts"],(function(t){"use strict";var e,r,n,i,o,u,a,s,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,u=t._decorator,a=t.CCFloat,s=t.Component},function(t){c=t.PrefabController}],execute:function(){var f,l,p,h,b;o._RF.push({},"43334bUxKtEvZ6Q8gFPpgQg","AutoReturnPrefab",void 0);var d=u.ccclass,m=u.property;t("AutoReturnPrefab",(f=d("AutoReturnPrefab"),l=m(a),f((b=e((h=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return(e=t.call.apply(t,[this].concat(o))||this).returned=!0,n(e,"time",b,i(e)),e.prefabEnum=void 0,e.timeCount=void 0,e}r(e,t);var o=e.prototype;return o.setReturn=function(t){this.prefabEnum=t,this.returned=!1,this.timeCount=this.time},o.update=function(t){this.returned||(this.timeCount-=t,this.timeCount<=0&&this.ReturnPrefab())},o.ReturnPrefab=function(){this.returned=!0,c.Instance.ReturnPrefab(this.prefabEnum,this.node)},e}(s)).prototype,"time",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=h))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/BettingMiniGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserModel.ts","./FarmingServicesApi.ts","./UIPopupManager.ts","./ResourcesManager.ts","./Utility.ts"],(function(t){"use strict";var e,i,n,s,a,o,l,r,c,h,u,p,m,b,f,g,B,d,w,A,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized,a=t.createClass},function(t){o=t.cclegacy,l=t._decorator,r=t.Node,c=t.Sprite,h=t.SpriteFrame,u=t.Label,p=t.Widget,m=t.sp,b=t.Vec3,f=t.tween,g=t.Component},function(t){B=t.UserModel},function(t){d=t.FarmingServicesApi},function(t){w=t.UIPopupManager},function(t){A=t.ResourcesManager},function(t){T=t.Utility}],execute:function(){var S,v,y,P,L,_,D,I,k,R,z,O,C,X,E,F,M,W,G,U,H,x,N,V,J,j,q,Q,Z,K,Y,$,tt,et,it,nt,st,at,ot,lt,rt,ct,ht,ut,pt,mt,bt;o._RF.push({},"bce2dbCLoRBHJ4pLAQuCkk1","BettingMiniGame",void 0);var ft=l.ccclass,gt=l.property;t("BettingMiniGame",(S=ft("BettingMiniGame"),v=gt(r),y=gt(c),P=gt(h),L=gt(r),_=gt(u),D=gt(r),I=gt(u),k=gt(r),R=gt(u),z=gt(r),O=gt(p),C=gt(r),X=gt(r),E=gt(r),F=gt(r),M=gt(r),W=gt(r),G=gt(r),U=gt({type:m.Skeleton}),H=gt({type:m.Skeleton}),x=gt(u),N=gt(p),S((j=e((J=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,n(e,"BtnSelects",j,s(e)),n(e,"SelectedImage",q,s(e)),n(e,"IconSpriteFrames",Q,s(e)),n(e,"BtnBets",Z,s(e)),n(e,"betLabel",K,s(e)),e.configBetAmount=[100,500,1e3,5e3,1e4,1e5,5e5,1e6],n(e,"BtnBetsOption",Y,s(e)),n(e,"betOptionLabel",$,s(e)),e.configBetOption=[1,10],n(e,"AnimStates",tt,s(e)),n(e,"LeResultLabels",et,s(e)),n(e,"BtnTosss",it,s(e)),n(e,"sidePanelWidget",nt,s(e)),n(e,"animPanel",st,s(e)),e.sideAnimDuration=.2,n(e,"btnChangeBet",at,s(e)),n(e,"btnSkip",ot,s(e)),n(e,"BgBlack",lt,s(e)),n(e,"winPanels",rt,s(e)),n(e,"winVFX",ct,s(e)),n(e,"AnimHolders",ht,s(e)),n(e,"spineToss",ut,s(e)),n(e,"spineTossX10",pt,s(e)),n(e,"TicketLabels",mt,s(e)),n(e,"ResultPanelWidget",bt,s(e)),e._leBet=0,e._timesBet=e.configBetOption[0],e._currentSelect=0,e.miniGame=void 0,e.APIData=void 0,e.LEwin=void 0,e.coinResultArray=new Array(10),e.isDoneAnim=!0,e}i(e,t);var o=e.prototype;return o.start=function(){this.spineToss.setCompleteListener(this.onSpineCompleteListener.bind(this)),this.spineTossX10[0].setCompleteListener(this.onSpineX10CompleteListener.bind(this))},o.Show=function(t){this.miniGame=t,this.node.active=!0},o.Hide=function(){this.node.active=!1},o.OnSelected=function(t,e){this._currentSelect=parseInt(e),this.SelectedImage.spriteFrame=this.IconSpriteFrames[this._currentSelect],this.BtnSelects.forEach((function(t){t.active=!1})),this.BtnSelects[this._currentSelect].active=!0},o.OnBtnBetAmount=function(t,e){var i=parseInt(e);this.BtnBets.forEach((function(t){t.children[0].active=!1})),i<0||this.leBet==this.configBetAmount[i]?this.leBet=0:(this.leBet=this.configBetAmount[i],this.BtnBets[i].children[0].active=!0)},o.OnBtnBetOption=function(t,e){var i=parseInt(e);this.timesBet=this.configBetOption[i],this.BtnBetsOption.forEach((function(t){t.children[1].active=!1})),this.BtnBetsOption[i].children[1].active=!0;for(var n=0;n<this.AnimHolders.length;n++)this.AnimHolders[n].active=n==i},o.OnToss=function(){var t=this;this.APIcallBetting(this._currentSelect,this.leBet,this.timesBet,(function(){var e=t.leBet*t.timesBet;if(t.LEwin=t.leBet*t.APIData.winTimes*2-e-t.APIData.fee,t.LEwin>0?(t.LeResultLabels[0].node.active=!0,t.LeResultLabels[1].node.active=!1,t.LeResultLabels[0].string=T.numberWithCommas(t.LEwin)):(t.LeResultLabels[1].node.active=!0,t.LeResultLabels[0].node.active=!1,t.LeResultLabels[1].string=T.numberWithCommas(-t.LEwin)),t.APIData.lotteryTickets<=0&&t.APIData.boxchainTickets<=0?t.TicketLabels[0].node.parent.parent.active=!1:(t.TicketLabels[0].node.parent.parent.active=!0,t.APIData.lotteryTickets>0?(t.TicketLabels[0].string="x"+t.APIData.lotteryTickets,t.TicketLabels[0].node.parent.active=!0):t.TicketLabels[0].node.parent.active=!1,t.APIData.boxchainTickets>0?(t.TicketLabels[1].string="x"+t.APIData.boxchainTickets,t.TicketLabels[1].node.parent.active=!0):t.TicketLabels[1].node.parent.active=!1),10==t.timesBet){for(var i=0;i<t.timesBet;i++)t.coinResultArray[i]=i<t.APIData.winTimes?1:0;t.coinResultArray=T.shuffleArray(t.coinResultArray)}t.btnSkip.active=!1,t.ShowAnimStates(1,t.playSpineToss.bind(t))}))},o.playSpineToss=function(){if(this.btnSkip.active=!0,this.BgBlack.active=!0,this.isDoneAnim=!1,1==this.timesBet)this.LEwin>0?this.spineToss.setAnimation(0,"tail"==this.APIData.userChoosen?"light":"crow",!1):this.spineToss.setAnimation(0,"tail"==this.APIData.userChoosen?"crow":"light",!1);else for(var t=0;t<this.timesBet;t++)1==this.coinResultArray[t]?this.spineTossX10[t].setAnimation(0,"tail"==this.APIData.userChoosen?"light":"crow",!1):this.spineTossX10[t].setAnimation(0,"tail"==this.APIData.userChoosen?"crow":"light",!1)},o.onSpineCompleteListener=function(){this.isDoneAnim||(this.isDoneAnim=!0,"light"!=this.spineToss.animation&&"crow"!=this.spineToss.animation||(this.ShowResult(),this.spineToss.animation.includes("light")?this.spineToss.setAnimation(0,1==this.APIData.winTimes?"light_idle":"light_idle_nhat",!0):this.spineToss.setAnimation(0,1==this.APIData.winTimes?"crow_idle":"crow_idle_nhat",!0)))},o.onSpineX10CompleteListener=function(){if(!this.isDoneAnim&&(this.isDoneAnim=!0,"light"==this.spineTossX10[0].animation||"crow"==this.spineTossX10[0].animation)){this.ShowResult();for(var t=0;t<this.timesBet;t++)this.spineTossX10[t].animation.includes("light")?this.spineTossX10[t].setAnimation(0,1==this.coinResultArray[t]?"light_idle":"light_idle_nhat",!0):this.spineTossX10[t].setAnimation(0,1==this.coinResultArray[t]?"crow_idle":"crow_idle_nhat",!0)}},o.OnSkip=function(){if(this.isDoneAnim=!0,1==this.timesBet)this.spineToss.animation.includes("light")?this.spineToss.setAnimation(0,1==this.APIData.winTimes?"light_idle":"light_idle_nhat",!0):this.spineToss.setAnimation(0,1==this.APIData.winTimes?"crow_idle":"crow_idle_nhat",!0);else for(var t=0;t<this.timesBet;t++)this.spineTossX10[t].animation.includes("light")?this.spineTossX10[t].setAnimation(0,1==this.coinResultArray[t]?"light_idle":"light_idle_nhat",!0):this.spineTossX10[t].setAnimation(0,1==this.coinResultArray[t]?"crow_idle":"crow_idle_nhat",!0);this.ShowResult()},o.ShowResult=function(){var t=this;if(this.LEwin>0){this.ShowAnimStates(2);for(var e=0;e<3;e++)setTimeout((function(){t.CollectLeAnim()}),200*e)}else this.ShowAnimStates(3);this.BgBlack.active=!1,B.GEM=this.APIData.remainAmount,B.FreeTicket=B.FreeTicket+this.APIData.lotteryTickets,this.ShowResultPanel(!0)},o.OnPlayAgain=function(){this.OnToss(),this.ShowResultPanel(!1)},o.OnChangeBet=function(){this.ShowAnimStates(0),this.leBet=this.leBet,this.ShowResultPanel(!1)},o.CollectLeAnim=function(){},o.ShowAnimStates=function(t,e){void 0===e&&(e=null),this.AnimStates.forEach((function(t){t.active=!1})),this.AnimStates[t].active=!0,t<=0?this.ShowSidePanel(!0,e):this.ShowSidePanel(!1,e),2==t?(this.tweenWinPanel(0),T.PlayParticle(this.winVFX[10==this.timesBet?1:0])):3==t&&this.tweenWinPanel(1)},o.tweenWinPanel=function(t){1==this.timesBet?(this.winPanels[t].active=!0,this.winPanels[t].scale=b.ZERO,f(this.winPanels[t]).to(.8,{scale:b.ONE},{easing:"elasticOut"}).start()):(this.winPanels[0].active=!1,this.winPanels[1].active=!1)},o.APIcallBetting=function(t,e,i,n){var s=this;d.RequestBetting(e,t,i,(function(t){var e=JSON.parse(t);0==e.status?(s.APIData=e.data,n()):w.Instance.ShowToast("Error",A.Instance.GetErrorMessage(e.status),0)}),null)},o.ShowSidePanel=function(t,e){this.btnChangeBet.active=!t,f(this.sidePanelWidget).to(this.sideAnimDuration,{left:t?0:-576*this.sidePanelWidget.node.scale.x}).start(),f(this.animPanel).to(this.sideAnimDuration,{position:new b(t?460:0,0,0)}).delay(this.sideAnimDuration).call((function(){e&&e()})).start(),f(this.AnimHolders[1]).to(this.sideAnimDuration,{scale:new b(b.ONE).multiplyScalar(t?.7:1),position:new b(t?-100:0,0,0)}).start()},o.ShowResultPanel=function(t){f(this.ResultPanelWidget).to(this.sideAnimDuration,{bottom:t?0:-258}).start()},o.UpdateLeTotalBetBtn=function(){var t=this.leBet*this.timesBet;this.betLabel.string=T.numberWithCommas(t),t>0&&t<=B.GEM?(this.BtnTosss[0].active=!0,this.BtnTosss[1].active=!1):(this.BtnTosss[1].active=!0,this.BtnTosss[0].active=!1)},a(e,[{key:"leBet",get:function(){return this._leBet},set:function(t){this._leBet=t,this.UpdateLeTotalBetBtn()}},{key:"timesBet",get:function(){return this._timesBet},set:function(t){this._timesBet=t,this.betOptionLabel.string=t+"X",this.UpdateLeTotalBetBtn()}}]),e}(g)).prototype,"BtnSelects",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=e(J.prototype,"SelectedImage",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(J.prototype,"IconSpriteFrames",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=e(J.prototype,"BtnBets",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=e(J.prototype,"betLabel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=e(J.prototype,"BtnBetsOption",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=e(J.prototype,"betOptionLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=e(J.prototype,"AnimStates",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),et=e(J.prototype,"LeResultLabels",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),it=e(J.prototype,"BtnTosss",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),nt=e(J.prototype,"sidePanelWidget",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=e(J.prototype,"animPanel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=e(J.prototype,"btnChangeBet",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=e(J.prototype,"btnSkip",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=e(J.prototype,"BgBlack",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=e(J.prototype,"winPanels",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ct=e(J.prototype,"winVFX",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ht=e(J.prototype,"AnimHolders",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ut=e(J.prototype,"spineToss",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=e(J.prototype,"spineTossX10",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),mt=e(J.prototype,"TicketLabels",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),bt=e(J.prototype,"ResultPanelWidget",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=J))||V));o._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonAnim.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundController.ts"],(function(t){"use strict";var e,i,n,s,o,l,a,r,c,h,u,d,C,g,p,b,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,a=t.CCFloat,r=t.CCBoolean,c=t.Button,h=t.Toggle,u=t.Vec3,d=t.Node,C=t.color,g=t.tween,p=t.Component},function(t){b=t.SoundController,T=t.EnumSound}],execute:function(){var f,S,m,w,v,k,y,A,E;o._RF.push({},"7105bq4HCxIUaVlEcIPifoH","ButtonAnim",void 0);var N=l.ccclass,F=l.property;t("ButtonAnim",(f=N("ButtonAnim"),S=F(a),m=F(a),w=F(r),f((y=e((k=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,n(e,"scaleAdd",y,s(e)),n(e,"timeScale",A,s(e)),n(e,"isColorTransition",E,s(e)),e.targetNode=void 0,e.btnClick=void 0,e.originScale=void 0,e.targetScale=void 0,e.isClicked=void 0,e.scaleTween=void 0,e}i(e,t);var o=e.prototype;return o.onLoad=function(){this.btnClick=this.node.getComponent(c),null==this.btnClick&&(this.btnClick=this.node.getComponent(h)),this.targetNode=this.btnClick.target,this.originScale=new u(this.targetNode.getScale());var t=new u(this.scaleAdd,this.scaleAdd,this.scaleAdd);this.targetScale=new u(this.originScale),this.targetScale.subtract(t),this.node.on(d.EventType.TOUCH_CANCEL,this.Release,this),this.node.on(d.EventType.TOUCH_START,this.Down,this),this.node.on(d.EventType.TOUCH_END,this.Release,this),this.isColorTransition&&(this.btnClick.transition=c.Transition.COLOR,this.btnClick.normalColor=C("#FFFFFF"),this.btnClick.pressedColor=C("#C8C8C8"),this.btnClick.hoverColor=C("#E3E3E3"))},o.onDisable=function(){this.timeScale<=0||(null!=this.scaleTween&&this.scaleTween.stop(),this.targetNode&&this.targetNode.setScale(this.originScale))},o.Down=function(){if(0!=this.btnClick.interactable){if(this.isClicked=!0,null!=b.Instance&&b.Instance.PlaySound(T.GameUI_button_click),this.timeScale<=0)return;null!=this.scaleTween&&this.scaleTween.stop(),this.scaleTween=g(this.targetNode).to(this.timeScale,{scale:this.targetScale},{easing:"elasticOut"}),this.scaleTween.start()}},o.Release=function(){if(this.isClicked){if(this.isClicked=!1,this.timeScale<=0)return;null!=this.scaleTween&&this.scaleTween.stop(),this.scaleTween=g(this.targetNode).to(this.timeScale,{scale:this.originScale},{easing:"elasticOut"}),this.scaleTween.start()}},e}(p)).prototype,"scaleAdd",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.08}}),A=e(k.prototype,"timeScale",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.4}}),E=e(k.prototype,"isColorTransition",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),v=k))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonToggle.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,i,n,o,c,l,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,l=t.Node,a=t.Component}],execute:function(){var u,s,p,d,f;o._RF.push({},"d1c09ArUx5CPJ+i+RqaNvJu","ButtonToggle",void 0);var h=c.ccclass,b=c.property;t("ButtonToggle",(u=h("ButtonToggle"),s=b(l),u((f=e((d=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,i(e,"border",f,n(e)),e.callback=null,e}r(e,t);var o=e.prototype;return o.start=function(){this.border.active=!1},o.Clear=function(){this.border.active=!1},o.AddCallBack=function(t){this.callback=t},o.OnBtnClick=function(){var t;this.border.active=!this.border.active,null==(t=this.callback)||t.call(this)},e}(a)).prototype,"border",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=d))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/ConfigApi.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,s;return{setters:[function(t){e=t.createClass},function(t){s=t.cclegacy}],execute:function(){s._RF.push({},"0fe15P7mPlN04i+0Awqnw05","ConfigApi",void 0);var n=t("ConfigApi",function(){function t(){}return e(t,null,[{key:"SHOW_LOG",get:function(){return!t.IS_PRODUCT}},{key:"LINK_API",get:function(){return t.IS_PRODUCT?"https://api.plantvsundead.com/":"https://dev-api.plantvsundead.com/"}},{key:"LINK_WSS",get:function(){return t.IS_PRODUCT?"https://api.plantvsundead.com/":"https://dev-api.plantvsundead.com/"}},{key:"LINK_WSS_DOND",get:function(){return t.IS_PRODUCT?"https://pvu-backend-2-t24wp.ondigitalocean.app/deal-or-no-deal":"https://pvu-backend-dev-2-k9gv8.ondigitalocean.app/deal-or-no-deal"}},{key:"LINK_FULL_ADS",get:function(){return t.IS_PRODUCT?"https://pvu.sgp1.digitaloceanspaces.com/ads/worldMapPrd.png":"https://pvu.sgp1.digitaloceanspaces.com/ads/worldMapStg.png"}},{key:"LINK_WSS_KingGamebit",get:function(){return t.IS_PRODUCT?"https://pvu-backend-2-t24wp.ondigitalocean.app/queen-gambit":"https://pvu-backend-dev-2-k9gv8.ondigitalocean.app/queen-gambit"}}]),t}());n.IS_PRODUCT=!1,n.DEFAULT_PAGE=10,n.FULL_ADS_SERVER_CACHE=5,n.WPP_URL="https://whitepaper.plantvsundead.com/",n.VERSION="1.0.1",n.user_register="users/register",n.user_auth="users/auth",n.user_login="users/login",n.user_info="users/userInfo",n.users_transfer_le="users/transfer-le",n.bettings="bettings",n.bettings_info="bettings",n.buy_tickets="lotteries/buy-tickets",n.get_winners="lotteries/get-winners",n.get_tickets="lotteries/get-tickets",n.create_lottery_for_testing="lotteries/create-lottery-for-testing",n.end_lottery_for_testing="lotteries/end-lottery-for-testing",n.get_current_lottery="lotteries/get-current-lottery",n.get_histories_lotteries="lotteries/get-history-lotteries",n.get_my_lotteries="lotteries/get-my-lotteries",n.get_my_tickets="lotteries/get-my-tickets",n.crow_hunting="crow-hunting",n.crow_hunting_config="crow-hunting/config",n.plants_config="plants/config",n.farm_world="farms/world",n.lands_get_by_coordinate="lands/get-by-coordinate",n.lands_get_by_id="lands/get-by-id",n.lands_get_banner_by_coordinate="lands/get-banner-by-coordinate",n.lands_my_slots="lands/my-assets/my-slots",n.lands_filter="lands/filter",n.lands_my_bidding="lands/my-assets/my-bidding",n.lands_my_plants="lands/my-assets/my-plants",n.farm_bidding="farms/bidding/",n.farm_biddingAllEmpty="farms/biddingAllEmpty/",n.farms_bidding_highestPrice="farms/bidding/highestPrice/",n.plants_inventory="plants/inventory",n.decorations_inventory="decorations/inventory",n.farms_growth_plant="farms/growth-plant",n.decorations_put="decorations/put",n.farms_harvest_plant="farms/harvest-plant",n.farms_chase_crow="farms/chase-crow",n.farms_chase_good_crow="farms/chase-good-crow",n.farms_water_plant="farms/water-plant",n.farms_earn_air_drop="farms/earn-air-drop",n.farm_chase_crow_king="farms/chase-crow-king",n.farm_winner_crow_king="farms/reward-crow-king",n.farm_pet_inventory="pets/inventory",n.pets_config="pets/config",n.farm_my_pet="lands/my-assets/my-pets",n.farm_put_pet="pets/put-pet",n.farm_remove_pet="pets/remove-pet",n.farm_feed_pet="pets/feed-pet",n.farm_claim_reward_pet="pets/claim-reward",n.farm_pet_steal_land="farms/get-steal-land",n.farms_steal_plant="farms/steal",n.shop_buy_tools="shops/buy-tools",n.ads_rent="ads/rent",n.get_ads="ads/get-ads",s._RF.pop()}}}));

System.register("chunks:///_virtual/ConfigGame.ts",["cc"],(function(e){"use strict";var r,n;return{setters:[function(e){r=e.cclegacy,n=e.Vec2}],execute:function(){e({EnumPlantSlotStage:void 0,EnumRarity:void 0}),r._RF.push({},"950baDMpaNOXa4dPI7qrLLO","ConfigGame",void 0);var t,a,i=e("ConfigGame",function(){function e(){}return e.getSynEffect=function(e){for(var r=0;r<this.synBreakPoint.length;r++)if(e>=this.synBreakPoint[r])return this.synEffect[r];return 0},e}());i.PRIZE_CROW_HUNTING=null,i.FEE_CROW_HUNTING=.05,i.YearBreakDuration=1656e5,i.PRICE_BUY_TICKET_LE=10,i.FarmLandSize=7,i.FarmWorldMapSize=64,i.ShowPlantHarvestTimer=9e5,i.MotherTreeSlot=new n(0,6),i.BiddingRefreshCooldown=10,i.synBreakPoint=[9,6,3,0],i.synEffect=[1.25,1.1,1,0],i.sysBreakPointColor=["#B82EBB","#1591D7","#2EBB45","#ECB66C"],i.MotherTreeBuff={"01":{description:"Increase 1% Farming",effect:.01},"02":{description:"Increase 2% Farming",effect:.02},"03":{description:"Increase 3% Farming",effect:.03},"04":{description:"Increase 4% Farming",effect:.04}},i.PlantRemoveTime=18e5,i.PlantLEBuffCap=.8,i.PRICE_CHAT_UNOWNED_LAND=1,i.PRICE_CHAT_PUBLIC=10,i.PRICE_CHAT_PUBLIC_NICKNAME=5,i.COUNTDOWN_CHAT_ALL=60,i.MAX_LE_TRANSFER=100,i.PRICE_BANNER=10,i.SIZE_BANNER=1e5,i.PriceBuyWater=10,i.PriceBuyScareCrow=10,i.PriceBuyPetFood=10,i.RarityText=["common","rare","epic","legendary","mythic"],i.FactionText=["Omega","Light","Water","Electro","Wind","Fire","Metal","Dark","Parasite","Ice"],i.EVENT_SOCKET_NAME={CHAT:"chat",CHAT_ALL:"chat-all",ERROR:"err",SLOT_UPDATE:"slot-update",NOTICE:"notice",CHANGE_LAND:"change-land",CHANGE_NUMBER_VIEWER:"change-number-viewer",TRANSFER_LE:"transfer-le",PUT_DECOR:"put-decor",JOIN_GAME:"join-game",BET:"bet",VOTE:"vote",VOTE_REMOVE:"vote-remove",VOTING_RESULT:"voting-result",UPDATE_CASES:"update-cases",GAME_PROGRESS:"game-progress",SHOW_DEAL:"show-deal",DEAL:"deal",SELECT_CASE:"select-case",REMAINING_CASES:"remaining-cases",AUTO_DEAL:"auto-deal"},function(e){e[e.decor=0]="decor",e[e.bidNow=1]="bidNow",e[e.bidnow_havebid=2]="bidnow_havebid",e[e.bidding=3]="bidding",e[e.bidEnd=4]="bidEnd",e[e.bidDone=5]="bidDone",e[e.land_other=6]="land_other",e[e.land_your=7]="land_your",e[e.rentNow=8]="rentNow",e[e.otherBidGreater=9]="otherBidGreater",e[e.__length=10]="__length"}(t||(t=e("EnumPlantSlotStage",{}))),function(e){e[e.common=0]="common",e[e.rare=1]="rare",e[e.epic=2]="epic",e[e.legendary=3]="legendary",e[e.mythic=4]="mythic"}(a||(a=e("EnumRarity",{}))),r._RF.pop()}}}));

System.register("chunks:///_virtual/CrowHuntingMiniGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIIconCrowHunting.ts","./ResHttp.ts","./ConfigApi.ts","./UserModel.ts","./UIPopupManager.ts","./ConfigGame.ts","./Utility.ts","./UIPrizeCrowHunting.ts"],(function(t){"use strict";var e,i,n,o,r,a,s,l,u,c,h,f,p,d,b,v,w,g,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Label,l=t.Node,u=t.log,c=t.instantiate,h=t.Component},function(t){f=t.UIIconCrowHunting},function(t){p=t.ResHttp},function(t){d=t.ConfigApi},function(t){b=t.UserModel},function(t){v=t.UIPopupManager},function(t){w=t.ConfigGame},function(t){g=t.Utility},function(t){S=t.UIPrizeCrowHunting}],execute:function(){var m,I,y,T,R,U,_,C,z,P,x,O,G,N,H,M,E,L,A,D,B,F,W,J,q,X,Z,K,j;r._RF.push({},"71087Ru+0hG7qUow6OGXhlb","CrowHuntingMiniGame",void 0);var k=a.ccclass,Q=a.property;t("CrowHuntingMiniGame",(m=k("CrowHuntingMiniGame"),I=Q(s),y=Q(l),T=Q(l),R=Q(l),U=Q(l),_=Q(l),C=Q(l),z=Q(s),P=Q(s),x=Q(l),O=Q(l),G=Q(l),N=Q(l),m((E=e((M=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"txtFee",E,o(e)),n(e,"prefabIcon",L,o(e)),n(e,"layoutIcon",A,o(e)),n(e,"btn5Times",D,o(e)),n(e,"btn10Times",B,o(e)),n(e,"prefabPrize",F,o(e)),n(e,"layoutPrize",W,o(e)),n(e,"txtStatus",J,o(e)),n(e,"txtReward",q,o(e)),n(e,"nodeLoading",X,o(e)),n(e,"btnThrowActive",Z,o(e)),n(e,"btnThrowDisable",K,o(e)),n(e,"btnRandom",j,o(e)),e.amount=100,e.totalSlots=0,e.selectedSlots=[],e.isInited=!1,e.layoutIconList=[],e}i(e,t);var r=e.prototype;return r.InitPrize=function(){var t=this;null==w.PRIZE_CROW_HUNTING?p.GetRequest(d.LINK_API+d.crow_hunting_config,null,(function(e){e=JSON.parse(e).data,u("crow_hunting_config:"+JSON.stringify(e)),w.PRIZE_CROW_HUNTING=e.payoutRatio,w.FEE_CROW_HUNTING=parseFloat(e.betFee),t.InitPrizeUI()}),(function(){})):this.InitPrizeUI()},r.InitPrizeUI=function(){var t=this.GetMaxSlot();this.layoutPrize.destroyAllChildren();var e=w.PRIZE_CROW_HUNTING[t];for(var i in e){var n=c(this.prefabPrize);n.getComponent(S).Init(i,e[i]),this.layoutPrize.addChild(n)}this.txtFee.string="FEE: "+100*w.FEE_CROW_HUNTING+"%"},r.Show=function(){this.node.active=!0,this.InitPrize(),this.ResetData(),this.OnBtnThrow5Times()},r.ResetData=function(){this.totalSlots=0,this.selectedSlots=[],this.btnRandom.active=!0,this.btnThrowDisable.active=!0,this.btnThrowActive.active=!1,this.CreateIcons(),this.UpdateButtonThrow(),this.UpdateStatus(),this.InitPrize(),this.ShowReward(-1)},r.Hide=function(){this.node.active=!1},r.CreateIcons=function(){this.layoutIcon.destroyAllChildren(),this.layoutIconList=[];for(var t=0;t<40;t++){var e=c(this.prefabIcon),i=e.getComponent(f);this.layoutIcon.addChild(e),this.layoutIconList.push(i),i.init(t,this)}},r.GetMaxSlot=function(){return this.btn5Times.active?5:10},r.ChoseSlot=function(t){var e=this.GetMaxSlot();return!(this.totalSlots>=e)&&(this.totalSlots++,this.selectedSlots.push(t),this.UpdateButtonThrow(),this.UpdateStatus(),!0)},r.UnChoseSlot=function(t){var e=this.selectedSlots.indexOf(t);return-1!=e&&(this.totalSlots--,this.selectedSlots.splice(e,1),this.UpdateButtonThrow(),this.UpdateStatus(),!0)},r.UpdateButtonThrow=function(){this.GetMaxSlot()==this.totalSlots?(this.btnThrowActive.active=!0,this.btnThrowDisable.active=!1):(this.btnThrowActive.active=!1,this.btnThrowDisable.active=!0)},r.UpdateStatus=function(){this.txtReward.node.parent.parent.active=!1,this.txtStatus.node.active=!0;var t=this.GetMaxSlot();t==this.totalSlots?this.txtStatus.string="BET AND HUNT":this.txtStatus.string="SELECT "+(t-this.totalSlots)+" TO HUNT"},r.UpdateResult=function(t){u("UpdateResult:"+JSON.stringify(t)),this.btnRandom.active=!1,this.btnThrowActive.active=!0,this.btnThrowDisable.active=!1,this.txtReward.node.parent.parent.active=!0,this.txtStatus.node.active=!1,this.txtReward.string=g.numberWithCommas(t.reward),this.ShowReward(t.totalHitCount)},r.OnBtnChoseBet=function(t,e){var i=parseInt(e);this.amount=i},r.OnBtnRandom=function(){var t=this;this.ResetData();var e=this.GetMaxSlot();this.totalSlots=e,this.selectedSlots=[];for(var i=[],n=0;n<40;n++)i.push(n);for(n=0;n<e;n++){var o=Math.floor(Math.random()*i.length);this.selectedSlots.push(i[o]+1),i.splice(o,1)}this.selectedSlots=this.selectedSlots.sort((function(t,e){return t-e}));var r=function(){var e=t.selectedSlots.indexOf(n+1),i=t.layoutIconList[n];-1!=e?t.scheduleOnce(function(){i.Select()}.bind(t),.07*e):i.UnSelect()};for(n=0;n<this.layoutIconList.length;n++)r();this.UpdateButtonThrow(),this.UpdateStatus()},r.OnBtnThrow=function(){var t=this,e=this;if(this.amount*w.FEE_CROW_HUNTING>b.GEM)v.Instance.ShowToast("Error","Not enough GEM!",0);else{var i={amount:this.amount,totalSlots:this.totalSlots,selectedSlots:this.selectedSlots};this.nodeLoading.active=!0,p.PostRequest(d.LINK_API+d.crow_hunting,i,(function(i){i=JSON.parse(i).data,e.nodeLoading.active=!1,b.GEM=parseInt(i.remainAmount),t.UpdateResult(i.bettingResult);for(var n=i.selectedSlots,o=i.crowPositions.normal,r=i.crowPositions.special,a=[],s=0;s<e.layoutIcon.children.length;s++){-1!=n.indexOf(s+1)?a.push("select_X_reveal"):a.push("unselect_reveal_X")}for(s=0;s<o.length;s++){var l=o[s],u=n.indexOf(l);a[l-1]=-1!=u?"select_crow_reveal":"unselect_reveal_crow"}for(s=0;s<r.length;s++){var c=r[s],h=n.indexOf(c);a[c-1]=-1!=h?"select_vip_reveal":"unselect_reveal_vip"}for(var f=function(){var e=p,i=e%8;i+=parseInt(e/8+""),t.scheduleOnce(function(){this.layoutIconList[e].PlayAnim(a[e])}.bind(t),.06*i)},p=0;p<e.layoutIcon.children.length;p++)f()}),(function(){e.nodeLoading.active=!1}))}},r.ShowReward=function(t){for(var e=0;e<this.layoutPrize.children.length;e++)this.layoutPrize.children[e].getComponent(S).ShowPoint(t)},r.OnBtnThrow5Times=function(){this.btn5Times.active=!0,this.btn10Times.active=!1,this.ResetData()},r.OnBtnThrow10Times=function(){this.btn5Times.active=!1,this.btn10Times.active=!0,this.ResetData()},e}(h)).prototype,"txtFee",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(M.prototype,"prefabIcon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(M.prototype,"layoutIcon",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(M.prototype,"btn5Times",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(M.prototype,"btn10Times",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(M.prototype,"prefabPrize",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(M.prototype,"layoutPrize",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(M.prototype,"txtStatus",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(M.prototype,"txtReward",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(M.prototype,"nodeLoading",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(M.prototype,"btnThrowActive",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(M.prototype,"btnThrowDisable",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(M.prototype,"btnRandom",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=M))||H));r._RF.pop()}}}));

System.register("chunks:///_virtual/CrowKingManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserModel.ts","./ResHttp.ts","./ConfigApi.ts","./FadeSpriteEffect.ts","./UIPopupManager.ts","./EventSystem.ts","./FarmKingCrowRewardUI.ts"],(function(e){"use strict";var t,i,o,n,r,a,s,l,c,u,d,f,p,m,h,g,_,w,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Label,l=e.Node,c=e.SpriteFrame,u=e.instantiate,d=e.Component},function(e){f=e.UserModel},function(e){p=e.ResHttp},function(e){m=e.ConfigApi},function(e){h=e.FadeSpriteEffect},function(e){g=e.UIPopupManager},function(e){_=e.GlobalEvents,w=e.EventType},function(e){C=e.FarmKingCrowRewardUI}],execute:function(){var b,K,S,U,H,v,y,k,F,T,I,P,L,D,R,G,M;r._RF.push({},"19076M+F+1L45yXFHhGOm3L","CrowKingManager",void 0);var z=a.ccclass,N=a.property;e("CrowKingManager",(b=z("CrowKingManager"),K=N(s),S=N(l),U=N(C),H=N(l),v=N(c),y=N(c),k=N(l),b((I=t((T=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"HpLabel",I,n(t)),o(t,"m_useToolNode",P,n(t)),o(t,"farmKingCrowRewardUI",L,n(t)),o(t,"m_fadePrefab",D,n(t)),o(t,"m_spriteFrame_miss",R,n(t)),o(t,"m_spriteFrame_hit",G,n(t)),o(t,"m_fadeFX_startPosition",M,n(t)),t.m_fadeSpriteList=[],t.m_toolUsed=-1,t.Socket_onCrowKingHitCallback=void 0,t}i(t,e);var r=t.prototype;return r.start=function(){this.Socket_onCrowKingHitCallback=_.subscribe(w.Socket_onHitCrowKing,this.onSocket_onCrowKingHitHandler.bind(this)),0==this.ShouldDisableCrowKing()&&this.schedule(function(){this.closeKingCrow()}.bind(this),f.GetCrowKingAppearanceInMS()/1e3,0,0)},r.onDestroy=function(){_.unsubscribe(w.Socket_onHitCrowKing,this.Socket_onCrowKingHitCallback),this.unscheduleAllCallbacks()},r.onSocket_onCrowKingHitHandler=function(e){f.GetCrowKingData().remainHp=e.remainHp,this.SetupCrowKing(!1)},r.ShouldDisableCrowKing=function(){return console.log("ShouldDisableCrowKing"),1==f.IsCrowKingOutOfTime()||f.GetCrowKingData().remainHp<=0},r.GetFadeSprite=function(){for(var e=0;e<this.m_fadeSpriteList.length;e++)if(0==this.m_fadeSpriteList[e].node.active)return this.m_fadeSpriteList[e];var t=u(this.m_fadePrefab);t.setParent(this.m_fadeFX_startPosition),t.setPosition(0,0,0);var i=t.getComponent(h);return this.m_fadeSpriteList.push(i),i},r.ShowCrowKingRewardUI=function(e){var t=this.GetFadeSprite();t.node.active=!0,t.Play(this.m_spriteFrame_hit,0);var i=0;try{i=e.bonus.luckyHit.leExtra}catch(e){i=0,console.error(e)}i+=e.numberHitted*f.farmWorldInfo.crowKingPrize,f.LE+=i,this.farmKingCrowRewardUI.Show(e.numberHitted,i),f.GetCrowKingData().remainHp-=e.numberHitted,this.SetupCrowKing(!1)},r.UseTool=function(e){var t=this;if(1!=this.ShouldDisableCrowKing())if(f.ScareCrow<e)g.Instance.ShowPopupConfirmUI("Not enough tool","",(function(){}),(function(){}),"OK",!1,!0,!0);else{this.m_toolUsed=e;var i={numberChaseTool:e};p.PostRequest(m.LINK_API+m.farm_chase_crow_king,i,(function(e){var i=JSON.parse(e),o=i.data;if(0===i.status){f.ScareCrow-=t.m_toolUsed,o.numberHitted>0&&t.ShowCrowKingRewardUI(o);var n=.1;n=1==t.m_toolUsed||10==t.m_toolUsed?.1:100==t.m_toolUsed?.03:.005,t.schedule((function(){var e=this.GetFadeSprite();e.node.active=!0,e.Play(this.m_spriteFrame_miss,0)}),n,t.m_toolUsed-1,0)}t.m_toolUsed=0}),(function(e){188===JSON.parse(e).status&&t.closeKingCrow(),t.m_toolUsed=0}))}else this.closeKingCrow()},r.SetupCrowKing=function(e){1!=this.ShouldDisableCrowKing()?(this.HpLabel.string=f.GetCrowKingData().remainHp+"/"+f.GetCrowKingData().maxHp,1==e&&(this.btnCloseTool_onClicked(),this.farmKingCrowRewardUI.Hide())):this.closeKingCrow()},r.closeKingCrow=function(){this.node.active=!1,this.btnCloseTool_onClicked()},r.btnCrowKing_onClicked=function(){this.m_useToolNode.active=!0},r.btnCloseTool_onClicked=function(){this.m_useToolNode.active=!1},r.btnUseTool_1_onClicked=function(){this.UseTool(1)},r.btnUseTool_10_onClicked=function(){this.UseTool(10)},r.btnUseTool_100_onClicked=function(){this.UseTool(100)},r.btnUseTool_1000_onClicked=function(){this.UseTool(1e3)},t}(d)).prototype,"HpLabel",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(T.prototype,"m_useToolNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(T.prototype,"farmKingCrowRewardUI",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(T.prototype,"m_fadePrefab",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(T.prototype,"m_spriteFrame_miss",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(T.prototype,"m_spriteFrame_hit",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(T.prototype,"m_fadeFX_startPosition",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=T))||F));r._RF.pop()}}}));

System.register("chunks:///_virtual/dealOrNoDealConfig.ts",["cc"],(function(E){"use strict";var A;return{setters:[function(E){A=E.cclegacy}],execute:function(){A._RF.push({},"c6a33+80OdKW6eOQb/FjvE8","dealOrNoDealConfig",void 0);var S=E("dealOrNoDealConfig",(function(){}));S.GAME_STATE={RESTING_PHASE:0,BETTING_PHASE:1,VOTING_PHASE:2,VOTING_RESULT:3,DEAL_FIRST_PHASE:4,VOTING_SECOND_PHASE:5,DEAL_SECOND_PHASE:6,VOTING_THIRD_PHASE:7,DEAL_THIRD_PHASE:8,VOTING_FOURTH_PHASE:9,DEAL_FOURTH_PHASE:10,VOTING_LAST_PHASE:11,DEAL_LAST_PHASE:12},S.GAME_STATE_NAME=["WAITING","CHOOSE BET","VOTE 1 CASE TO KEEP","VOTE RESULT","DEAL FIRST PHASE","CHOOSE 3 CASES TO REVEAL","DEAL SECOND PHASE","CHOOSE 4 CASES TO REVEAL","DEAL THIRD PHASE","CHO0SE 4 CASES TO REVEAL","DEAL FOURTH PHASE","CHOOSE 3 CASES TO REVEAL","DEAL LAST PHASE"],S.NUMBER_OF_CASES_TO_REMOVE=[0,0,1,0,0,3,0,4,0,4,0,3,0],S.GAME_PHASE_STATUS={WAITING:0,RUNNING:1},S.PHASE_DURATION={RESTING_PHASE:10,BETTING_PHASE:30,VOTING_PHASE:30,VOTING_RESULT:30,DEAL_FIRST_PHASE:30,VOTING_SECOND_PHASE:30,DEAL_SECOND_PHASE:30,VOTING_THIRD_PHASE:30,DEAL_THIRD_PHASE:30,DEAL_FOURTH_PHASE:30,VOTING_LAST_PHASE:30,DEAL_LAST_PHASE:30},S.VALID_CASE_NUMBERS=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],S.CASE_NAMES=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P"],S.VALID_BETTING_AMOUNT=[1e3,5e3,1e4,2e4,5e4,1e5,2e5,5e5],S.VALID_RATE_LIST=[1e-4,2e-4,5e-4,.001,.005,.01,.02,.035,.05,.075,.2,.35,.45,1.5,2,10],S.BETTING_DEV_FEE=.05,S.MAX_LIMIT_ROOMS_SIZE=1e3,A._RF.pop()}}}));

System.register("chunks:///_virtual/DealOrNoDealMiniGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SocketDealOrNoDealHandler.ts","./EventSystem.ts","./dealOrNoDealConfig.ts","./PanelDond_CaseValue.ts","./PanelDond_Chat.ts","./PanelDond_CountDownVote.ts","./PanelDond_VoteCases.ts","./PanelDond_YourBet.ts","./PanelDond_NumberUser.ts","./PanelDond_Offer.ts","./PanelDond_Result.ts","./PanelDond_Waiting.ts","./UserModel.ts","./PanelDond_CountDownNextGame.ts","./SoundController.ts","./PanelDond_LastDealOffer.ts","./UIPopupManager.ts","./DondSoundController.ts"],(function(e){"use strict";var t,n,i,s,a,o,l,r,u,c,h,d,f,b,D,p,S,_,C,O,m,g,N,A,V,G,R,E,P,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Label,r=e.log,u=e.Component},function(e){c=e.SocketDealOrNoDealHandler},function(e){h=e.GlobalEvents,d=e.EventType},function(e){f=e.dealOrNoDealConfig},function(e){b=e.PanelDond_CaseValue},function(e){D=e.PanelDond_Chat},function(e){p=e.PanelDond_CountDownVote},function(e){S=e.PanelDond_VoteCases},function(e){_=e.PanelDond_YourBet},function(e){C=e.PanelDond_NumberUser},function(e){O=e.PanelDond_Offer},function(e){m=e.PanelDond_Result},function(e){g=e.PanelDond_Waiting},function(e){N=e.UserModel},function(e){A=e.PanelDond_CountDownNextGame},function(e){V=e.SoundController,G=e.EnumSound},function(e){R=e.PanelDond_LastDealOffer},function(e){E=e.UIPopupManager},function(e){P=e.DondSoundController,w=e.DondSoundEnum}],execute:function(){var y,U,I,T,v,M,k,B,L,H,J,z,x,W,Y,F,j,X,q,K,Q,Z,$,ee,te,ne,ie,se,ae,oe;a._RF.push({},"b4bd3+hBnhOEbWNry109nbn","DealOrNoDealMiniGame",void 0);var le=o.ccclass,re=o.property;e("DealOrNoDealMiniGame",(y=le("DealOrNoDealMiniGame"),U=re(l),I=re(l),T=re(A),v=re(g),M=re(b),k=re(D),B=re(p),L=re(S),H=re(_),J=re(C),z=re(O),x=re(R),W=re(m),y(((oe=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"lbNumDeal",j,s(t)),i(t,"lbNumNoDeal",X,s(t)),i(t,"panelCountDownNextGame",q,s(t)),i(t,"panelWaiting",K,s(t)),i(t,"panelCaseValue",Q,s(t)),i(t,"panelChat",Z,s(t)),i(t,"panelCountDownVote",$,s(t)),i(t,"panelVoteCases",ee,s(t)),i(t,"panelYourBet",te,s(t)),i(t,"panelNumberUser",ne,s(t)),i(t,"panelOffer",ie,s(t)),i(t,"panelLastDealOffer",se,s(t)),i(t,"panelResult",ae,s(t)),t.stateCur=0,t.isViewer=!0,t.playerInfo=null,t.highestVotedCase=-1,t.bettingAmount=0,t.isCompleted=!1,t.lastPhaseReward=null,t.userLastAction=-1,t.isJoined=!1,t.isVotedRemove=!1,t.isVoted=!1,t}n(t,e);var a=t.prototype;return a.onLoad=function(){t.Instance=this},a.Show=function(){V.Instance.SetBgMusic(G.BGM_Dond),c.Connect(this),h.subscribe(d.Socket_Dond_GameInit,this.OnGameInit.bind(this)),h.subscribe(d.Socket_Dond_PlayerInfo,this.OnPlayerInfo.bind(this)),h.subscribe(d.Socket_Dond_Notice,this.OnNotice.bind(this)),h.subscribe(d.Socket_Dond_Voting_Result,this.OnVotingResult.bind(this)),h.subscribe(d.Socket_Dond_Remove_Voting,this.OnRemoveVoting.bind(this)),h.subscribe(d.Socket_Dond_Game_Progress,this.OnGameProgress.bind(this)),h.subscribe(d.Socket_Dond_Chat,this.OnChat.bind(this)),h.subscribe(d.Socket_Dond_Bet,this.OnBet.bind(this)),h.subscribe(d.Socket_Dond_Update_Cases,this.OnUpdateCases.bind(this)),h.subscribe(d.Socket_Dond_Show_Deal,this.OnShowDeal.bind(this)),h.subscribe(d.Socket_Dond_Deal,this.OnDeal.bind(this)),h.subscribe(d.Socket_Dond_Remaining_Cases,this.OnRemianingCases.bind(this)),h.subscribe(d.Socket_Dond_Select_Case,this.OnSelectCase.bind(this)),h.subscribe(d.Socket_Dond_Auto_Deal,this.OnAutoDeal.bind(this)),h.subscribe(d.Socket_Dond_Game_Statistics,this.OnGameStatistics.bind(this)),h.subscribe(d.Socket_Dond_Removed_Case,this.OnRemovedCases.bind(this)),this.node.active=!0},a.Hide=function(){V.Instance.SetBgMusic(G.BG_Main),h.unsubscribe(d.Socket_Dond_GameInit,this.OnGameInit),h.unsubscribe(d.Socket_Dond_PlayerInfo,this.OnPlayerInfo.bind(this)),h.unsubscribe(d.Socket_Dond_Notice,this.OnNotice.bind(this)),h.unsubscribe(d.Socket_Dond_Voting_Result,this.OnVotingResult.bind(this)),h.unsubscribe(d.Socket_Dond_Remove_Voting,this.OnRemoveVoting.bind(this)),h.unsubscribe(d.Socket_Dond_Game_Progress,this.OnGameProgress.bind(this)),h.unsubscribe(d.Socket_Dond_Chat,this.OnChat.bind(this)),h.unsubscribe(d.Socket_Dond_Bet,this.OnBet.bind(this)),h.unsubscribe(d.Socket_Dond_Update_Cases,this.OnUpdateCases.bind(this)),h.unsubscribe(d.Socket_Dond_Show_Deal,this.OnShowDeal.bind(this)),h.unsubscribe(d.Socket_Dond_Deal,this.OnDeal.bind(this)),h.unsubscribe(d.Socket_Dond_Remaining_Cases,this.OnRemianingCases.bind(this)),h.unsubscribe(d.Socket_Dond_Select_Case,this.OnSelectCase.bind(this)),h.unsubscribe(d.Socket_Dond_Auto_Deal,this.OnAutoDeal.bind(this)),h.unsubscribe(d.Socket_Dond_Game_Statistics,this.OnGameStatistics.bind(this)),h.unsubscribe(d.Socket_Dond_Removed_Case,this.OnRemovedCases.bind(this)),c.Disconnect(),this.node.active=!1},a.Deal=function(){this.isViewer=!0,c.Deal()},a.NoDeal=function(){this.panelVoteCases.SetWaitingOtherPlayer(),this.userLastAction=1},a.SwitchCase=function(e){c.SwitchCase(e),this.userLastAction=0},a.ResetGame=function(){this.isJoined||(this.isJoined=!1,this.isVoted=!1,this.isVotedRemove=!1,this.isCompleted=!1,this.bettingAmount=0,this.playerInfo=null,this.isViewer=!0,this.highestVotedCase=-1,this.lastPhaseReward=null,this.userLastAction=-1,this.lbNumDeal.string="0",this.lbNumNoDeal.string="0",c.JoinGame())},a.GetIndexByCaseAlplaBet=function(e){return f.CASE_NAMES.indexOf(e.toUpperCase())},a.UpdateHighestVotedCase=function(e){if(null!=e){var t=e.find((function(e){return 1==e.isHighestVoted}));null!=t&&(this.highestVotedCase=f.CASE_NAMES.indexOf(t.caseAlphabet.toString().toUpperCase()))}},a.OnGameMaintenance=function(e){r("DealOrNoDeal OnGameMaintenance:"+JSON.stringify(e));var t=function(){E.Instance.ShowUIMinigameMenu()};E.Instance.ShowPopupConfirmUI("MAINTENANCE!","Server is closed for maintenance",t,t)},a.OnRemovedCases=function(e){r("DealOrNoDeal OnRemovedCases:"+JSON.stringify(e)),this.panelVoteCases.UpdateRemovedCases(e),this.panelCaseValue.UpdateRemovedCases(e)},a.OnGameStatistics=function(e){r("DealOrNoDeal OnGameStatistics:"+JSON.stringify(e));var t=e.playerCount,n=e.participantCount;this.panelNumberUser.SetNumberUser(t,n)},a.OnGameInit=function(e){r("DealOrNoDeal OnGameInit:"+JSON.stringify(e));var t=e.gameConfig;t&&t.caseList&&t.caseList.forEach((function(e,t){f.VALID_RATE_LIST[t]=e.rate}));var n=e.playerInfo;this.OnPlayerInfo(n);var i=e.gameProgress;this.OnGameProgress(i),this.UpdateVoted(n,i),this.UpdateBettingAmount(this.bettingAmount);var s=e.userInfo;s&&(N.GEM=s.gemAmount)},a.OnPlayerInfo=function(e){null!=e&&null!=e.bettingAmount&&(this.isViewer=!1,this.isCompleted=e.isCompleted,this.UpdateBettingAmount(e.bettingAmount),this.playerInfo=e,r("DealOrNoDeal OnPlayerInfo:"+JSON.stringify(e)))},a.OnNotice=function(e){r("DealOrNoDeal OnNotice:"+JSON.stringify(e))},a.OnVotingResult=function(e){r("DealOrNoDeal OnVotingResult:"+JSON.stringify(e));e.cases;this.highestVotedCase=f.CASE_NAMES.indexOf(e.highestVotedCase.caseAlphabet.toUpperCase()),this.panelVoteCases.UpdateHighestVotedCase(),P.Instance.PlaySound(w.SFX_Case_Choose_Done)},a.OnRemoveVoting=function(e){r("DealOrNoDeal OnRemoveVoting:"+JSON.stringify(e))},a.OnGameProgress=function(e){r("=========== GAME PROGRESSS ",e),e.state==f.GAME_STATE.BETTING_PHASE&&this.ResetGame(),this.isVotedRemove=!1,this.stateCur=e.state,this.UpdateHighestVotedCase(e.cases),this.panelYourBet.UpdateState(e),this.panelWaiting.UpdateState(e),this.panelCountDownVote.UpdateState(e),this.panelVoteCases.UpdateState(e),this.panelCaseValue.UpdateState(e),this.panelOffer.UpdateState(e),this.panelLastDealOffer.UpdateState(e),this.panelResult.UpdateState(e),this.panelCountDownNextGame.UpdateState(e)},a.OnChat=function(e){for(var t in e)if(null!=e[t]){this.panelChat.OnChat({address:t,msg:e[t],time:e.time});break}r("DealOrNoDeal OnChat:"+JSON.stringify(e))},a.OnBet=function(e){r("DealOrNoDeal OnBet:"+JSON.stringify(e)),this.isViewer=!1,N.GEM=e.remainAmount,this.UpdateBettingAmount(e.bettingAmount),this.panelVoteCases.SetWaitingOtherPlayer()},a.UpdateBettingAmount=function(e){switch(this.bettingAmount=e,r("UpdateBettingAmount:"+e),this.stateCur){case f.GAME_STATE.BETTING_PHASE:case f.GAME_STATE.VOTING_PHASE:case f.GAME_STATE.VOTING_RESULT:e>0?(this.panelYourBet.Hide(),this.panelCaseValue.Show(),this.panelCaseValue.ShowYourBet()):(this.panelYourBet.Show(),this.panelCaseValue.Hide())}},a.OnUpdateCases=function(e){r("DealOrNoDeal OnUpdateCases:"+JSON.stringify(e)),this.panelVoteCases.UpdateCases(e)},a.OnShowDeal=function(e){r("DealOrNoDeal OnShowDeal:"+JSON.stringify(e))},a.OnDeal=function(e){r("DealOrNoDeal OnDeal:"+JSON.stringify(e)),this.ShowUserResult(e)},a.OnRemianingCases=function(e){this.panelVoteCases.UpdateRemainingCases(e),this.panelCaseValue.UpdateRemainingCases(e),r("OnRemianingCases:"+JSON.stringify(e))},a.OnSelectCase=function(e){r("DealOrNoDeal OnSelectCase:"+JSON.stringify(e)),this.ShowUserResult(e)},a.OnAutoDeal=function(e){r("DealOrNoDeal OnAutoDeal:"+JSON.stringify(e)),this.ShowUserResult(e),this.userLastAction=1},a.OnShowCases=function(e){r("DealOrNoDeal OnShowCases:"+JSON.stringify(e)),this.panelResult.ShowCaseResult(e)},a.OnGameActionStats=function(e){r("DealOrNoDeal OnGameActionStats:"+JSON.stringify(e)),null!=e.dealCount&&null!=e.dealCount&&(this.lbNumDeal.string=e.dealCount),null!=e.noDealCount&&null!=e.noDealCount&&(this.lbNumNoDeal.string=e.noDealCount),this.panelLastDealOffer.UpdatePercentVote(e)},a.ShowUserResult=function(e){this.isCompleted=!0,this.stateCur==f.GAME_STATE.DEAL_LAST_PHASE||this.stateCur==f.GAME_STATE.RESTING_PHASE&&this.panelResult.isEffectShowCase?this.lastPhaseReward=e:(N.GEM=e.remainingAmount,this.panelResult.Show(e.reward,this.stateCur))},a.CanVoting=function(){return this.stateCur==f.GAME_STATE.VOTING_PHASE||this.stateCur==f.GAME_STATE.VOTING_SECOND_PHASE||this.stateCur==f.GAME_STATE.VOTING_THIRD_PHASE||this.stateCur==f.GAME_STATE.VOTING_FOURTH_PHASE||this.stateCur==f.GAME_STATE.VOTING_LAST_PHASE},a.IsLastOffer=function(){return this.stateCur==f.GAME_STATE.DEAL_LAST_PHASE},a.UpdateVoted=function(e,t){this.isVoted=e.isVoted,null==e.votedRemoveCases||0==e.votedRemoveCases.length?this.isVotedRemove=!1:(this.isVotedRemove=!0,this.panelVoteCases.UpdateHighLightVoted(e.votedRemoveCases)),this.panelVoteCases.UpdateButtonConfirm()},a.IsViewer=function(){return this.isViewer},a.IsCompleted=function(){return this.isCompleted},a.GetBettingAmount=function(){return this.bettingAmount},a.GetHighestVotedCase=function(){return this.highestVotedCase},a.GetState=function(){return this.stateCur},a.GetPlayerInfo=function(){return this.playerInfo},a.GetLastPhaseReward=function(){return this.lastPhaseReward},a.GetUserLastAction=function(){return this.userLastAction},t}(u)).Instance=null,j=t((F=oe).prototype,"lbNumDeal",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(F.prototype,"lbNumNoDeal",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(F.prototype,"panelCountDownNextGame",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(F.prototype,"panelWaiting",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(F.prototype,"panelCaseValue",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(F.prototype,"panelChat",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(F.prototype,"panelCountDownVote",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(F.prototype,"panelVoteCases",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(F.prototype,"panelYourBet",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(F.prototype,"panelNumberUser",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(F.prototype,"panelOffer",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(F.prototype,"panelLastDealOffer",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(F.prototype,"panelResult",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=F))||Y));a._RF.pop()}}}));

System.register("chunks:///_virtual/DondSoundController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventSystem.ts","./UserModel.ts"],(function(o){"use strict";var n,e,t,i,u,s,r,a,l,d,c,p;return{setters:[function(o){n=o.applyDecoratedDescriptor,e=o.inheritsLoose,t=o.initializerDefineProperty,i=o.assertThisInitialized},function(o){u=o.cclegacy,s=o._decorator,r=o.AudioSource,a=o.AudioClip,l=o.Component},function(o){d=o.GlobalEvents,c=o.EventType},function(o){p=o.UserModel}],execute:function(){var S,_,h,F,f,X,C,D,v;o("DondSoundEnum",void 0),u._RF.push({},"8cf0446uH9Hy6T8vUkIbT0P","DondSoundController",void 0),function(o){o[o.SFX_Case_Drop=0]="SFX_Case_Drop",o[o.SFX_Case_Choose_Done=1]="SFX_Case_Choose_Done",o[o.SFX_Click=2]="SFX_Click",o[o.SFX_Last_Case_Open=3]="SFX_Last_Case_Open",o[o.SFX_Offer_Appear=4]="SFX_Offer_Appear",o[o.SFX_Receive_Reward=5]="SFX_Receive_Reward",o[o.SFX_Select_Case=6]="SFX_Select_Case"}(v||(v=o("DondSoundEnum",{})));var y=s.ccclass,b=s.property;o("DondSoundController",(S=y("DondSoundController"),_=b(r),h=b(a),S(((D=function(o){function n(){for(var n,e=arguments.length,u=new Array(e),s=0;s<e;s++)u[s]=arguments[s];return n=o.call.apply(o,[this].concat(u))||this,t(n,"SoundFX",X,i(n)),t(n,"AudioClips",C,i(n)),n}e(n,o);var u=n.prototype;return u.onLoad=function(){n.Instance=this,d.subscribe(c.UPDATE_SOUND,this.onUpdateSound.bind(this))},u.onDestroy=function(){d.unsubscribe(c.UPDATE_SOUND,this.onUpdateSound.bind(this))},u.onUpdateSound=function(){console.log("CheckingGame onUpdateSound:"+p.userLocalData.soundOn),this.SoundFX.volume=p.userLocalData.soundOn?1:0},u.PlaySound=function(o,n){void 0===n&&(n=.5),p.userLocalData.soundOn&&(this.SoundFX.loop=!1,this.SoundFX.playOneShot(this.AudioClips[o],n))},u.PlaySoundLoop=function(o,n){void 0===n&&(n=.5),p.userLocalData.soundOn&&(this.SoundFX.volume=n,this.SoundFX.loop=!0,this.SoundFX.clip=this.AudioClips[o],this.SoundFX.play())},u.StopSoundLoop=function(){this.SoundFX.stop()},n}(l)).Instance=void 0,X=n((f=D).prototype,"SoundFX",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=n(f.prototype,"AudioClips",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=f))||F));u._RF.pop()}}}));

System.register("chunks:///_virtual/EngineHelper.ts",["cc"],(function(e){"use strict";var c,n;return{setters:[function(e){c=e.cclegacy,n=e._decorator}],execute:function(){var t;c._RF.push({},"968c58oiXVLH7I9yh+cPsZg","EngineHelper",void 0);var i=n.ccclass;n.property,e("EngineHelper",i("EngineHelper")(t=function(){function e(){}return e.TouchEndWithoutStart=function(e){var c=e._eventProcessor.touchListener._claimedTouches;e._eventProcessor.touchListener._claimedTouches={local_claimedTouches:c,get length(){return 1},indexOf:function(e){var c=this.local_claimedTouches.indexOf(e);return c>=0?c:0},splice:function(e,c){this.local_claimedTouches.length>0&&this.local_claimedTouches.splice(e,c)},push:function(e){this.local_claimedTouches.push(e)},includes:function(e){return this.local_claimedTouches.includes(e)}}},e}())||t);c._RF.pop()}}}));

System.register("chunks:///_virtual/EventSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var o,t;return{setters:[function(e){o=e.createForOfIteratorHelperLoose},function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"b9d7bkNeKJB7bNv1zgw8xOD","EventSystem",void 0);e("EventType",{LE_INFO_UPDATED:0,GEM_INFO_UPDATED:1,FREETICKET_INFO_UPDATED:2,UPDATE_MUSIC:3,UPDATE_SOUND:4,FARM_WORLD_UPDATE:5,FARM_BANNER_UPDATE:6,WATERING_INFO_UPDATED:7,SCARECROW_INFO_UPDATED:8,PETFOOD_INFO_UPDATED:9,TOTALSTEALLE_INFO_UPDATED:10,FACTION_ICON_CLICK:11,FACTION_ICON_UNCLICK:12,Socket_onChatCallback:13,Socket_onConnectCallback:14,Socket_onErrorCallback:15,Socket_onChatAllCallback:16,Socket_onSlotUpdateCallback:17,Socket_onChangeLand:18,Socket_onChangeNumberViewer:19,Socket_onErr:20,Socket_onNotice:21,Socket_onHitCrowKing:22,Socket_onNewBidding:23,Socket_Dond_GameInit:24,Socket_Dond_PlayerInfo:25,Socket_Dond_Notice:26,Socket_Dond_Voting_Result:27,Socket_Dond_Remove_Voting:28,Socket_Dond_Game_Progress:29,Socket_Dond_Chat:30,Socket_Dond_Bet:31,Socket_Dond_Update_Cases:32,Socket_Dond_Show_Deal:33,Socket_Dond_Deal:34,Socket_Dond_Remaining_Cases:35,Socket_Dond_Select_Case:36,Socket_Dond_Auto_Deal:37,Socket_Dond_Game_Statistics:38,Socket_Dond_Removed_Case:39}),e("GlobalEvents",new(function(){function e(){this.subscribers={}}var t=e.prototype;return t.publish=function(e,t){var _=this.subscribers[e];if(!_)return!1;for(var n,c=o(_);!(n=c()).done;){(0,n.value)(t)}return!0},t.subscribe=function(e,o){return this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push(o),o},t.unsubscribe=function(e,o){this.subscribers[e]&&(this.subscribers[e]=o?this.subscribers[e].filter((function(e){return e!==o})):void 0)},e}()));t._RF.pop()}}}));

System.register("chunks:///_virtual/FadeSpriteEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,o,a,n,c,p,s,l,u,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,n=t._decorator,c=t.Sprite,p=t.UIOpacity,s=t.Vec3,l=t.tween,u=t.v3,y=t.Component}],execute:function(){var f,d,m,h,_,v,b;a._RF.push({},"7f718YnjtZDaoayrgp1jOrN","FadeSpriteEffect",void 0);var g=n.ccclass,F=n.property;t("FadeSpriteEffect",(f=g("FadeSpriteEffect"),d=F(c),m=F(p),f((v=e((_=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return e=t.call.apply(t,[this].concat(a))||this,r(e,"m_sprite",v,o(e)),r(e,"m_opacity",b,o(e)),e}return i(e,t),e.prototype.Play=function(t,e){var i=this;this.m_sprite.spriteFrame=t,this.m_opacity.opacity=255,this.node.setPosition(new s(0,0,0)),l(this.m_opacity).delay(e).to(1,{opacity:0}).start(),l(this.node).delay(e).to(1,{position:u(0,75,0)},{onComplete:function(t){i.node.active=!1,i.m_opacity.opacity=255}}).start()},e}(y)).prototype,"m_sprite",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=e(_.prototype,"m_opacity",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=_))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/FadeTextEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,o,a,r,n,c,l,s,p,u,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,n=t._decorator,c=t.Label,l=t.UIOpacity,s=t.Vec3,p=t.tween,u=t.v3,y=t.Component}],execute:function(){var f,d,h,b,m,_,v;r._RF.push({},"6d12b5XVW1Dm5txbdVHpUlF","FadeTextEffect",void 0);var g=n.ccclass,x=n.property;t("FadeTextEffect",(f=g("FadeTextEffect"),d=x(c),h=x(l),f((_=e((m=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return e=t.call.apply(t,[this].concat(r))||this,o(e,"m_Label",_,a(e)),o(e,"m_opacity",v,a(e)),e}return i(e,t),e.prototype.Play=function(t,e,i){var o=this;void 0===i&&(i=.2),this.m_Label.string=t,this.m_opacity.opacity=255,this.node.setPosition(new s(e)),this.node.active=!0,p(this.m_opacity).delay(i).to(.5,{opacity:0}).start(),p(this.node).delay(i).to(.52,{position:u(e.x,e.y+40,e.z)},{onComplete:function(t){o.destroy()}}).start()},e}(y)).prototype,"m_Label",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(m.prototype,"m_opacity",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=m))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/FarmBannerUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIPopupManager.ts","./UserModel.ts","./ResHttp.ts","./ConfigApi.ts","./AdsBannerController.ts","./EventSystem.ts","./ConfigGame.ts"],(function(n){"use strict";var e,t,a,r,i,o,l,u,c,s,p,f,b,d,B,v,h,y;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,a=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){i=n.cclegacy,o=n._decorator,l=n.Node,u=n.Sprite,c=n.Label,s=n.Component},function(n){p=n.UIPopupManager},function(n){f=n.UserModel},function(n){b=n.ResHttp},function(n){d=n.ConfigApi},function(n){B=n.AdsBannerController},function(n){v=n.GlobalEvents,h=n.EventType},function(n){y=n.ConfigGame}],execute:function(){var A,D,m,L,U,F,g,_,I;i._RF.push({},"a8d50qBqhFMbpS9qkceDY+S","FarmBannerUI",void 0);var R=o.ccclass,C=o.property;n("FarmBannerUI",(A=R("FarmBannerUI"),D=C(l),m=C(u),L=C(c),A((g=e((F=function(n){function e(){for(var e,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e=n.call.apply(n,[this].concat(i))||this,a(e,"bannerDefault",g,r(e)),a(e,"banner",_,r(e)),e.onFarmBannerUpdateCallBack=null,a(e,"priceLabel",I,r(e)),e}t(e,n);var i=e.prototype;return i.start=function(){this.priceLabel.string="ADS BANNER: "+y.PRICE_BANNER+" LE",this.onFarmBannerUpdateCallBack=v.subscribe(h.FARM_BANNER_UPDATE,this.onFarmBannerUpdate.bind(this))},i.ShowAd=function(){this.banner.node.active=!1,this.bannerDefault.active=!0,this.InitAdBanner()},i.onDestroy=function(){v.unsubscribe(h.FARM_BANNER_UPDATE,this.onFarmBannerUpdateCallBack)},i.onFarmBannerUpdate=function(n){this.LoadBannerByLocation(n.x,n.y)},i.LoadBannerByLocation=function(n,e){var t=this;t.banner.node.active=!1,t.bannerDefault.active=!0;var a={x:n,y:e};b.GetRequest(d.LINK_API+d.lands_get_banner_by_coordinate,a,(function(n){var e=JSON.parse(n).data;B.LoadSpriteAdByUrl(e,(function(n){null!=n&&null!=t&&null!=t.banner&&null!=t.bannerDefault&&(t.banner.spriteFrame=n,t.banner.node.active=!0,t.bannerDefault.active=!1)}))}),(function(n){}))},i.InitAdBanner=function(){var n=this;B.LoadSpriteAdByUrl(f.currentLandData.ads,(function(e){null!=e&&null!=n&&null!=n.banner&&null!=n.bannerDefault&&(n.banner.node.active=!0,n.bannerDefault.active=!1,n.banner.spriteFrame=e)}))},i.OnBtnRent=function(){p.Instance.ShowUIPopupBidAd(f.currentLandData.location[0],f.currentLandData.location[1],f.currentLandData._id)},e}(s)).prototype,"bannerDefault",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(F.prototype,"banner",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(F.prototype,"priceLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=F))||U));i._RF.pop()}}}));

System.register("chunks:///_virtual/FarmBiddingUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserModel.ts","./Utility.ts","./ConfigApi.ts","./ResHttp.ts","./ConfigGame.ts"],(function(t){"use strict";var i,e,n,l,a,r,o,s,d,c,p,u,h,b,f,g,S;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,o=t.Widget,s=t.Label,d=t.EditBox,c=t.Node,p=t.tween,u=t.Component},function(t){h=t.UserModel},function(t){b=t.Utility},function(t){f=t.ConfigApi},function(t){g=t.ResHttp},function(t){S=t.EnumPlantSlotStage}],execute:function(){var m,_,B,L,v,P,y,U,I,w,E,x,z,A,C,F,W,R,M,D,N,q,G,H,V;a._RF.push({},"a2dacqMxvRPF5qeA4pnTqRW","FarmBiddingUI",void 0);var k=r.ccclass,O=r.property;t("FarmBiddingUI",(m=k("FarmBiddingUI"),_=O(o),B=O(s),L=O(s),v=O(s),P=O(s),y=O(s),U=O(s),I=O(d),w=O(s),E=O(c),x=O(c),m((C=i((A=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return i=t.call.apply(t,[this].concat(a))||this,n(i,"panelWidget",C,l(i)),n(i,"locationLabel",F,l(i)),n(i,"floorPriceLabel",W,l(i)),n(i,"ceilingPriceLabel",R,l(i)),n(i,"userBiddingLabel",M,l(i)),n(i,"yourBidLabel",D,l(i)),n(i,"LeBalanceLabel",N,l(i)),n(i,"LeEditBox",q,l(i)),n(i,"feeLabel",G,l(i)),n(i,"btn_Bids",H,l(i)),n(i,"btn_Cancels",V,l(i)),i.farmUI=void 0,i.plantSlot=void 0,i.isActive=!1,i}e(i,t);var a=i.prototype;return a.Show=function(t,i){if(this.isActive=!0,t.HideAllPopup(this),this.farmUI=t,this.plantSlot=i,this.locationLabel.string="SLOT: "+i._d.location[0]+","+i._d.location[1],this.LeBalanceLabel.string=b.numberWithCommas(h.LE),this.floorPriceLabel.string=i._d.prices.floorPrice,this.feeLabel.string="Fee: "+h.farmWorldInfo.biddingFee+"LE",this.yourBidLabel.string=i.yourbid.toString(),this.node.active||(this.node.active=!0,p(this.panelWidget).to(.15,{right:0}).start()),null==this.plantSlot._d.prices.highestPrice){var e=0;null!=this.plantSlot._d.prices.biddingUser&&this.plantSlot._d.prices.biddingUser.forEach((function(t){t.price>e&&(e=t)})),this.plantSlot._d.prices.highestPrice=e}this.userBiddingLabel.string=this.plantSlot._d.prices.highestPrice,this.LeEditBox.string="0",this.LeEditBox.string=this.bidValue().toString(),this.updateBidBtn()},a.Socket_onSlotUpdateCallback=function(t){this.isActive&&t==this.plantSlot&&this.Show(this.farmUI,this.plantSlot)},a.Hide=function(){var t=this;this.node.active&&(this.isActive=!1,this.farmUI.onCloseSelect(),p(this.panelWidget).to(.15,{right:-650}).call((function(){t.node.active=!1})).start())},a.onCancelBid=function(){var t=this;g.DeleteRequest(f.LINK_API+f.farm_bidding+this.plantSlot._d._id,(function(i){h.LE=JSON.parse(i).data.leAmount;for(var e=0;e<t.plantSlot._d.prices.biddingUser.length;e++)if(t.plantSlot._d.prices.biddingUser[e].userId==h.ownerId)return t.farmUI.totalPlayerBid-=1,t.plantSlot._d.prices.biddingUser.splice(e,1),t.plantSlot.fillData(t.plantSlot._d,h.GetFarmWorldState()),void t.Show(t.farmUI,t.plantSlot)}),(function(t){}))},a.onBid=function(){var t=this,i=this.bidValue(),e={price:i};g.PostRequest(f.LINK_API+f.farm_bidding+this.plantSlot._d._id,e,(function(e){var n=JSON.parse(e);h.LE=n.data.leAmount;var l=!1;if(null==t.plantSlot._d.prices.biddingUser&&(t.plantSlot._d.prices.biddingUser=[]),t.plantSlot._d.prices.biddingUser.forEach((function(t){t.userId==h.ownerId&&(l=!0,t.price=i)})),!l){var a={userId:h.ownerId,price:i};t.plantSlot._d.prices.biddingUser.push(a)}l||(t.farmUI.totalPlayerBid+=1),t.plantSlot.fillData(t.plantSlot._d,h.GetFarmWorldState()),t.plantSlot._d.prices.highestPrice=n.data.highestPrice,t.Show(t.farmUI,t.plantSlot)}),null)},a.onLeEditBox=function(){this.LeEditBox.string=this.bidValue().toString(),this.updateBidBtn()},a.onMax=function(){this.LeEditBox.string=h.LE.toString(),this.updateBidBtn()},a.bidValue=function(){var t=+this.LeEditBox.string;return t=Math.max(this.plantSlot._d.prices.highestPrice+1,t,this.plantSlot._d.prices.floorPrice),t=10*Math.ceil(t/10)},a.updateBidBtn=function(){this.btn_Cancels[0].active=this.plantSlot.enumPlantSlotState==S.bidding||this.plantSlot.enumPlantSlotState==S.otherBidGreater,this.btn_Cancels[1].active=!this.btn_Cancels[0].active,this.btn_Bids[0].active=this.plantSlot.enumPlantSlotState==S.bidding||this.plantSlot.enumPlantSlotState==S.bidNow||this.plantSlot.enumPlantSlotState==S.bidnow_havebid||this.plantSlot.enumPlantSlotState==S.otherBidGreater,this.btn_Bids[1].active=!this.btn_Bids[0].active},i}(u)).prototype,"panelWidget",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(A.prototype,"locationLabel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=i(A.prototype,"floorPriceLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(A.prototype,"ceilingPriceLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(A.prototype,"userBiddingLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(A.prototype,"yourBidLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=i(A.prototype,"LeBalanceLabel",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=i(A.prototype,"LeEditBox",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=i(A.prototype,"feeLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=i(A.prototype,"btn_Bids",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=i(A.prototype,"btn_Cancels",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=A))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/FarmChatUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserModel.ts","./FarmItemChatUI.ts","./SocketFarmHandler.ts","./Utility.ts","./UIPopupManager.ts","./ConfigGame.ts","./UIToast.ts","./FarnSpeakerUI.ts","./FarmTransferLETab.ts"],(function(t){"use strict";var e,n,a,r,i,o,l,u,h,s,c,f,b,d,C,p,m,I,U,g,w,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,o=t._decorator,l=t.Node,u=t.Label,h=t.ScrollView,s=t.EditBox,c=t.sys,f=t.instantiate,b=t.Component},function(t){d=t.UserModel},function(t){C=t.FarmItemChatUI},function(t){p=t.SocketFarmHandler},function(t){m=t.Utility},function(t){I=t.UIPopupManager},function(t){U=t.ConfigGame},function(t){g=t.TypeNoticeToast},function(t){w=t.FarnSpeakerUI},function(t){v=t.FarmTransferLETab}],execute:function(){var L,S,y,T,N,O,_,k,E,z,D,x,F,A,M,H,P,B,R,G,W,j,J,K,Q,V,Y,q,X,Z,$,tt,et,nt,at,rt,it;i._RF.push({},"5992b3COGJPDbDYWD5QUbKM","FarmChatUI",void 0);var ot=o.ccclass,lt=o.property;t("FarmChatUI",(L=ot("FarmChatUI"),S=lt(w),y=lt(l),T=lt(l),N=lt(v),O=lt(u),_=lt(l),k=lt(l),E=lt(u),z=lt(l),D=lt(l),x=lt(l),F=lt(l),A=lt(l),M=lt(l),H=lt(h),P=lt(u),B=lt(s),L((W=e((G=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,a(e,"farmSpeaker",W,r(e)),a(e,"tabChat",j,r(e)),a(e,"tabSpeaker",J,r(e)),a(e,"farmTransferLETab",K,r(e)),a(e,"txtNumberUser",Q,r(e)),a(e,"btnSendChatUnOwned",V,r(e)),a(e,"btnSendChat",Y,r(e)),a(e,"txtNumberChat",q,r(e)),a(e,"btnChat",X,r(e)),a(e,"panel",Z,r(e)),a(e,"prefabItemChatSpeaker",$,r(e)),a(e,"prefabItemChatUnOwned",tt,r(e)),a(e,"prefabItemChatOther",et,r(e)),a(e,"prefabItemChatMine",nt,r(e)),a(e,"scrollChat",at,r(e)),a(e,"txtTitle",rt,r(e)),a(e,"editChat",it,r(e)),e._farmUI=void 0,e.curLandId="",e.numberChatUnread=0,e}n(e,t);var i=e.prototype;return i.start=function(){},i.ChangeLand=function(t){this._farmUI=t,this.txtNumberChat.node.parent.active=!1,this.farmSpeaker.Init(this),this.LoadHistories(d.currentLandData.chatHistories),this.txtTitle.string="LAND "+d.currentLandData.location[0]+","+d.currentLandData.location[1],this.curLandId=d.currentLandData._id,p.ChangeLand(d.currentLandData._id)},i.Show=function(t){this._farmUI=t,this.node.active=!this.node.active,this.node.active&&(this.LoadButtonsSendChat(),this.LoadNumberUser())},i.ShowTabChat=function(){this.tabChat.active=!0,this.tabSpeaker.active=!1},i.ShowTabSpeaker=function(){this.tabChat.active=!1,this.tabSpeaker.active=!0},i.onTabTransferClick=function(){this.farmTransferLETab.node.active=!this.farmTransferLETab.node.active},i.CheckChatOwned=function(t){for(var e=0;e<this._farmUI.plantSlots.length;e++)if(this._farmUI.plantSlots[e]._d.ownerId==t)return!0;return!1},i.onChangeLand=function(t){d.currentLandData._id==this.curLandId&&(this._farmUI=t)},i.LoadNumberUser=function(){var t=[];this._farmUI.plantSlots.forEach((function(e){if(""!=e._d.ownerId){for(var n=!1,a=0;a<t.length;a++)if(e._d.ownerId==t[a]){n=!0;break}0==n&&t.push(e._d.ownerId)}})),this.txtNumberUser.string=t.length+"",this.farmTransferLETab.Init(t,this._farmUI)},i.LoadButtonsSendChat=function(){1==this.CheckChatOwned(d.ownerId)?(this.btnSendChat.active=!0,this.btnSendChatUnOwned.active=!1):(this.btnSendChat.active=!1,this.btnSendChatUnOwned.active=!0)},i.LoadHistories=function(t){if(this.scrollChat.content.destroyAllChildren(),null!=t){for(var e=0;e<t.length;e++){var n=t[e];for(var a in n)if(null!=n[a]){this.OnChat({address:a,msg:n[a],time:n.time});break}}this.ClearNumberChatUnread()}},i.onChatMessage=function(t){if(null!=t)if(Array.isArray(t))this.LoadHistories(t);else for(var e in t)if(null!=t[e]){this.OnChat({address:e,msg:t[e],time:t.time});break}},i.Log=function(t){},i.onChatAllMessage=function(t){this.OnChatAll(t)},i.OnBtnSend=function(){if(this.Log("OnBtnSend "+this.editChat.string+"  "+this.node.active),null!=this.editChat.string&&""!=this.editChat.string){var t=this.editChat.string.trim(),e=function(){p.SendChat(t),this.editChat.string="",0==c.isNative&&this.forcusEditChat()}.bind(this);0==this.CheckChatOwned(d.ownerId)?d.LE<U.PRICE_CHAT_UNOWNED_LAND?I.Instance.ShowToast("INFO","Not enough to LE",g.Info):(e(),d.LE-=U.PRICE_CHAT_UNOWNED_LAND):e()}else this.forcusEditChat()},i.forcusEditChat=function(){var t=this;m.AsyncDelay(50).then((function(){t.editChat.setFocus()}))},i.UpdateTxtNumberChatUnread=function(){0==this.node.active&&(this.numberChatUnread++,this.txtNumberChat.string=this.numberChatUnread>=100?"99+":this.numberChatUnread+"",this.txtNumberChat.node.parent.active=!0)},i.ClearNumberChatUnread=function(){this.numberChatUnread=0,this.txtNumberChat.node.parent.active=!1},i.onEnable=function(){this.ClearNumberChatUnread()},i.OnChat=function(t){var e=null;(e=t.address==d.ownerId?f(this.prefabItemChatMine):this.CheckChatOwned(t.address)?f(this.prefabItemChatOther):f(this.prefabItemChatUnOwned)).parent=this.scrollChat.content,e.setPosition(0,0,0),e.getComponent(C).Init(t),this.UpdateTxtNumberChatUnread()},i.OnChatAll=function(t){var e=f(this.prefabItemChatSpeaker);e.parent=this.scrollChat.content,e.setPosition(0,0,0),e.getComponent(C).Init(t),this.UpdateTxtNumberChatUnread()},e}(b)).prototype,"farmSpeaker",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(G.prototype,"tabChat",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(G.prototype,"tabSpeaker",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(G.prototype,"farmTransferLETab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(G.prototype,"txtNumberUser",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(G.prototype,"btnSendChatUnOwned",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(G.prototype,"btnSendChat",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(G.prototype,"txtNumberChat",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(G.prototype,"btnChat",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(G.prototype,"panel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(G.prototype,"prefabItemChatSpeaker",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=e(G.prototype,"prefabItemChatUnOwned",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=e(G.prototype,"prefabItemChatOther",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=e(G.prototype,"prefabItemChatMine",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e(G.prototype,"scrollChat",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e(G.prototype,"txtTitle",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(G.prototype,"editChat",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=G))||R));i._RF.pop()}}}));

System.register("chunks:///_virtual/FarmDecorBuff.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConfigGame.ts","./ResourcesManager.ts","./IconInfo.ts"],(function(t){"use strict";var n,o,e,i,r,a,c,f,l,s,u,d,h;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,c=t.Label,f=t.Node,l=t.instantiate,s=t.Component},function(t){u=t.ConfigGame},function(t){d=t.ResourcesManager},function(t){h=t.IconInfo}],execute:function(){var I,p,B,g,v,b,m,D,y;r._RF.push({},"71a31naaz5DlYci+VjCIBX1","FarmDecorBuff",void 0);var _=a.ccclass,C=a.property;t("FarmDecorBuff",(I=_("FarmDecorBuff"),p=C(c),B=C(f),g=C(f),I((m=n((b=function(t){function n(){for(var n,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,e(n,"title_all",m,i(n)),e(n,"decorBuffIconPrefab",D,i(n)),e(n,"decorBuffIconContent",y,i(n)),n.decorBuffIconInfos=[],n.data=null,n.farmUI=void 0,n.plantSlot=void 0,n}o(n,t);var r=n.prototype;return r.Show=function(t,n,o){this.plantSlot=o,this.farmUI=t,this.data=n,this.title_all.string="DECOR BUFF : "+this.data.length,this.showBuff()},r.showBuff=function(){var t=this;this.decorBuffIconInfos.forEach((function(t){t.node.active=!1}));for(var n=0,o=0;o<this.data.length;o++){var e=this.data[o],i=e.description;if(null!=this.plantSlot)if(402==e.id)e.slotLocations.findIndex((function(n){return n[0]==t.plantSlot._d.location[0]&&n[1]==t.plantSlot._d.location[1]}))<0&&(i="");else null!=e.faction&&this.plantSlot._d.plantInfos.faction!=e.faction&&(i="");if(""!=i)null!=e.faction&&(i+=" ("+u.FactionText[e.faction]+")"),this.getDecorIconInfo(n).Init(d.Instance.LoadDecorBuffIcon(e.id),i),n++}},r.getDecorIconInfo=function(t){var n;t<this.decorBuffIconInfos.length?n=this.decorBuffIconInfos[t]:(n=l(this.decorBuffIconPrefab).getComponent(h),this.decorBuffIconInfos.push(n));return n.node.active=!0,n.node.setParent(this.decorBuffIconContent),n},n}(s)).prototype,"title_all",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=n(b.prototype,"decorBuffIconPrefab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=n(b.prototype,"decorBuffIconContent",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=b))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/FarmDecorUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserModel.ts","./ResHttp.ts","./ConfigApi.ts","./UIPopupManager.ts","./FarmDecorBuff.ts"],(function(t){"use strict";var e,i,r,n,a,o,l,s,c,p,u,f,d,m,h,v,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,l=t.Widget,s=t.Sprite,c=t.SpriteFrame,p=t.Node,u=t.tween,f=t.Component},function(t){d=t.UserModel},function(t){m=t.ResHttp},function(t){h=t.ConfigApi},function(t){v=t.LoadingType},function(t){b=t.FarmDecorBuff}],execute:function(){var y,g,S,I,D,U,R,B,w,F,_,z,A,C,H,L,P;a._RF.push({},"9af50f2fkJCtrn5tjYC3DUB","FarmDecorUI",void 0);var T=o.ccclass,W=o.property;t("FarmDecorUI",(y=T("FarmDecorUI"),g=W(l),S=W(s),I=W(s),D=W(c),U=W(p),R=W(p),B=W(b),y((_=e((F=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,r(e,"panelWidget",_,n(e)),e.animTime=.15,r(e,"DecorSprite",z,n(e)),r(e,"raritySprite",A,n(e)),r(e,"baseRaritys",C,n(e)),r(e,"BtnRemove",H,n(e)),r(e,"BtnRemoveGrey",L,n(e)),r(e,"farmDecorBuff",P,n(e)),e.farmUI=void 0,e.plantSlot=void 0,e.isActive=!1,e}i(e,t);var a=e.prototype;return a.Show=function(t,e){this.isActive=!0,t.HideAllPopup(this),null!=e._d.decInfos?(this.farmUI=t,this.plantSlot=e,this.DecorSprite.spriteFrame=e.decorSprite.spriteFrame,this.BtnRemove.active=e._d.decInfos.ownerId==d.ownerId,this.BtnRemoveGrey.active=!this.BtnRemove.active,this.raritySprite.spriteFrame=this.baseRaritys[e.config.rarity],this.farmDecorBuff.Show(this.farmUI,d.currentLandData.decoStatus.effects,null),this.node.active||(this.node.active=!0,u(this.panelWidget).to(this.animTime,{right:0}).start())):this.Hide()},a.Socket_onSlotUpdateCallback=function(t){this.isActive||t==this.plantSlot&&this.Show(this.farmUI,this.plantSlot)},a.Hide=function(){var t=this;this.node.active&&(this.isActive=!1,this.farmUI.onCloseSelect(),u(this.panelWidget).to(this.animTime,{right:-450}).call((function(){t.node.active=!1})).start())},a.OnBtnRemove=function(){var t=this,e={slots:[{slotId:this.plantSlot._d._id}],landId:d.currentLandData._id};m.PostRequest(h.LINK_API+h.decorations_put,e,(function(e){t.farmUI.UpdateData()}),(function(e){t.farmUI.UpdateData()}),!0,v.normal),this.Hide()},e}(f)).prototype,"panelWidget",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(F.prototype,"DecorSprite",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(F.prototype,"raritySprite",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(F.prototype,"baseRaritys",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=e(F.prototype,"BtnRemove",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(F.prototype,"BtnRemoveGrey",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(F.prototype,"farmDecorBuff",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=F))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/FarmInfoUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventSystem.ts","./UserModel.ts","./Utility.ts","./ConfigGame.ts"],(function(e){"use strict";var t,i,n,a,o,r,s,l,m,T,f,u,c,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,s=e.Label,l=e.Component},function(e){m=e.GlobalEvents,T=e.EventType},function(e){f=e.UserModel,u=e.FarmWorldState},function(e){c=e.Utility},function(e){h=e.ConfigGame}],execute:function(){var d,p,b,D,I,v,g;o._RF.push({},"80c67sY81JE+aOxks8IRP3J","FarmInfoUI",void 0);var U=r.ccclass,E=r.property;e("FarmInfoUI",(d=U("FarmInfoUI"),p=E(s),b=E(s),d((v=t((I=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"infoTitleLabel",v,a(t)),n(t,"infoTimeLabel",g,a(t)),t.cb=void 0,t.nextTime=void 0,t.onDataChangeCb=null,t.updateTimelAtTimmer=void 0,t.isUpdateTimelAt=void 0,t}i(t,e);var o=t.prototype;return o.start=function(){this.cb=m.subscribe(T.FARM_WORLD_UPDATE,this.onDataChange.bind(this))},o.Init=function(e){this.onDataChangeCb=e,this.onDataChange(),this.CorouUpdateTime()},o.onDestroy=function(){m.unsubscribe(T.FARM_WORLD_UPDATE,this.cb),this.StopUpdateTime()},o.onDataChange=function(e){if(null!=f.farmWorldInfo){this.node.active=!0;var t=f.GetFarmWorldState();switch(null!=this.onDataChangeCb&&this.onDataChangeCb(t),t){case u.PRE_BIDDING:f.serverTime>=f.farmWorldInfo.endDate?(this.infoTitleLabel.string="NEXT YEAR IN:",this.nextTime=f.farmWorldInfo.endDate+h.YearBreakDuration):(this.infoTitleLabel.string="SETTING UP NEW SEASON:",this.nextTime=f.farmWorldInfo.startBidding);break;case u.BIDDING:this.infoTitleLabel.string="BIDDING TIME LEFT:",this.nextTime=f.farmWorldInfo.startDemo;break;case u.DEMO:this.infoTitleLabel.string="DEMO TIME LEFT:",this.nextTime=f.farmWorldInfo.startDate;break;default:this.node.active=!1}}else this.node.active=!1},o.StopUpdateTime=function(){clearTimeout(this.updateTimelAtTimmer),this.isUpdateTimelAt=!1},o.CorouUpdateTime=function(){var e=this;this.updateTime();this.isUpdateTimelAt=!0,this.updateTimelAtTimmer=setTimeout((function t(){e.isUpdateTimelAt&&(e.updateTimelAtTimmer=setTimeout(t,1e3),e.updateTime())}),1e3)},o.updateTime=function(){this.node.active&&(f.serverTime>=f.farmWorldInfo.endDate&&f.serverTime>this.nextTime||(null==f.farmWorldInfo||f.serverTime>this.nextTime?this.onDataChange():this.infoTimeLabel.string=c.TimeToString_v1(this.nextTime-f.serverTime)))},t}(l)).prototype,"infoTitleLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=t(I.prototype,"infoTimeLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=I))||D));o._RF.pop()}}}));

System.register("chunks:///_virtual/FarmingServicesApi.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConfigApi.ts","./ResHttp.ts","./UIPopupManager.ts"],(function(t){"use strict";var e,n,r,s,u,i;return{setters:[function(t){e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){s=t.ConfigApi},function(t){u=t.ResHttp},function(t){i=t.LoadingType}],execute:function(){var c;t("FarmingServicesApi",void 0),r._RF.push({},"99043UU1cFM2biQOAdykN7R","FarmingServicesApi",void 0),function(t){function r(){return(r=e(n().mark((function t(e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){u.PostRequest(s.LINK_API+s.user_register,{publicAddress:e},t,t)}));case 2:t.sent;case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function c(){return(c=e(n().mark((function t(e,r){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u.GetRequest(s.LINK_API+s.user_info,null,e,r,!0,i.noAnim);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function o(){return(o=e(n().mark((function t(e,r){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u.GetRequest(s.LINK_API+s.bettings_info,null,e,r);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function a(){return(a=e(n().mark((function t(e,r){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u.GetRequest(s.LINK_API+s.farm_world,null,e,r,!0,i.noAnim);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(){return(p=e(n().mark((function t(e,r){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u.GetRequest(s.LINK_API+s.plants_config,null,e,r,!0,i.noAnim);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(){return(f=e(n().mark((function t(e,r){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u.GetRequest(s.LINK_API+s.pets_config,null,e,r,!0,i.noAnim);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function l(){return(l=e(n().mark((function t(e,r){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u.GetRequest(s.LINK_API+s.farm_pet_steal_land,null,e,r,!0,i.noAnim);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}t.RequestLoginWithMeta=function(t,e,n){var r={publicAddress:t};u.GetRequest(s.LINK_API+s.user_login,r,e,n)},t.RequestRegisterAccount=function(t){return r.apply(this,arguments)},t.PostRequestUserAuth=function(t,e,n,r,i){var c=s.LINK_API+s.user_auth,o={publicAddress:t,signature:e};u.PostRequest(c,o,r,i)},t.RequestUserInfo=function(t,e){return c.apply(this,arguments)},t.RequestBettingsInfo=function(t,e){return o.apply(this,arguments)},t.RequestBetting=function(t,e,n,r,i){var c=s.LINK_API+s.bettings,o={amount:t,choice:0==e?"head":"tail",times:n};u.PostRequest(c,o,r,i)},t.RequestFarmWorld=function(t,e){return a.apply(this,arguments)},t.RequestPlantConfig=function(t,e){return p.apply(this,arguments)},t.RequestPetConfig=function(t,e){return f.apply(this,arguments)},t.RequestPetStealLand=function(t,e){return l.apply(this,arguments)}}(c||(c=t("FarmingServicesApi",{}))),r._RF.pop()}}}));

System.register("chunks:///_virtual/FarmInventoryItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./IconInfo.ts","./ConfigGame.ts","./FarmUI.ts","./FarmInventoryItemPet.ts"],(function(e){"use strict";var i,t,n,o,a,r,l,c,s,f,p,u,I,b,h,d,m;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.Sprite,c=e.Label,s=e.Node,f=e.SpriteFrame,p=e.color,u=e.Component},function(e){I=e.ResourcesManager},function(e){b=e.IconInfo},function(e){h=e.ConfigGame},function(e){d=e.FarmUI},function(e){m=e.FarmInventoryItemPet}],execute:function(){var y,g,S,v,T,k,L,w,F,Z,z,P,C,D,R,E,x,U,_,A,B,M,N,G,j,q,H,J,Q,X,K,O,V,W,Y,$,ee,ie,te,ne,oe,ae,re;a._RF.push({},"f6d8dPEQjJCapfclwmXf7wm","FarmInventoryItem",void 0);var le=r.ccclass,ce=r.property;e("FarmInventoryItem",(y=le("FarmInventoryItem"),g=ce(l),S=ce(c),v=ce(c),T=ce(l),k=ce(c),L=ce(c),w=ce(b),F=ce(b),Z=ce(b),z=ce(b),P=ce(b),C=ce(l),D=ce(s),R=ce(s),E=ce(f),x=ce(l),U=ce(c),_=ce(l),A=ce(s),B=ce(m),y((G=i((N=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return i=e.call.apply(e,[this].concat(a))||this,n(i,"TreeSprite",G,o(i)),n(i,"TreeS1Label",j,o(i)),n(i,"TreeS2Label",q,o(i)),n(i,"mTreeSprite",H,o(i)),n(i,"mTreeS1Label",J,o(i)),n(i,"mTreeS2Label",Q,o(i)),n(i,"factionIcon",X,o(i)),n(i,"skillIcon",K,o(i)),n(i,"skillZoneIcon",O,o(i)),n(i,"abilityIcon",V,o(i)),n(i,"abilityZoneIcon",W,o(i)),n(i,"DecorSprite",Y,o(i)),n(i,"selectNode",$,o(i)),n(i,"placedNode",ee,o(i)),n(i,"baseRarity",ie,o(i)),n(i,"tabInfo",te,o(i)),i.tabInfoColor=["#E6E4D5","#A6ECA7","#8CC5FF","#D19EFF","#CC7474"],n(i,"tabLabel",ne,o(i)),i.tabLabelColor=["#959477","#5F935F","#3D6792","#7E4BB0","#8A2B2B"],n(i,"base",oe,o(i)),n(i,"diamond",ae,o(i)),n(i,"farmInventoryItemPet",re,o(i)),i.data=null,i.farmInventoryUI=void 0,i.index=void 0,i.config=void 0,i.type=0,i}t(i,e);var a=i.prototype;return a.Init=function(e,i,t,n){var o=this;if(this.farmInventoryUI=i,this.index=t,this.data=e,this.type=n,this.selectNode.active=!1,this.showPlaced(!1),0==n){this.TreeSprite.node.parent.active=!1,this.mTreeSprite.node.parent.active=!1,this.farmInventoryItemPet.node.active=!1,this.DecorSprite.node.parent.active=!0,this.config=i.farmUI.GetConfigByDecorId(e.decorId.toString()),this.factionIcon.Init(null),this.skillIcon.Init(null),this.skillZoneIcon.Init(null),this.abilityIcon.Init(null),this.abilityZoneIcon.Init(null),this.diamond[0].active=this.diamond[1].active=!1,this.setRarity(this.config.rarity),this.DecorSprite.node.active=!1;I.Instance.LoadDecor(this.config.name,(function(e){o.DecorSprite.spriteFrame=e,o.DecorSprite.node.active=!0}))}else if(3==n)this.TreeSprite.node.parent.active=!1,this.mTreeSprite.node.parent.active=!1,this.farmInventoryItemPet.node.active=!0,this.DecorSprite.node.parent.active=!1,this.config=i.farmUI.GetConfigByPetIdId(e.petId.toString()),this.factionIcon.Init(null),this.skillIcon.Init(null),this.skillZoneIcon.Init(null),this.abilityIcon.Init(null),this.abilityZoneIcon.Init(null),this.diamond[0].active=this.diamond[1].active=!1,this.setRarity(this.config.rarity),this.farmInventoryItemPet.Init(this,e,this.config);else{switch(this.config=i.farmUI.GetConfigByPlantId(e.plantId.toString(),e.origin),this.DecorSprite.node.parent.active=!1,this.farmInventoryItemPet.node.active=!1,I.Instance.LoadFactionSprite(this.config.plant.faction,(function(e){o.factionIcon.Init(e,"Faction: "+h.FactionText[o.config.plant.faction],!0,o.config.plant.faction)})),null==this.config.ability?this.abilityIcon.Init(null):this.abilityIcon.Init(I.Instance.LoadAbilitySprite(this.config.ability.abilityId),this.config.ability.description),null==this.config.abilityZone?this.abilityZoneIcon.Init(null):I.Instance.LoadAbilityZoneSprite(this.config.abilityZone.abilityZoneId,(function(e){o.abilityZoneIcon.Init(e,o.config.abilityZone.description)})),this.diamond[0].active=this.diamond[1].active=!1,e.origin){case"fused_second":this.diamond[0].active=!0,this.diamond[1].active=!0;break;case"fused":this.diamond[0].active=!0}if(this.setRarity(h.RarityText.findIndex((function(e){return e==o.config.plant.rarity}))),1==n){this.skillIcon.Init(I.Instance.LoadSkillSprite(this.config.skill.skillId),this.config.skill.description),I.Instance.LoadSkillZoneSprite(this.config.skillZone.skillZoneId,(function(e){o.skillZoneIcon.Init(e,o.config.skillZone.description)})),this.TreeSprite.node.parent.active=!0,this.mTreeSprite.node.parent.active=!1,this.TreeS1Label.string=this.config.plant.leStage[0]+this.config.plant_leStage_Extra,this.TreeS2Label.string=this.config.plant.leStage[1]+this.config.plant_leStage_Extra,this.TreeSprite.node.active=!1;I.Instance.LoadPlant(this.config.name,(function(e){o.TreeSprite.spriteFrame=e,o.TreeSprite.node.active=!0}))}else if(2==n){this.skillIcon.Init(I.Instance.LoadSkillSpriteMother(this.config.skill.skillId),this.config.skill.description),I.Instance.LoadSkillZoneSprite(this.config.skillZone.skillZoneId+"m",(function(e){o.skillZoneIcon.Init(e,o.config.skillZone.description)})),this.TreeSprite.node.parent.active=!1,this.mTreeSprite.node.parent.active=!0,this.mTreeS1Label.string=d.getMinMaxStage(this.config.mTreeAbility.stage1),this.mTreeS2Label.string=d.getMinMaxStage(this.config.mTreeAbility.stage2),this.mTreeSprite.node.active=!1;I.Instance.LoadPlant(this.config.name,(function(e){o.mTreeSprite.spriteFrame=e,o.mTreeSprite.node.active=!0}))}}},a.onClick=function(){this.farmInventoryUI.onFarmInventoryItemClick(this)},a.CheckPlace=function(){var e=this;this.showPlaced(!1),this.farmInventoryUI.farmUI.plantSlots.forEach((function(i){null==i.tempData||e.data.uniqueId!=i.tempData.uniqueId||e.showPlaced(!0)}))},a.showPlaced=function(e){this.type>=this.placedNode.length||(this.placedNode[this.type].active=e)},a.setRarity=function(e){var i=this;this.base.spriteFrame=this.baseRarity[e],this.tabInfo.forEach((function(t){t.color=p(i.tabInfoColor[e])})),this.tabLabel.forEach((function(t){t.color=p(i.tabLabelColor[e])}))},i}(u)).prototype,"TreeSprite",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=i(N.prototype,"TreeS1Label",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=i(N.prototype,"TreeS2Label",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=i(N.prototype,"mTreeSprite",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=i(N.prototype,"mTreeS1Label",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=i(N.prototype,"mTreeS2Label",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=i(N.prototype,"factionIcon",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=i(N.prototype,"skillIcon",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=i(N.prototype,"skillZoneIcon",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=i(N.prototype,"abilityIcon",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=i(N.prototype,"abilityZoneIcon",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=i(N.prototype,"DecorSprite",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=i(N.prototype,"selectNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=i(N.prototype,"placedNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ie=i(N.prototype,"baseRarity",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),te=i(N.prototype,"tabInfo",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ne=i(N.prototype,"tabLabel",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oe=i(N.prototype,"base",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=i(N.prototype,"diamond",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),re=i(N.prototype,"farmInventoryItemPet",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=N))||M));a._RF.pop()}}}));

System.register("chunks:///_virtual/FarmInventoryItemPet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IconInfo.ts","./ResourcesManager.ts"],(function(e){"use strict";var i,t,n,r,o,l,s,a,c,p,I,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,s=e.Node,a=e.Sprite,c=e.SpriteFrame,p=e.Component},function(e){I=e.IconInfo},function(e){u=e.ResourcesManager}],execute:function(){var h,m,k,f,S,v,y,b,Z,d,w,F,g,E,z,M,L,P,_;o._RF.push({},"70cd1pm2H5DcqNLGsYwkqFc","FarmInventoryItemPet",void 0);var R=l.ccclass,U=l.property;e("FarmInventoryItemPet",(h=R("FarmInventoryItemPet"),m=U(I),k=U(I),f=U(I),S=U(I),v=U(s),y=U(a),b=U(c),Z=U(a),h((F=i((w=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return i=e.call.apply(e,[this].concat(o))||this,n(i,"waterSkillIcon",F,r(i)),n(i,"crowSkillIcon",g,r(i)),n(i,"harvestSkillIcon",E,r(i)),n(i,"abilityIcon",z,r(i)),n(i,"skillZoneIcons",M,r(i)),n(i,"skillZoneIconSprite",L,r(i)),n(i,"skillZoneIconSpriteFrames",P,r(i)),n(i,"petSprite",_,r(i)),i.farmInventoryItem=void 0,i.data=void 0,i.config=void 0,i.isMouseEnter=!1,i}t(i,e);var o=i.prototype;return o.Init=function(e,i,t){var n=this;this.farmInventoryItem=e,this.data=i,this.config=t,this.petSprite.node.active=!1;if(u.Instance.LoadPet(t.name,(function(e){n.petSprite.spriteFrame=e,n.petSprite.node.active=!0})),this.skillZoneIcons.forEach((function(e){e.active=!1})),i.skillZone.length>6)this.skillZoneIcons[0].active=!0,this.skillZoneIconSprite.spriteFrame=this.skillZoneIconSpriteFrames[0];else{switch(i.skillZone.length){case 1:this.skillZoneIconSprite.spriteFrame=this.skillZoneIconSpriteFrames[1];break;case 3:this.skillZoneIconSprite.spriteFrame=this.skillZoneIconSpriteFrames[2];break;case 6:this.skillZoneIconSprite.spriteFrame=this.skillZoneIconSpriteFrames[3]}i.skillZone.forEach((function(e){n.skillZoneIcons[e].active=!0}))}this.waterSkillIcon.Init(null),this.crowSkillIcon.Init(null),this.harvestSkillIcon.Init(null),i.configs.skill.forEach((function(e){switch(e.skill){case"watering":n.waterSkillIcon.Init(n.waterSkillIcon.sprite.spriteFrame,e.description);break;case"chase_crow":n.crowSkillIcon.Init(n.crowSkillIcon.sprite.spriteFrame,e.description);break;case"harvest":n.harvestSkillIcon.Init(n.harvestSkillIcon.sprite.spriteFrame,e.description)}}));var r=100*i.configs.ability.rate+"% chance. "+i.configs.ability.description;this.abilityIcon.Init(this.abilityIcon.sprite.spriteFrame,r)},o.start=function(){this.skillZoneIconSprite.node.on(s.EventType.MOUSE_ENTER,this.mouseEnter,this),this.skillZoneIconSprite.node.on(s.EventType.MOUSE_LEAVE,this.mouseLeave,this)},o.mouseEnter=function(){this.isMouseEnter||(this.isMouseEnter=!0,this.farmInventoryItem.farmInventoryUI.petSkillZoneInfo.Show(this.data.skillZone,this.node,!1))},o.mouseLeave=function(){this.isMouseEnter&&(this.isMouseEnter=!1,this.farmInventoryItem.farmInventoryUI.petSkillZoneInfo.Hide())},o.onClickSkillZone=function(){this.farmInventoryItem.farmInventoryUI.petSkillZoneInfo.Show(this.data.skillZone,this.node,!0)},i}(p)).prototype,"waterSkillIcon",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=i(w.prototype,"crowSkillIcon",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=i(w.prototype,"harvestSkillIcon",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(w.prototype,"abilityIcon",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(w.prototype,"skillZoneIcons",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=i(w.prototype,"skillZoneIconSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=i(w.prototype,"skillZoneIconSpriteFrames",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=i(w.prototype,"petSprite",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=w))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/FarmInventoryUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FarmPage.ts","./FarmInventoryItem.ts","./ResHttp.ts","./ConfigApi.ts","./UIPopupManager.ts","./UserModel.ts","./PetSkillZoneInfo.ts"],(function(t){"use strict";var e,a,n,i,r,o,l,s,c,f,u,h,p,m,d,I,v,P,g,y,U;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,l=t.Widget,s=t.Node,c=t.ScrollView,f=t.Label,u=t.tween,h=t.instantiate,p=t.Component},function(t){m=t.FarmPage},function(t){d=t.FarmInventoryItem},function(t){I=t.ResHttp},function(t){v=t.ConfigApi},function(t){P=t.LoadingType,g=t.UIPopupManager},function(t){y=t.UserModel},function(t){U=t.PetSkillZoneInfo}],execute:function(){var A,S,b,F,L,D,_,T,C,q,R,w,E,k,N,G,M,z,Z,H,K,O,W,B,J;t("FarmInventoryType",void 0),r._RF.push({},"35cfc/FdIdCQau9n+pQ37/H","FarmInventoryUI",void 0);var Q,j=o.ccclass,x=o.property;t("FarmInventoryUI",(A=j("FarmInventoryUI"),S=x(l),b=x(s),F=x(c),L=x(s),D=x(s),_=x(m),T=x(s),C=x(U),q=x(f),R=x(f),w=x(s),A((N=e((k=function(t){function e(){for(var e,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,n(e,"panelWidget",N,i(e)),n(e,"ContentParent",G,i(e)),e.farmInventoryItems=[],n(e,"Content",M,i(e)),n(e,"NoAsset",z,i(e)),n(e,"FarmInventoryItemPrefab",Z,i(e)),n(e,"farmPage",H,i(e)),n(e,"FilterIndicator",K,i(e)),n(e,"petSkillZoneInfo",O,i(e)),n(e,"pet_current",W,i(e)),n(e,"pet_total",B,i(e)),n(e,"BG",J,i(e)),e.farmUI=void 0,e.plantSlot=void 0,e.farmInventoryType=Q.decor,e.isActive=!1,e.filters=null,e}a(e,t);var r=e.prototype;return r.Show=function(t,e,a){this.isActive=!0,t.HideAllPopup(this),this.filters=null,this.farmUI=t,this.plantSlot=e,this.farmInventoryType=a,this.node.active||(this.node.active=!0,u(this.panelWidget).to(.15,{right:0}).start()),this.farmPage.toPage(0),this.RequestLoadApply(),this.pet_current.node.parent.active=a==Q.pet,this.BG.active=this.pet_current.node.parent.active},r.UpdatePlantSlotSelect=function(t,e){this.plantSlot=t,this.farmInventoryType!=e?(this.farmInventoryType=e,this.farmPage.toPage(0),this.RequestLoadApply()):this.UpdateSelectItem()},r.Hide=function(){var t=this;this.node.active&&(this.isActive=!1,this.farmUI.onCloseSelect(),this.farmUI.ClearAllPlantSlotTempPlant(),u(this.panelWidget).to(.15,{right:-650}).call((function(){t.node.active=!1})).start())},r.OnSave=function(){this.farmInventoryType==Q.decor?this.saveDecor():this.farmInventoryType==Q.pet?this.savePet():this.savePlant(),this.Hide()},r.savePlant=function(){var t=this,e={slots:[]};this.farmUI.plantSlots.forEach((function(t){if(null!=t.tempData){var a={plantUniqueId:t.tempData.uniqueId,slotId:t._d._id};0==t.tempData.faction&&(a.selectFaction=t.tempSelectFaction),e.slots.push(a)}})),e.slots.length>0&&I.PostRequest(v.LINK_API+v.farms_growth_plant,e,(function(e){t.farmUI.UpdateData()}),(function(e){t.farmUI.UpdateData()}),!0,P.normal)},r.saveDecor=function(){for(var t=this,e=!1,a=0;a<this.farmUI.plantSlots.length;a++)if(this.farmUI.plantSlots[a]._d.ownerId==y.ownerId){e=!0;break}if(e){var n={slots:[],landId:y.currentLandData._id};this.farmUI.plantSlots.forEach((function(t){if(null!=t.tempData){var e={decorUniqueId:t.tempData.uniqueId,slotId:t._d._id};n.slots.push(e)}})),n.slots.length>0&&I.PostRequest(v.LINK_API+v.decorations_put,n,(function(e){t.farmUI.UpdateData()}),(function(e){t.farmUI.UpdateData()}),!0,P.normal)}else g.Instance.ShowPopupConfirmUI("Own a Planning slot to","place Decoration",null,null)},r.savePet=function(){var t=this;if(null!=this.farmUI.farmPet.PetData){var e={slots:[]},a=[];this.farmUI.farmPet.PetData.slots.forEach((function(t){null==t.petInfos&&a.push(t._id)}));var n=0;this.farmInventoryItems.forEach((function(t){if(t.node.active&&t.selectNode.active){var i={petUniqueId:t.data.uniqueId,slotId:a[n]};e.slots.push(i),n++}})),e.slots.length>0&&I.PostRequest(v.LINK_API+v.farm_put_pet,e,(function(e){t.farmUI.farmPet.UpdateData()}),(function(e){t.farmUI.farmPet.UpdateData()}),!0,P.normal)}},r.onFilter=function(){var t=this;this.farmInventoryType==Q.decor?g.Instance.ShowFarmPopupFilterDecorUI(function(e){t.filters=e,t.farmPage.toPage(0),t.RequestLoadApply()}.bind(this)):this.farmInventoryType==Q.pet?g.Instance.ShowFarmPopupFilterPetUI(function(e){t.filters=e,t.farmPage.toPage(0),t.RequestLoadApply()}.bind(this)):g.Instance.ShowFarmPopupFilterPlantUI(function(e){t.filters=e,t.farmPage.toPage(0),t.RequestLoadApply()}.bind(this))},r.RequestLoadApply=function(){for(var t=0;t<this.farmInventoryItems.length;t++)this.farmInventoryItems[t].node.active=!1;this.farmInventoryType==Q.decor?this.RequestLoadMyDecor():this.farmInventoryType==Q.pet?this.RequestLoadMyPet():this.RequestLoadMyPlants()},r.GetFarmInventoryItemPrefab=function(t){var e;t<this.farmInventoryItems.length?e=this.farmInventoryItems[t]:(e=h(this.FarmInventoryItemPrefab).getComponent(d),this.farmInventoryItems.push(e));return e.node.active=!0,e.node.setParent(this.ContentParent),e.node.setScale(1,1,1),e},r.RequestLoadMyPlants=function(){var t=this,e=this.farmInventoryType;this.farmPage.DisableControll();var a={offset:this.farmPage.currentPage*v.DEFAULT_PAGE,limit:v.DEFAULT_PAGE,type:e,status:0},n=this.filters,i=!1;null!=n&&(null!=n.origins&&n.origins.length>0&&(a.origins=n.origins,i=!0),null!=n.factions&&n.factions.length>0&&(a.factions=n.factions,i=!0),null!=n.rarities&&n.rarities.length>0&&(a.rarities=n.rarities,i=!0),null!=n.skillTiers&&n.skillTiers.length>0&&(a.skillTiers=n.skillTiers,i=!0),null!=n.skillZoneTiers&&n.skillZoneTiers.length>0&&(a.skillZoneTiers=n.skillZoneTiers,i=!0),null!=n.plantId&&n.plantId.length>0&&(a.plantId=n.plantId,i=!0)),this.FilterIndicator.active=i,I.GetRequest(v.LINK_API+v.plants_inventory,a,(function(a){t.LoadMyPlants(JSON.parse(a),e)}),null)},r.LoadMyPlants=function(t,e){var a=this;if(this.Content.stopAutoScroll(),this.Content.scrollToLeft(),null==t.data)this.Content.node.active=!1,this.farmPage.node.active=!1,this.UpdateSelectItem();else if(null!=t.total&&t.total>0&&this.farmPage.currentPage>0&&0==t.data.length)this.farmPage.ChangePage(-1),this.RequestLoadApply();else{this.Content.node.active=t.data.length>0;null!=t.total&&t.total>0?(this.farmPage.node.active=!0,this.farmPage.Init((function(){a.RequestLoadApply()}),t.total,v.DEFAULT_PAGE)):this.farmPage.node.active=!1;for(var n=0;n<t.data.length;n++){this.GetFarmInventoryItemPrefab(n).Init(t.data[n],this,n,e)}this.UpdateSelectItem()}this.NoAsset.active=!this.Content.node.active},r.RequestLoadMyDecor=function(){var t=this;this.farmPage.DisableControll();var e={offset:this.farmPage.currentPage*v.DEFAULT_PAGE,limit:v.DEFAULT_PAGE,status:0},a=this.filters,n=!1;null!=a&&null!=a.rarities&&a.rarities.length>0&&(e.rarities=a.rarities,n=!0),this.FilterIndicator.active=n,I.GetRequest(v.LINK_API+v.decorations_inventory,e,(function(e){t.LoadMyDecors(JSON.parse(e))}),null)},r.LoadMyDecors=function(t){var e=this;if(this.Content.stopAutoScroll(),this.Content.scrollToLeft(),null==t.data)this.Content.node.active=!1,this.farmPage.node.active=!1,this.UpdateSelectItem();else if(null!=t.total&&t.total>0&&this.farmPage.currentPage>0&&0==t.data.length)this.farmPage.ChangePage(-1),this.RequestLoadApply();else{this.Content.node.active=t.data.length>0;null!=t.total&&t.total>0?(this.farmPage.node.active=!0,this.farmPage.Init((function(){e.RequestLoadApply()}),t.total,v.DEFAULT_PAGE)):this.farmPage.node.active=!1;for(var a=0;a<t.data.length;a++){this.GetFarmInventoryItemPrefab(a).Init(t.data[a],this,a,this.farmInventoryType)}this.UpdateSelectItem()}this.NoAsset.active=!this.Content.node.active},r.RequestLoadMyPet=function(){var t=this;this.farmPage.DisableControll();var e={offset:this.farmPage.currentPage*v.DEFAULT_PAGE,limit:v.DEFAULT_PAGE,status:0},a=this.filters,n=!1;null!=a&&(null!=a.factions&&a.factions.length>0&&(e.factions=a.factions,n=!0),null!=a.rarities&&a.rarities.length>0&&(e.rarities=a.rarities,n=!0),null!=a.skill&&a.skill.length>0&&(e.skill=a.skill,n=!0),null!=a.skillZone&&a.skillZone.length>0&&(e.skillZone=a.skillZone,n=!0),null!=a.petId&&a.petId.length>0&&(e.petId=a.petId,n=!0)),this.FilterIndicator.active=n,I.GetRequest(v.LINK_API+v.farm_pet_inventory,e,(function(e){t.LoadMyPet(JSON.parse(e))}),null)},r.LoadMyPet=function(t){var e=this;if(this.Content.stopAutoScroll(),this.Content.scrollToLeft(),null==t.data)this.Content.node.active=!1,this.farmPage.node.active=!1,this.updatePetCurrent();else if(null!=t.total&&t.total>0&&this.farmPage.currentPage>0&&0==t.data.length)this.farmPage.ChangePage(-1),this.RequestLoadApply();else{this.Content.node.active=t.data.length>0;null!=t.total&&t.total>0?(this.farmPage.node.active=!0,this.farmPage.Init((function(){e.RequestLoadApply()}),t.total,v.DEFAULT_PAGE)):this.farmPage.node.active=!1;for(var a=0;a<t.data.length;a++){this.GetFarmInventoryItemPrefab(a).Init(t.data[a],this,a,this.farmInventoryType)}this.updatePetCurrent()}this.NoAsset.active=!this.Content.node.active},r.onFarmInventoryItemClick=function(t){var e=this;if(this.farmInventoryType==Q.pet){if(!t.selectNode.active&&this.pet_total.string==this.pet_current.string)return;return t.selectNode.active=!t.selectNode.active,void this.updatePetCurrent()}t.selectNode.active?this.plantSlot.ClearTempImage():(this.farmUI.plantSlots.forEach((function(e){null!=e.tempData&&e.tempData.uniqueId==t.data.uniqueId&&e.ClearTempImage()})),this.farmInventoryType==Q.decor?this.plantSlot.ShowDecorImage(t.config.name,t.data):(0==t.data.faction&&this.farmUI.ShowFarmSelectFaction((function(t){e.plantSlot.tempSelectFaction=t}),(function(){e.onFarmInventoryItemClick(t)}),t.node),this.plantSlot.ShowPlantSpine(t.config.name+(1==t.type?"1":""),t.data))),this.UpdateSelectItem()},r.UpdateSelectItem=function(){var t=this;this.farmInventoryItems.forEach((function(e){e.selectNode.active=null!=t.plantSlot.tempData&&e.data.uniqueId==t.plantSlot.tempData.uniqueId,e.CheckPlace()}))},r.updatePetCurrent=function(){if(null!=this.farmUI.farmPet.PetData){this.pet_total.string=this.farmUI.farmPet.PetData.slots.length;var t=0;this.farmUI.farmPet.PetData.slots.forEach((function(e){null!=e.petInfos&&t++})),this.farmInventoryItems.forEach((function(e){e.node.active&&e.selectNode.active&&t++})),this.pet_current.string=t.toString()}},e}(p)).prototype,"panelWidget",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(k.prototype,"ContentParent",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(k.prototype,"Content",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(k.prototype,"NoAsset",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e(k.prototype,"FarmInventoryItemPrefab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(k.prototype,"farmPage",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(k.prototype,"FilterIndicator",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(k.prototype,"petSkillZoneInfo",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=e(k.prototype,"pet_current",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(k.prototype,"pet_total",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(k.prototype,"BG",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=k))||E));!function(t){t[t.decor=0]="decor",t[t.plant=1]="plant",t[t.motherTree=2]="motherTree",t[t.pet=3]="pet"}(Q||(Q=t("FarmInventoryType",{}))),r._RF.pop()}}}));

System.register("chunks:///_virtual/FarmItemChatUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utility.ts"],(function(t){"use strict";var e,r,i,n,a,o,s,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,s=t.Label,l=t.Component},function(t){u=t.Utility}],execute:function(){var c,m,d,p,g,b,f,h,I;a._RF.push({},"0aac4oc/fBFqrVcDn6P9Bj2","FarmItemChatUI",void 0);var y=o.ccclass,x=o.property;t("FarmItemChatUI",(c=y("FarmItemChatUI"),m=x(s),d=x(s),p=x(s),c((f=e((b=function(t){function e(){for(var e,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"txtAddress",f,n(e)),i(e,"txtTime",h,n(e)),i(e,"txtContent",I,n(e)),e}return r(e,t),e.prototype.Init=function(t){if(this.txtAddress.string=u.reduceWallet(t.address),this.txtContent.string=t.msg,null!=t.time){var e=new Date(t.time);this.txtTime.string=u.AddZeroInNumber(e.getHours())+":"+u.AddZeroInNumber(e.getMinutes())}else{var r=new Date;this.txtTime.string=u.AddZeroInNumber(r.getHours())+":"+u.AddZeroInNumber(r.getMinutes())}},e}(l)).prototype,"txtAddress",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=e(b.prototype,"txtTime",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(b.prototype,"txtContent",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=b))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/FarmKingCrowRewardUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts","./Utility.ts"],(function(t){"use strict";var e,r,i,n,o,a,c,l,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Label},function(t){l=t.PopUpBase},function(t){s=t.Utility}],execute:function(){var p,u,w,h,d,f,y;o._RF.push({},"ea734zkXhVOZarQQaGt0A8J","FarmKingCrowRewardUI",void 0);var g=a.ccclass,m=a.property;t("FarmKingCrowRewardUI",(p=g("FarmKingCrowRewardUI"),u=m(c),w=m(c),p((f=e((d=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"txtNotice",f,n(e)),i(e,"txtReward",y,n(e)),e}r(e,t);var o=e.prototype;return o.Show=function(e,r){this.txtNotice.string="YOU HIT KING CROW "+e+"HP",this.txtReward.string=s.numberWithCommas(r),t.prototype.OnShow.call(this)},o.Hide=function(){t.prototype.OnHide.call(this)},e}(l)).prototype,"txtNotice",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(d.prototype,"txtReward",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=d))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/FarmPage.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,a,n,r,o,s,l,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,s=t.EditBox,l=t.Label,u=t.Button,c=t.Component}],execute:function(){var g,h,P,b,p,m,f,N,d,B,T;r._RF.push({},"2cc9etTJuVGDIiUQWoQI3XA","FarmPage",void 0);var A=o.ccclass,y=o.property;t("FarmPage",(g=A("FarmPage"),h=y(s),P=y(l),b=y(u),p=y(u),g((N=e((f=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,a(e,"NumLabel",N,n(e)),a(e,"NumTotalLabel",d,n(e)),a(e,"BtnBack",B,n(e)),a(e,"BtnNext",T,n(e)),e.currentPage=0,e.totalPage=1,e.goToPageAction=void 0,e}i(e,t);var r=e.prototype;return r.Init=function(t,e,i){this.goToPageAction=t,this.totalPage=Math.ceil(e/i),this.NumTotalLabel.string="/"+this.AddZeroToNumber(this.totalPage),this.toPage(this.currentPage),this.node.active=this.totalPage>1},r.OnButtonBackClick=function(){this.ChangePage(-1)},r.OnButtonNextClick=function(){this.ChangePage(1)},r.OnNumInputDone=function(){var t=this.NumLabel.string;if(""==t)this.NumLabel.string=this.AddZeroToNumber(this.currentPage+1);else{var e=parseInt(t);e<=0&&(e=1),e>this.totalPage&&(e=this.totalPage),this.currentPage!=e-1&&(this.currentPage=e-1,this.goToPageAction&&this.goToPageAction()),this.toPage(this.currentPage),this.NumLabel.string=this.AddZeroToNumber(e)}},r.ChangePage=function(t){0!=t&&(this.currentPage+t>0||this.currentPage+1+t<this.totalPage)&&(this.currentPage+=t,this.goToPageAction&&this.goToPageAction(),this.toPage(this.currentPage))},r.toPage=function(t){this.currentPage=t,this.NumLabel.string=this.AddZeroToNumber(this.currentPage+1),this.BtnBack.interactable=this.currentPage>0,this.BtnNext.interactable=this.currentPage+1<this.totalPage},r.DisableControll=function(){this.BtnBack.interactable=!1,this.BtnNext.interactable=!1},r.AddZeroToNumber=function(t){return t<10?"0"+t.toString():t.toString()},e}(c)).prototype,"NumLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=e(f.prototype,"NumTotalLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(f.prototype,"BtnBack",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(f.prototype,"BtnNext",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=f))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/FarmPet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FarmInventoryUI.ts","./FarmPetList.ts","./ResHttp.ts","./ConfigApi.ts","./UserModel.ts","./FarmPetFeed.ts","./EventSystem.ts","./Utility.ts","./FarmPetItem.ts"],(function(t){"use strict";var e,i,n,a,o,r,l,s,c,u,f,b,h,m,y,p,I,S,d,A;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,l=t.Node,s=t.Label,c=t.Sprite,u=t.Component},function(t){f=t.FarmInventoryType},function(t){b=t.FarmPetList},function(t){h=t.ResHttp},function(t){m=t.ConfigApi},function(t){y=t.UserModel},function(t){p=t.FarmPetFeed},function(t){I=t.GlobalEvents,S=t.EventType},function(t){d=t.Utility},function(t){A=t.FarmPetItem}],execute:function(){var L,v,P,F,T,E,g,w,B,D,U,C,k,z,_,M,N,G,O,R,H,x,V,j,q,J,K,Q,Z;t("FarmScene",void 0),o._RF.push({},"09213dMTVZEGIxTiQo0pbN6","FarmPet",void 0);var W,X=r.ccclass,Y=r.property;t("FarmPet",(L=X("FarmPet"),v=Y(l),P=Y(l),F=Y(b),T=Y(p),E=Y(s),g=Y(s),w=Y(s),B=Y(c),D=Y(l),U=Y(A),C=Y(l),k=Y(l),z=Y(l),L((N=e((M=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).farmUI=null,e.currentScene=W.Farm,n(e,"farmSceneNodes",N,a(e)),n(e,"petSceneNodes",G,a(e)),n(e,"farmPetList",O,a(e)),n(e,"farmPetFeed",R,a(e)),n(e,"totalStealLe",H,a(e)),n(e,"StealLeBlockTime",x,a(e)),e.totalStealLeCb=void 0,n(e,"abilityInfoLabel",V,a(e)),n(e,"abilityInfoButtonSprite",j,a(e)),n(e,"btnAddPetFirstTime",q,a(e)),n(e,"farmPetItems",J,a(e)),n(e,"AbilityIcon",K,a(e)),n(e,"AbilityInfo",Q,a(e)),n(e,"AbilityInfoBG",Z,a(e)),e.isMouseEnterAbilityIcon=!1,e.isFarmScene=!0,e.PetData=null,e}i(e,t);var o=e.prototype;return o.start=function(){this.AbilityIcon.on(l.EventType.MOUSE_ENTER,this.mouseEnter,this),this.AbilityIcon.on(l.EventType.MOUSE_LEAVE,this.mouseLeave,this),this.UpdateData()},o.onEnable=function(){this.totalStealLeCb=I.subscribe(S.TOTALSTEALLE_INFO_UPDATED,this.onChangeTotalStealLE.bind(this)),this.onChangeTotalStealLE(y.TotalStealLe)},o.onDisable=function(){I.unsubscribe(S.TOTALSTEALLE_INFO_UPDATED,this.totalStealLeCb)},o.Init=function(t){this.farmUI=t,this.switchScene(W.Farm)},o.update=function(t){y.stealFailLatestTime>y.serverTime?(this.StealLeBlockTime.node.active||(this.StealLeBlockTime.node.active=!0),this.StealLeBlockTime.string=d.SecondsToTime_ver2((y.stealFailLatestTime-y.serverTime)/1e3)):this.StealLeBlockTime.node.active&&(this.StealLeBlockTime.node.active=!1),this.sortPetLayer()},o.BtnPetSceneClick=function(){this.switchScene(W.Pet)},o.BtnFarmSceneClick=function(){this.switchScene(W.Farm)},o.BtnAddPetClick=function(){this.farmUI.farmInventoryUI.Show(this.farmUI,null,f.pet)},o.BtnPetListClick=function(){this.farmPetList.Show(this)},o.switchScene=function(t){var e=this;this.currentScene!=t&&(this.currentScene=t,this.isFarmScene=t==W.Farm,this.farmSceneNodes.forEach((function(t){t.active=e.isFarmScene})),this.petSceneNodes.forEach((function(t){t.active=!e.isFarmScene})))},o.UpdateData=function(){var t=this,e={landId:y.currentLandData._id};h.GetRequest(m.LINK_API+m.farm_my_pet,e,(function(e){t.PetData=JSON.parse(e).data,t.fillData()}),null)},o.fillData=function(){var t=0;this.PetData.slots.forEach((function(e){null!=e.petInfos&&(t++,e.petInfos.configs.ability.rate)})),this.btnAddPetFirstTime.active=t<this.PetData.slots.length,this.abilityInfoLabel.string=Math.floor(100*this.PetData.stealAbility)+"%",this.farmUI.isStealAble=this.PetData.stealAbility>0,this.abilityInfoButtonSprite.grayscale=!this.farmUI.isStealAble,this.farmPetList.fillData(this)},o.ShowFarmPetFeed=function(t,e,i,n){this.farmPetFeed.Show(this,t,e,i,n)},o.onChangeTotalStealLE=function(t){this.totalStealLe.string=t},o.OnClickAbilityInfoShow=function(){this.AbilityInfoBG.active&&this.AbilityInfo.active?this.OnClickAbilityInfoHide():(this.AbilityInfoBG.active=!0,this.AbilityInfo.active=!0)},o.OnClickAbilityInfoHide=function(){this.AbilityInfo.active=!1,this.AbilityInfoBG.active=!1,this.isMouseEnterAbilityIcon=!1},o.mouseEnter=function(){this.isMouseEnterAbilityIcon||(this.isMouseEnterAbilityIcon=!0,this.AbilityInfoBG.active=!1,this.AbilityInfo.active=!0)},o.mouseLeave=function(){this.isMouseEnterAbilityIcon&&!this.AbilityInfoBG.active&&(this.isMouseEnterAbilityIcon=!1,this.AbilityInfo.active=!1)},o.sortPetLayer=function(){if(!this.isFarmScene){var t=[];this.farmPetItems.forEach((function(e){t.push(e)})),t.sort((function(t,e){return t.node.position.y-e.node.position.y}));for(var e=0;e<t.length;e++){t[e].node.setSiblingIndex(0)}}},o.onDestroy=function(){this.farmPetItems.forEach((function(t){t.StopAnim()}))},e}(u)).prototype,"farmSceneNodes",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=e(M.prototype,"petSceneNodes",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=e(M.prototype,"farmPetList",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(M.prototype,"farmPetFeed",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(M.prototype,"totalStealLe",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(M.prototype,"StealLeBlockTime",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(M.prototype,"abilityInfoLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(M.prototype,"abilityInfoButtonSprite",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(M.prototype,"btnAddPetFirstTime",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(M.prototype,"farmPetItems",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=e(M.prototype,"AbilityIcon",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(M.prototype,"AbilityInfo",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e(M.prototype,"AbilityInfoBG",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=M))||_));!function(t){t[t.Farm=0]="Farm",t[t.Pet=1]="Pet"}(W||(W=t("FarmScene",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/FarmPetFeed.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts","./UIInputAddSub.ts","./UserModel.ts","./UIPopupManager.ts","./UIToast.ts","./ResHttp.ts","./ConfigApi.ts"],(function(t){"use strict";var e,o,n,i,s,r,u,a,c,p,f,l,d,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator},function(t){u=t.PopUpBase},function(t){a=t.UIInputAddSub},function(t){c=t.UserModel},function(t){p=t.UIPopupManager},function(t){f=t.TypeNoticeToast,l=t.SubIconNoticeToast},function(t){d=t.ResHttp},function(t){h=t.ConfigApi}],execute:function(){var I,F,P,S,m;s._RF.push({},"bfdacjoP8dCC7pS1fXeH3F+","FarmPetFeed",void 0);var b=r.ccclass,U=r.property;t("FarmPetFeed",(I=b("FarmPetFeed"),F=U(a),I((m=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))||this).farmPet=void 0,n(e,"input",m,i(e)),e.slotID="",e.cb=null,e}o(e,t);var s=e.prototype;return s.Show=function(t,e,o,n,i){this.OnShow(),this.cb=i,this.farmPet=t,this.slotID=e,this.input.maxQuality=o-n,this.input.UpdateView()},s.Hide=function(){this.OnHide()},s.onShop=function(){p.Instance.ShowUIPopupShop(null,"pet")},s.onFeed=function(){var t=this;if(this.input.amountCur>c.LE)p.Instance.ShowToast("FAIL!","Not enough FOOD!",f.Error);else{var e={slotId:this.slotID,foodNumber:this.input.amountCur};d.PostRequest(h.LINK_API+h.farm_feed_pet,e,(function(e){var o=JSON.parse(e).data.foodNumber;c.PetFood-=o,p.Instance.ShowToast("SUCCESS!",o+"",f.Success,!0,l.PetFood),t.cb()}),(function(t){p.Instance.ShowToast("FAIL!","Not enough FOOD!",f.Error)})),this.Hide()}},e}(u)).prototype,"input",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=S))||P));s._RF.pop()}}}));

System.register("chunks:///_virtual/FarmPetItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourcesManager.ts","./UserModel.ts"],(function(e){"use strict";var t,i,n,o,s,a,r,l,c,d,p,u,h,m,f,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator,r=e.sp,l=e.Node,c=e.Tween,d=e.Vec3,p=e.randomRange,u=e.v3,h=e.tween,m=e.Component},function(e){f=e.ResourcesManager},function(e){y=e.UserModel}],execute:function(){var S,g,v,w,P,b,I,L,R,k,A;s._RF.push({},"95698mcklBGc7zouMVIZuOR","FarmPetItem",void 0);var C=a.ccclass,F=a.property;e("FarmPetItem",(S=C("FarmPetItem"),g=F({type:r.Skeleton}),v=F(l),w=F(l),P=F(l),S((L=t((I=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return t=e.call.apply(e,[this].concat(s))||this,n(t,"Spine",L,o(t)),n(t,"reward",R,o(t)),n(t,"food",k,o(t)),n(t,"myPet",A,o(t)),t.farmPetListItem=void 0,t.isSetCompleteListener=!1,t.CompleteListener=function(e){"click"==t.Spine.animation&&t.idle()},t}i(t,e);var s=t.prototype;return s.Init=function(e){var t=this;this.farmPetListItem=e;f.Instance.LoadPetSpines(this.farmPetListItem.config.name,function(e){t.node.active=!0,t.Spine.skeletonData=e,t.idle()}.bind(this)),this.food.active=0==e.data.useTimes,this.food.active?this.reward.active=!1:this.reward.active=e.data.point>=e.config.petPointReward||null!=e.data.rewardBox,this.myPet.active=e.data.petInfos.ownerId==y.ownerId,this.isSetCompleteListener||(this.isSetCompleteListener=!0,this.Spine.setCompleteListener(this.CompleteListener.bind(this)),this.node.setPosition(this.getRandomPos()))},s.Hide=function(){this.node.active=!1},s.onReward=function(){this.farmPetListItem.onOpenReward()},s.onFood=function(){this.farmPetListItem.onFeed()},s.onClick=function(){c.stopAllByTarget(this.node),this.Spine.setAnimation(0,"click",!1)},s.StopAnim=function(){c.stopAllByTarget(this.node)},s.walk=function(){var e=this;c.stopAllByTarget(this.node);var t=this.getRandomPos(),i=d.distance(t,this.node.position)/p(40,60);t.x<this.node.position.x?this.Spine.node.scale=u(-Math.abs(this.Spine.node.scale.x),this.Spine.node.scale.y,1):this.Spine.node.scale=u(Math.abs(this.Spine.node.scale.x),this.Spine.node.scale.y,1),this.Spine.setAnimation(0,"walk",!0),h(this.node).to(i,{position:t}).call((function(){e.idle()})).start()},s.idle=function(){var e=this;c.stopAllByTarget(this.node),p(0,2)>1?this.Spine.setAnimation(0,"idle",!0):this.Spine.setAnimation(0,"idle2",!0),h(this.node).to(p(0,8),{position:this.node.position}).call((function(){e.walk()})).start()},s.getRandomPos=function(){return u(p(-450,640),p(-355,240),0)},t}(m)).prototype,"Spine",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(I.prototype,"reward",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(I.prototype,"food",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(I.prototype,"myPet",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=I))||b));s._RF.pop()}}}));

System.register("chunks:///_virtual/FarmPetList.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts","./FarmPetListItem.ts"],(function(t){"use strict";var e,i,r,s,a,n,o,c,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){a=t.cclegacy,n=t._decorator,o=t.Node},function(t){c=t.PopUpBase},function(t){l=t.FarmPetListItem}],execute:function(){var f,u,p,m,h,P,L;a._RF.push({},"160f2+p7PRKj7rEdN91nL9w","FarmPetList",void 0);var v=n.ccclass,d=n.property;t("FarmPetList",(f=v("FarmPetList"),u=d(l),p=d(o),f((P=e((h=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return e=t.call.apply(t,[this].concat(a))||this,r(e,"farmPetListItems",P,s(e)),r(e,"noAsset",L,s(e)),e.farmPet=void 0,e}i(e,t);var a=e.prototype;return a.Show=function(t){this.OnShow(),this.farmPet=t,this.farmPet.UpdateData()},a.fillData=function(t){this.farmPet=t,this.noAsset.active=!0;for(var e=0;e<this.farmPet.PetData.slots.length;e++){var i=this.farmPet.PetData.slots[e];null!=i.petInfos&&(this.noAsset.active=!1),e<this.farmPetListItems.length&&this.farmPetListItems[e].Init(this,i,e)}},a.Hide=function(){this.OnHide()},e}(c)).prototype,"farmPetListItems",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=e(h.prototype,"noAsset",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=h))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/FarmPetListItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IconInfo.ts","./ResHttp.ts","./ConfigApi.ts","./UIPopupManager.ts","./ResourcesManager.ts","./ConfigGame.ts","./UserModel.ts"],(function(e){"use strict";var t,i,r,n,a,o,s,l,c,p,f,u,d,b,h,m,I,w,g,y,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Label,l=e.Sprite,c=e.SpriteFrame,p=e.Node,f=e.LabelOutline,u=e.color,d=e.Component},function(e){b=e.IconInfo},function(e){h=e.ResHttp},function(e){m=e.ConfigApi},function(e){I=e.UIPopupManager,w=e.LoadingType},function(e){g=e.ResourcesManager},function(e){y=e.ConfigGame},function(e){v=e.UserModel}],execute:function(){var F,S,L,P,R,k,z,U,x,_,C,E,T,D,O,A,M,B,N,G,H,Z,q,J,K,j,V,Y,Q,W,X,$,ee,te,ie,re,ne,ae,oe,se,le,ce,pe,fe,ue,de,be,he,me;a._RF.push({},"b8028JFVzBEkZ47d3LuZBs3","FarmPetListItem",void 0);var Ie=o.ccclass,we=o.property;e("FarmPetListItem",(F=Ie("FarmPetListItem"),S=we(s),L=we(l),P=we(l),R=we(c),k=we(p),z=we(b),U=we(b),x=we(s),_=we(b),C=we(s),E=we(p),T=we(l),D=we(c),O=we(s),A=we(f),M=we(l),B=we(c),N=we(l),G=we(c),H=we(s),Z=we(l),q=we(s),J=we(l),F((V=t((j=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"idLabel",V,n(t)),r(t,"iconSprite",Y,n(t)),r(t,"baseIconSprite",Q,n(t)),r(t,"baseIconSpriteFrames",W,n(t)),r(t,"otherPlayer",X,n(t)),r(t,"factionIconInfos",$,n(t)),r(t,"skillIconInfos",ee,n(t)),r(t,"skillLabels",te,n(t)),r(t,"abilityIconInfo",ie,n(t)),r(t,"abilityLabels",re,n(t)),r(t,"btnRemoves",ne,n(t)),r(t,"btnRewards",ae,n(t)),r(t,"rewardSpriteFrames",oe,n(t)),r(t,"ownerLabels",se,n(t)),t.ownerLabelColors=["#6D352A","#405764"],r(t,"ownerLabelOutlines",le,n(t)),t.ownerLabelOutlinesColors=["#885836","#496270"],r(t,"ownerSprite",ce,n(t)),r(t,"ownerSpriteFrames",pe,n(t)),r(t,"ownerRewardSprite",fe,n(t)),r(t,"ownerRewardSpriteFrames",ue,n(t)),r(t,"rewardLabel",de,n(t)),r(t,"rewardFillSprites",be,n(t)),r(t,"energyLabel",he,n(t)),r(t,"energyFillSprites",me,n(t)),t.data=void 0,t.farmPetList=void 0,t.config=null,t.boxType=0,t.index=0,t.farmPetItem=void 0,t}i(t,e);var a=t.prototype;return a.Init=function(e,t,i){var r=this;if(this.data=t,this.farmPetList=e,this.index=i,this.farmPetItem=e.farmPet.farmPetItems[i],null==t.petInfos)return this.node.active=!1,void this.farmPetItem.Hide();this.node.active=!0,this.config=e.farmPet.farmUI.GetConfigByPetIdId(t.petInfos.petId.toString(),!0),this.iconSprite.node.active=!1;g.Instance.LoadPet(this.config.name,(function(e){r.iconSprite.spriteFrame=e,r.iconSprite.node.active=!0})),this.baseIconSprite.spriteFrame=this.baseIconSpriteFrames[this.config.rarity],this.idLabel.string="#"+t.petInfos.petId,this.idLabel.color=0==this.config.rarity?u("#948572"):u("#FFFFFF"),this.factionIconInfos.forEach((function(e){e.Init(null)}));for(var n=function(e){var t=r.data.petInfos.skillZone[e];g.Instance.LoadFactionSprite(t,(function(i){r.factionIconInfos[e].Init(i,"Faction: "+y.FactionText[t],!0)}))},a=0;a<this.data.petInfos.skillZone.length;a++)n(a);this.skillIconInfos.forEach((function(e){e.node.parent.active=!1})),this.data.petInfos.configs.skill.forEach((function(e){switch(e.skill){case"watering":r.skillIconInfos[0].node.parent.active=!0,r.skillIconInfos[0].Init(r.skillIconInfos[0].sprite.spriteFrame,e.description),r.skillLabels[0].string=r.data.usedSkills.watering;break;case"harvest":r.skillIconInfos[1].node.parent.active=!0,r.skillIconInfos[1].Init(r.skillIconInfos[1].sprite.spriteFrame,e.description),r.skillLabels[1].string=r.data.usedSkills.harvest;break;case"chase_crow":r.skillIconInfos[2].node.parent.active=!0,r.skillIconInfos[2].Init(r.skillIconInfos[0].sprite.spriteFrame,e.description),r.skillLabels[2].string=r.data.usedSkills.chaseCrow}})),this.abilityIconInfo.Init(this.abilityIconInfo.sprite.spriteFrame,this.data.petInfos.configs.ability.description),this.abilityLabels[0].string=Math.round(100*this.data.petInfos.configs.ability.rate)+"%",this.abilityLabels[1].string=this.data.petInfos.configs.ability.description;var o=0;this.data.petInfos.ownerId==v.ownerId?(this.otherPlayer.active=!1,this.btnRemoves[0].active=!1,this.btnRemoves[1].active=!0):(o=1,this.otherPlayer.active=!0,this.btnRemoves[0].active=!0,this.btnRemoves[1].active=!1),this.ownerSprite.spriteFrame=this.ownerSpriteFrames[o],this.ownerRewardSprite.spriteFrame=this.ownerRewardSpriteFrames[o],this.ownerLabels.forEach((function(e){e.color=u(r.ownerLabelColors[o])})),this.ownerLabelOutlines.forEach((function(e){e.color=u(r.ownerLabelOutlinesColors[o])})),this.btnRewards[1].node.active=this.data.point>=this.config.petPointReward||null!=this.data.rewardBox,this.btnRewards[0].node.active=!this.btnRewards[1].node.active,this.btnRewards[1].node.active?(this.rewardFillSprites[0].node.active=!1,this.rewardFillSprites[1].node.active=!0,this.rewardLabel.string=this.config.petPointReward+"/"+this.config.petPointReward):(this.rewardFillSprites[0].node.active=!0,this.rewardFillSprites[1].node.active=!1,this.rewardFillSprites[0].fillRange=this.data.point/this.config.petPointReward,this.rewardLabel.string=this.data.point+"/"+this.config.petPointReward),null!=this.data.rewardBox&&(this.boxType=+this.data.rewardBox.slice(-1),this.btnRewards[1].spriteFrame=this.rewardSpriteFrames[this.boxType-1]),this.energyLabel.string=this.data.useTimes+"/"+this.config.maxEnergy,this.data.useTimes>=this.config.maxEnergy?(this.energyFillSprites[0].node.active=!1,this.energyFillSprites[1].node.active=!0):(this.energyFillSprites[0].node.active=!0,this.energyFillSprites[1].node.active=!1,this.energyFillSprites[0].fillRange=this.data.useTimes/this.config.maxEnergy),this.farmPetItem.Init(this)},a.onRemove=function(){var e=this;I.Instance.ShowPopupConfirmUI("Removing pet will reset all","its current POINTS and ENERGY",function(){var t={slotId:e.data._id};h.PostRequest(m.LINK_API+m.farm_remove_pet,t,(function(t){e.UpdateData()}),(function(t){e.UpdateData()}),!0,w.normal)}.bind(this),null)},a.onFeed=function(){this.farmPetList.farmPet.ShowFarmPetFeed(this.data._id,this.config.maxEnergy,this.data.useTimes,this.UpdateData.bind(this))},a.onOpenReward=function(){var e=this;if(this.data.petInfos.ownerId==v.ownerId){var t={slotId:this.data._id};h.PostRequest(m.LINK_API+m.farm_claim_reward_pet,t,(function(t){e.farmPetList.farmPet.farmUI.farmRewardUI.ShowAnim(e.boxType,e.farmPetList.farmPet.farmUI.GetFarmActionReward(JSON.parse(t).data)),e.UpdateData()}),(function(t){e.UpdateData()}),!0,w.normal)}else I.Instance.ShowToast("Error","Cannot claim other player's reward!",0)},a.UpdateData=function(){this.farmPetList.farmPet.UpdateData()},t}(d)).prototype,"idLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(j.prototype,"iconSprite",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(j.prototype,"baseIconSprite",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(j.prototype,"baseIconSpriteFrames",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=t(j.prototype,"otherPlayer",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(j.prototype,"factionIconInfos",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ee=t(j.prototype,"skillIconInfos",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),te=t(j.prototype,"skillLabels",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ie=t(j.prototype,"abilityIconInfo",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=t(j.prototype,"abilityLabels",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ne=t(j.prototype,"btnRemoves",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ae=t(j.prototype,"btnRewards",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oe=t(j.prototype,"rewardSpriteFrames",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),se=t(j.prototype,"ownerLabels",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),le=t(j.prototype,"ownerLabelOutlines",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ce=t(j.prototype,"ownerSprite",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=t(j.prototype,"ownerSpriteFrames",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),fe=t(j.prototype,"ownerRewardSprite",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=t(j.prototype,"ownerRewardSpriteFrames",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),de=t(j.prototype,"rewardLabel",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=t(j.prototype,"rewardFillSprites",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),he=t(j.prototype,"energyLabel",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=t(j.prototype,"energyFillSprites",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=j))||K));a._RF.pop()}}}));

System.register("chunks:///_virtual/FarmPlantUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FarmUI.ts","./UserModel.ts","./ResHttp.ts","./ConfigApi.ts","./UIPopupManager.ts","./ResourcesManager.ts","./FarmDecorBuff.ts","./ConfigGame.ts","./Utility.ts","./IconInfo.ts"],(function(t){"use strict";var i,e,n,a,o,s,f,r,l,c,u,h,b,p,g,v,I,d,m,B,S,y,L,w,_;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,f=t.Widget,r=t.Sprite,l=t.Node,c=t.Label,u=t.SpriteFrame,h=t.color,b=t.tween,p=t.instantiate,g=t.Component},function(t){v=t.FarmUI},function(t){I=t.UserModel},function(t){d=t.ResHttp},function(t){m=t.ConfigApi},function(t){B=t.LoadingType},function(t){S=t.ResourcesManager},function(t){y=t.FarmDecorBuff},function(t){L=t.ConfigGame},function(t){w=t.Utility},function(t){_=t.IconInfo}],execute:function(){var T,k,P,A,z,U,M,C,D,R,F,E,O,Z,x,H,G,W,q,N,K,j,Y,J,Q,V,X,$,tt,it,et,nt,at,ot,st,ft,rt,lt,ct,ut,ht,bt,pt,gt,vt,It,dt,mt,Bt;o._RF.push({},"771afNSqtZPLqT0r7Yb3Kxz","FarmPlantUI",void 0);var St=s.ccclass,yt=s.property;t("FarmPlantUI",(T=St("FarmPlantUI"),k=yt(f),P=yt(r),A=yt(l),z=yt(l),U=yt(c),M=yt(c),C=yt(r),D=yt(u),R=yt(c),F=yt(c),E=yt(c),O=yt(c),Z=yt(c),x=yt(c),H=yt(c),G=yt(l),W=yt(_),q=yt(y),N=yt(l),K=yt(l),j=yt(c),Y=yt(l),J=yt(l),T((X=i((V=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return i=t.call.apply(t,[this].concat(o))||this,n(i,"panelWidget",X,a(i)),i.animTime=.15,n(i,"plantSprite",$,a(i)),n(i,"BtnRemove",tt,a(i)),n(i,"BtnRemoveGrey",it,a(i)),n(i,"timeLabel",et,a(i)),n(i,"removeTimeLabel",nt,a(i)),n(i,"raritySprite",at,a(i)),n(i,"baseRaritys",ot,a(i)),n(i,"ssBuffTitle",st,a(i)),n(i,"ssBuffvalue",ft,a(i)),n(i,"ssDeBuffTitle",rt,a(i)),n(i,"ssDeBuffvalue",lt,a(i)),n(i,"harvestTitle",ct,a(i)),n(i,"harvestLabel",ut,a(i)),n(i,"harvestBuffLabel",ht,a(i)),i.harvestBuffColor=["#00B674","#EA3737"],n(i,"harvestLEicon",bt,a(i)),n(i,"iconInfos",pt,a(i)),n(i,"farmDecorBuff",gt,a(i)),n(i,"ContentParent",vt,a(i)),i.iconInfoItems=[],n(i,"iconInfoItemPrefab",It,a(i)),n(i,"skillLabel",dt,a(i)),n(i,"buffArrows",mt,a(i)),n(i,"diamond",Bt,a(i)),i.buffOffset=void 0,i.buffContentMax=16,i.farmUI=void 0,i.plantSlot=void 0,i.isActive=!1,i._buffIn=[],i.totalBuffPage=0,i}e(i,t);var o=i.prototype;return o.Show=function(t,i){var e=this;if(this.isActive=!0,t.HideAllPopup(this),null!=i._d.plantInfos.uniqueId){this.farmUI=t,this.plantSlot=i,this.BtnRemove.active=i._d.ownerId==I.ownerId,this.BtnRemoveGrey.active=!this.BtnRemove.active,this.raritySprite.spriteFrame=this.baseRaritys[L.RarityText.findIndex((function(t){return t==i.config.plant.rarity}))],this.timeLabel.node.parent.active=!0,this.timeLabel.string=w.TimeToString_v1(i._d.harvestTime-I.serverTime),null!=I.farmWorldInfo.removePlantTime?this.removeTimeLabel.string=w.TimeToString_v1(i._d.removeStartTime+I.farmWorldInfo.removePlantTime-I.serverTime):this.removeTimeLabel.string=w.TimeToString_v1(i._d.removeStartTime+L.PlantRemoveTime-I.serverTime),this.ssBuffTitle.string=i.config.seasonSupport.season,this.ssDeBuffTitle.string=i.config.seasonSabotage.season,this.iconInfos[0].node.active=0==i.config.plant.faction,this.iconInfos[0].node.active=!1,S.Instance.LoadFactionSprite(i._d.plantInfos.faction,(function(t){e.iconInfos[1].Init(t,"Faction: "+L.FactionText[i._d.plantInfos.faction],!0,i._d.plantInfos.faction)})),this.plantSprite.node.active=!1;var n=function(t){e.plantSprite.spriteFrame=t,e.plantSprite.node.active=!0};if(2==i.config.plant.type)this.harvestTitle.string="Drop items when harvesting",this.harvestLEicon[0].active=!1,this.harvestLEicon[1].active=!1,this.harvestBuffLabel[0].node.active=!1,this.harvestBuffLabel[1].node.active=!1,this.harvestLabel[0].string=v.getMinMaxStage(i.config.mTreeAbility.stage1),this.harvestLabel[1].string=v.getMinMaxStage(i.config.mTreeAbility.stage2),this.ssBuffvalue[0].string="+ 0%",this.ssDeBuffvalue[0].string="- 0%",this.ssBuffvalue[1].string="",this.ssDeBuffvalue[1].string="",this.iconInfos[2].Init(S.Instance.LoadSkillSpriteMother(i.config.skill.skillId),i.config.skill.description),S.Instance.LoadSkillZoneSprite(i.config.skillZone.skillZoneId+"m",(function(t){e.iconInfos[3].Init(t,i.config.skillZone.description)})),this.initBuff(!1),this.buffArrows[0].active=!1,this.buffArrows[1].active=!1,S.Instance.LoadPlant(i.config.name,n),this.farmDecorBuff.Show(this.farmUI,I.currentLandData.decoStatus.effects,i);else{this.harvestTitle.string="LE Harvest",this.harvestLEicon[0].active=!0,this.harvestLEicon[1].active=!0,this.harvestBuffLabel[0].node.active=!0,this.harvestBuffLabel[1].node.active=!0;var a=i.GetLEBuff(),o="+";a>=0?(this.harvestBuffLabel[0].color=h(this.harvestBuffColor[0]),this.harvestBuffLabel[1].color=h(this.harvestBuffColor[0])):(this.harvestBuffLabel[0].color=h(this.harvestBuffColor[1]),this.harvestBuffLabel[1].color=h(this.harvestBuffColor[1]),o="");var s=i.config.plant.leStage[0]+i.config.plant_leStage_Extra;this.harvestBuffLabel[0].string=o+Math.floor(s*a),this.harvestLabel[0].string=s,s=i.config.plant.leStage[1]+i.config.plant_leStage_Extra,this.harvestBuffLabel[1].string=o+Math.floor(s*a),this.harvestLabel[1].string=s,this.ssBuffvalue[0].string="+ "+Math.floor(100*i.config.seasonSupport.value)+"%",this.ssBuffvalue[1].string="   + "+Math.floor(i.config.seasonSupport.value*i.ssSuportEffect*100)+"%",this.ssDeBuffvalue[1].string="- "+Math.floor(100*i.config.seasonSabotage.value)+"%",this.ssDeBuffvalue[0].string="   + "+Math.floor(i.config.seasonSabotage.value*i.ssSabotageEffect*100)+"%",this.iconInfos[2].Init(S.Instance.LoadSkillSprite(i.config.skill.skillId),i.config.skill.description),S.Instance.LoadSkillZoneSprite(i.config.skillZone.skillZoneId,(function(t){e.iconInfos[3].Init(t,i.config.skillZone.description)})),this.initBuff(!0),this.buffOffset=0,this.onBuffLeftClick(),1==i._d.stage?S.Instance.LoadPlantState1(i.config.name,n):S.Instance.LoadPlant(i.config.name,n),this.farmDecorBuff.Show(this.farmUI,I.currentLandData.decoStatus.effects,i)}switch(this.diamond[0].active=this.diamond[1].active=!1,i._d.plantInfos.origin){case"fused_second":this.diamond[0].active=!0,this.diamond[1].active=!0;break;case"fused":this.diamond[0].active=!0}null==i.config.ability?this.iconInfos[4].Init(null):this.iconInfos[4].Init(S.Instance.LoadAbilitySprite(i.config.ability.abilityId),i.config.ability.description),null==i.config.abilityZone?this.iconInfos[5].Init(null):S.Instance.LoadAbilityZoneSprite(i.config.abilityZone.abilityZoneId,(function(t){e.iconInfos[5].Init(t,i.config.abilityZone.description)})),this.node.active||(this.node.active=!0,b(this.panelWidget).to(this.animTime,{right:0}).start())}else this.Hide()},o.Socket_onSlotUpdateCallback=function(t){this.isActive&&t==this.plantSlot&&this.Show(this.farmUI,this.plantSlot)},o.Hide=function(){var t=this;this.isActive&&(this.isActive=!1,this.farmUI.onCloseSelect(),this.plantSlot&&this.plantSlot.HighlightBuffAffect(!1),b(this.panelWidget).to(this.animTime,{right:-650}).call((function(){t.node.active=!1})).start())},o.OnBtnRemove=function(){var t=this,i={slots:[{slotId:this.plantSlot._d._id}]};d.PostRequest(m.LINK_API+m.farms_growth_plant,i,(function(i){t.farmUI.UpdateData()}),(function(i){t.farmUI.UpdateData()}),!0,B.normal),this.Hide()},o.initBuff=function(t){var i=this;if(t)this._buffIn=[],this.plantSlot.buffIn.forEach((function(t){if(t.isActiveSkill()){var e={id:t.config.skill.skillId,description:t.config.skill.description,type:1};i._buffIn.push(e)}})),this.plantSlot._d.currentEffects.forEach((function(t){if("2"==t.plantUniqueId.toString().slice(0,1)){var e={id:t.skillId,description:L.MotherTreeBuff[t.skillId].description,type:2};i._buffIn.push(e)}})),this.plantSlot.abilityBuffIn.forEach((function(t){if(t==i.plantSlot||t.isActiveSkill()){var e={id:t.config.ability.abilityId,description:t.config.ability.description,type:3};i._buffIn.push(e)}})),this.skillLabel.string="BUFF : "+this._buffIn.length,this.totalBuffPage=Math.ceil(this._buffIn.length/this.buffContentMax),0==this.totalBuffPage&&(this.totalBuffPage=1);else{for(var e=0;e<this.iconInfoItems.length;e++)this.iconInfoItems[e].node.active=!1;this.skillLabel.string="BUFF : 0"}},o.onBuffLeftClick=function(){this.buffOffset-=1,this.buffOffset<0&&(this.buffOffset=0),this.buffArrows[0].active=this.buffOffset>0,this.buffArrows[1].active=this.buffOffset<this.totalBuffPage-1,this.showIconBuff()},o.onBuffRightClick=function(){this.buffOffset+=1,this.buffOffset>=this.totalBuffPage&&(this.buffOffset=this.totalBuffPage-1),this.buffArrows[0].active=this.buffOffset>0,this.buffArrows[1].active=this.buffOffset<this.totalBuffPage-1,this.showIconBuff()},o.showIconBuff=function(){for(var t=0;t<this.iconInfoItems.length;t++)this.iconInfoItems[t].node.active=!1;for(var i=this.buffOffset*this.buffContentMax;i<(this.buffOffset+1)*this.buffContentMax;i++)if(i<this._buffIn.length){var e=this.GetIconInfoItemPrefab(i);switch(this._buffIn[i].type){case 1:e.Init(S.Instance.LoadSkillSprite(this._buffIn[i].id),this._buffIn[i].description);break;case 2:e.Init(S.Instance.LoadSkillSpriteMother(this._buffIn[i].id),this._buffIn[i].description);break;case 3:e.Init(S.Instance.LoadAbilitySprite(this._buffIn[i].id),this._buffIn[i].description)}}},o.GetIconInfoItemPrefab=function(t){var i;t<this.iconInfoItems.length?i=this.iconInfoItems[t]:(i=p(this.iconInfoItemPrefab).getComponent(_),this.iconInfoItems.push(i));return i.node.active=!0,i.node.setScale(.588,.588,.588),i.node.setParent(this.ContentParent),i},i}(g)).prototype,"panelWidget",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=i(V.prototype,"plantSprite",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=i(V.prototype,"BtnRemove",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=i(V.prototype,"BtnRemoveGrey",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=i(V.prototype,"timeLabel",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=i(V.prototype,"removeTimeLabel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=i(V.prototype,"raritySprite",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=i(V.prototype,"baseRaritys",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),st=i(V.prototype,"ssBuffTitle",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft=i(V.prototype,"ssBuffvalue",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),rt=i(V.prototype,"ssDeBuffTitle",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=i(V.prototype,"ssDeBuffvalue",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ct=i(V.prototype,"harvestTitle",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=i(V.prototype,"harvestLabel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ht=i(V.prototype,"harvestBuffLabel",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),bt=i(V.prototype,"harvestLEicon",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pt=i(V.prototype,"iconInfos",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),gt=i(V.prototype,"farmDecorBuff",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vt=i(V.prototype,"ContentParent",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),It=i(V.prototype,"iconInfoItemPrefab",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt=i(V.prototype,"skillLabel",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt=i(V.prototype,"buffArrows",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Bt=i(V.prototype,"diamond",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=V))||Q));o._RF.pop()}}}));

System.register("chunks:///_virtual/FarmPopupFilterDecorUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts","./ButtonToggle.ts"],(function(t){"use strict";var i,e,r,n,o,a,s,l,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Label},function(t){l=t.PopUpBase},function(t){u=t.ButtonToggle}],execute:function(){var c,p,h,f,b,R,d;o._RF.push({},"210089k+LJGNJz17TheuI87","FarmPopupFilterDecorUI",void 0);var g=a.ccclass,v=a.property;t("FarmPopupFilterDecorUI",(c=g("FarmPopupFilterDecorUI"),p=v(s),h=v([u]),c((R=i((b=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,r(i,"txtTitle",R,n(i)),r(i,"buttonRarities",d,n(i)),i.callbackApply=null,i.isFirstShow=!0,i}e(i,t);var o=i.prototype;return o.Show=function(t){this.isFirstShow?this.isFirstShow=!1:this.UpdateTitle(),this.callbackApply=t,this.RegisterEvent(),this.OnShow()},o.RegisterEvent=function(){for(var t=0;t<this.buttonRarities.length;t++)this.buttonRarities[t].AddCallBack(this.UpdateTitle.bind(this))},o.UpdateTitle=function(){var t=this.GetTotalFilter();this.txtTitle.string=t<=0?"DECORATION FILTER":"DECORATION FILTER ("+t+")"},o.GetTotalFilter=function(){for(var t=0,i=0;i<this.buttonRarities.length;i++)1==this.buttonRarities[i].border.active&&t++;return t},o.Hide=function(){this.OnHide()},o.SetCallbackHide=function(t){},o.OnBtnClear=function(){for(var t=0;t<this.buttonRarities.length;t++)this.buttonRarities[t].Clear()},o.GetRarities=function(){for(var t=[],i=0;i<this.buttonRarities.length;i++)1==this.buttonRarities[i].border.active&&(0==i?t.push("common"):1==i?t.push("rare"):2==i?t.push("epic"):3==i?t.push("legendary"):4==i&&t.push("mythic"));return t},o.OnBtnApply=function(){var t={};t.rarities=this.GetRarities(),null!=this.callbackApply&&this.callbackApply(t),this.Hide()},i}(l)).prototype,"txtTitle",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=i(b.prototype,"buttonRarities",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=b))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/FarmPopupFilterPetUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts","./ButtonToggle.ts"],(function(t){"use strict";var i,e,n,r,o,l,s,a,u,h;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,s=t.EditBox,a=t.Label},function(t){u=t.PopUpBase},function(t){h=t.ButtonToggle}],execute:function(){var c,b,p,f,d,T,g,k,S,F,v,y,P,R,B;o._RF.push({},"cdbc8KOeoRLn5piM126iHIT","FarmPopupFilterPetUI",void 0);var I=l.ccclass,m=l.property;t("FarmPopupFilterPetUI",(c=I("FarmPopupFilterPetUI"),b=m(s),p=m(a),f=m([h]),d=m([h]),T=m([h]),g=m([h]),c((F=i((S=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),l=0;l<e;l++)o[l]=arguments[l];return i=t.call.apply(t,[this].concat(o))||this,n(i,"editBoxPlantID",F,r(i)),n(i,"txtTitle",v,r(i)),n(i,"buttonFactions",y,r(i)),n(i,"buttonRarities",P,r(i)),n(i,"buttonSkillTiers",R,r(i)),n(i,"buttonSkillZoneTiers",B,r(i)),i.callbackApply=null,i.isFirstShow=!0,i}e(i,t);var o=i.prototype;return o.Show=function(t){this.isFirstShow?this.isFirstShow=!1:this.UpdateTitle(),this.callbackApply=t,this.RegisterEvent(),this.OnShow()},o.RegisterEvent=function(){for(var t=0;t<this.buttonFactions.length;t++)this.buttonFactions[t].AddCallBack(this.UpdateTitle.bind(this));for(t=0;t<this.buttonRarities.length;t++)this.buttonRarities[t].AddCallBack(this.UpdateTitle.bind(this));for(t=0;t<this.buttonSkillTiers.length;t++)this.buttonSkillTiers[t].AddCallBack(this.UpdateTitle.bind(this));for(t=0;t<this.buttonSkillZoneTiers.length;t++)this.buttonSkillZoneTiers[t].AddCallBack(this.UpdateTitle.bind(this))},o.UpdateTitle=function(){var t=this.GetTotalFilter();this.txtTitle.string=t<=0?"PET FILTER":"PET FILTER ("+t+")"},o.GetTotalFilter=function(){for(var t=0,i=0;i<this.buttonFactions.length;i++)1==this.buttonFactions[i].border.active&&t++;for(i=0;i<this.buttonRarities.length;i++)1==this.buttonRarities[i].border.active&&t++;for(i=0;i<this.buttonSkillTiers.length;i++)1==this.buttonSkillTiers[i].border.active&&t++;for(i=0;i<this.buttonSkillZoneTiers.length;i++)1==this.buttonSkillZoneTiers[i].border.active&&t++;return t},o.Hide=function(){this.OnHide()},o.SetCallbackHide=function(t){},o.OnBtnClear=function(){for(var t=0;t<this.buttonFactions.length;t++)this.buttonFactions[t].Clear();for(t=0;t<this.buttonRarities.length;t++)this.buttonRarities[t].Clear();for(t=0;t<this.buttonSkillTiers.length;t++)this.buttonSkillTiers[t].Clear();for(t=0;t<this.buttonSkillZoneTiers.length;t++)this.buttonSkillZoneTiers[t].Clear();this.editBoxPlantID.string=""},o.GetFactions=function(){for(var t=[],i=0;i<this.buttonFactions.length;i++)1==this.buttonFactions[i].border.active&&t.push(i+1);return t},o.GetRarities=function(){for(var t=[],i=0;i<this.buttonRarities.length;i++)1==this.buttonRarities[i].border.active&&(0==i?t.push("common"):1==i?t.push("rare"):2==i?t.push("epic"):3==i?t.push("legendary"):4==i&&t.push("mythic"));return t},o.GetSkillTiers=function(){for(var t=[],i=0;i<this.buttonSkillTiers.length;i++)1==this.buttonSkillTiers[i].border.active&&(0==i?t.push("watering"):1==i?t.push("harvest"):2==i&&t.push("chase_crow"));return t},o.GetSkillZoneTiers=function(){for(var t=[],i=0;i<this.buttonSkillZoneTiers.length;i++)1==this.buttonSkillZoneTiers[i].border.active&&(0==i?t.push("1"):1==i?t.push("3"):2==i?t.push("6"):3==i&&t.push("9"));return t},o.GetPlantId=function(){return this.editBoxPlantID.string},o.OnBtnApply=function(){var t={};t.factions=this.GetFactions(),t.rarities=this.GetRarities(),t.skill=this.GetSkillTiers(),t.skillZone=this.GetSkillZoneTiers(),t.petId=this.GetPlantId(),null!=this.callbackApply&&this.callbackApply(t),this.Hide()},i}(u)).prototype,"editBoxPlantID",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(S.prototype,"txtTitle",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=i(S.prototype,"buttonFactions",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=i(S.prototype,"buttonRarities",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=i(S.prototype,"buttonSkillTiers",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=i(S.prototype,"buttonSkillZoneTiers",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=S))||k));o._RF.pop()}}}));

System.register("chunks:///_virtual/FarmPopupFilterPlantUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts","./ButtonToggle.ts"],(function(t){"use strict";var i,e,n,r,o,s,l,a,u,h;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,l=t.EditBox,a=t.Label},function(t){u=t.PopUpBase},function(t){h=t.ButtonToggle}],execute:function(){var c,b,p,f,d,g,T,k,S,v,F,y,P,O,R,m,B;o._RF.push({},"9f47eEUuOxDE69GZI4XSmc8","FarmPopupFilterPlantUI",void 0);var G=s.ccclass,I=s.property;t("FarmPopupFilterPlantUI",(c=G("FarmPopupFilterPlantUI"),b=I(l),p=I(a),f=I([h]),d=I([h]),g=I([h]),T=I([h]),k=I([h]),c((F=i((v=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return i=t.call.apply(t,[this].concat(o))||this,n(i,"editBoxPlantID",F,r(i)),n(i,"txtTitle",y,r(i)),n(i,"buttonOrigins",P,r(i)),n(i,"buttonFactions",O,r(i)),n(i,"buttonRarities",R,r(i)),n(i,"buttonSkillTiers",m,r(i)),n(i,"buttonSkillZoneTiers",B,r(i)),i.callbackApply=null,i.isFirstShow=!0,i}e(i,t);var o=i.prototype;return o.Show=function(t){this.isFirstShow?this.isFirstShow=!1:this.UpdateTitle(),this.callbackApply=t,this.RegisterEvent(),this.OnShow()},o.RegisterEvent=function(){for(var t=0;t<this.buttonOrigins.length;t++)this.buttonOrigins[t].AddCallBack(this.UpdateTitle.bind(this));for(t=0;t<this.buttonFactions.length;t++)this.buttonFactions[t].AddCallBack(this.UpdateTitle.bind(this));for(t=0;t<this.buttonRarities.length;t++)this.buttonRarities[t].AddCallBack(this.UpdateTitle.bind(this));for(t=0;t<this.buttonSkillTiers.length;t++)this.buttonSkillTiers[t].AddCallBack(this.UpdateTitle.bind(this));for(t=0;t<this.buttonSkillZoneTiers.length;t++)this.buttonSkillZoneTiers[t].AddCallBack(this.UpdateTitle.bind(this))},o.UpdateTitle=function(){var t=this.GetTotalFilter();this.txtTitle.string=t<=0?"PLANT FILTER":"PLANT FILTER ("+t+")"},o.GetTotalFilter=function(){for(var t=0,i=0;i<this.buttonOrigins.length;i++)1==this.buttonOrigins[i].border.active&&t++;for(i=0;i<this.buttonFactions.length;i++)1==this.buttonFactions[i].border.active&&t++;for(i=0;i<this.buttonRarities.length;i++)1==this.buttonRarities[i].border.active&&t++;for(i=0;i<this.buttonSkillTiers.length;i++)1==this.buttonSkillTiers[i].border.active&&t++;for(i=0;i<this.buttonSkillZoneTiers.length;i++)1==this.buttonSkillZoneTiers[i].border.active&&t++;return t},o.Hide=function(){this.OnHide()},o.SetCallbackHide=function(t){},o.OnBtnClear=function(){for(var t=0;t<this.buttonOrigins.length;t++)this.buttonOrigins[t].Clear();for(t=0;t<this.buttonFactions.length;t++)this.buttonFactions[t].Clear();for(t=0;t<this.buttonRarities.length;t++)this.buttonRarities[t].Clear();for(t=0;t<this.buttonSkillTiers.length;t++)this.buttonSkillTiers[t].Clear();for(t=0;t<this.buttonSkillZoneTiers.length;t++)this.buttonSkillZoneTiers[t].Clear();this.editBoxPlantID.string=""},o.GetOrigins=function(){var t=[];return 1==this.buttonOrigins[0].border.active&&t.push("normal"),1==this.buttonOrigins[1].border.active&&t.push("fused"),1==this.buttonOrigins[2].border.active&&t.push("fused_second"),t},o.GetFactions=function(){for(var t=[],i=0;i<this.buttonFactions.length;i++)1==this.buttonFactions[i].border.active&&t.push(i);return t},o.GetRarities=function(){for(var t=[],i=0;i<this.buttonRarities.length;i++)1==this.buttonRarities[i].border.active&&(0==i?t.push("common"):1==i?t.push("rare"):2==i?t.push("epic"):3==i?t.push("legendary"):4==i&&t.push("mythic"));return t},o.GetSkillTiers=function(){for(var t=[],i=0;i<this.buttonSkillTiers.length;i++)1==this.buttonSkillTiers[i].border.active&&(0==i?t.push("tier3"):1==i?t.push("tier2"):2==i&&t.push("tier1"));return t},o.GetSkillZoneTiers=function(){for(var t=[],i=0;i<this.buttonSkillZoneTiers.length;i++)1==this.buttonSkillZoneTiers[i].border.active&&(0==i?t.push("tier3"):1==i?t.push("tier2"):2==i&&t.push("tier1"));return t},o.GetPlantId=function(){return this.editBoxPlantID.string},o.OnBtnApply=function(){var t={};t.origins=this.GetOrigins(),t.factions=this.GetFactions(),t.rarities=this.GetRarities(),t.skillTiers=this.GetSkillTiers(),t.skillZoneTiers=this.GetSkillZoneTiers(),t.plantId=this.GetPlantId(),null!=this.callbackApply&&this.callbackApply(t),this.Hide()},i}(u)).prototype,"editBoxPlantID",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=i(v.prototype,"txtTitle",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(v.prototype,"buttonOrigins",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=i(v.prototype,"buttonFactions",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=i(v.prototype,"buttonRarities",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=i(v.prototype,"buttonSkillTiers",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=i(v.prototype,"buttonSkillZoneTiers",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=v))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/FarmRewardUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts","./FarmRewardUIItem.ts"],(function(t){"use strict";var i,e,a,n,o,r,s,c,p,h,l;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,s=t.sp,c=t.UIOpacity,p=t.tween},function(t){h=t.PopUpBase},function(t){l=t.FarmRewardUIItem}],execute:function(){var m,d,u,I,f,w,y,U,S,b,x;o._RF.push({},"ef01cNLvk1D/4Wz+Kkf2S+C","FarmRewardUI",void 0);var R=r.ccclass,O=r.property;t("FarmRewardUI",(m=R("FarmRewardUI"),d=O(l),u=O({type:s.Skeleton}),I=O(c),f=O(c),m((U=i((y=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return i=t.call.apply(t,[this].concat(o))||this,a(i,"farmRewardUIItem",U,n(i)),i.data=void 0,a(i,"boxSpine",S,n(i)),a(i,"animBoxUIOpacity",b,n(i)),a(i,"uiMainUIOpacity",x,n(i)),i.CompleteListener=function(t){"idle2"==i.boxSpine.animation?i.boxSpine.setAnimation(0,"idle",!0):"explosion"==i.boxSpine.animation&&(i.boxSpine.node.active=!1)},i}e(i,t);var o=i.prototype;return o.start=function(){this.boxSpine.setCompleteListener(this.CompleteListener)},o.ShowAnim=function(i,e){this.data=e,t.prototype.OnShow.call(this),this.uiMainUIOpacity.opacity=0,this.animBoxUIOpacity.node.active=!0,this.animBoxUIOpacity.opacity=255,this.boxSpine.node.active=!0,this.boxSpine.setSkin("prize"+i),this.boxSpine.setAnimation(0,"idle2",!1)},o.Show=function(i){this.data=i,t.prototype.OnShow.call(this,this.onShowDone.bind(this)),this.uiMainUIOpacity.opacity=255,this.animBoxUIOpacity.node.active=!1,this.boxSpine.node.active=!1},o.onShowDone=function(){this.farmRewardUIItem[0].Show(this.data.le),this.farmRewardUIItem[1].Show(this.data.seed),this.farmRewardUIItem[2].Show(this.data.ticket),this.farmRewardUIItem[3].Show(this.data.water),this.farmRewardUIItem[4].Show(this.data.chase_crow),this.farmRewardUIItem[5].Show(this.data.decor),this.farmRewardUIItem[6].Show(this.data.egg)},o.Hide=function(){this.farmRewardUIItem.forEach((function(t){t.Hide()})),t.prototype.OnHide.call(this)},o.OpenBox=function(){var t=this;this.boxSpine.setAnimation(0,"explosion",!1),p(this.animBoxUIOpacity).to(.15,{opacity:0}).call((function(){t.animBoxUIOpacity.node.active=!1})).start(),p(this.uiMainUIOpacity).delay(.6).to(.15,{opacity:255}).call((function(){t.onShowDone()})).start()},i}(h)).prototype,"farmRewardUIItem",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=i(y.prototype,"boxSpine",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=i(y.prototype,"animBoxUIOpacity",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(y.prototype,"uiMainUIOpacity",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=y))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/FarmRewardUIItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,a,n,o,s,l,c,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,s=e.Node,l=e.Label,c=e.tween,u=e.v3,p=e.Component}],execute:function(){var m,d,h,b,f,v,w;n._RF.push({},"a6a1c06aklEALEwjrl3UiS3","FarmRewardUIItem",void 0);var y=o.ccclass,g=o.property;e("FarmRewardUIItem",(m=y("FarmRewardUIItem"),d=g(s),h=g(l),m((v=t((f=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,i(t,"baseSprite",v,a(t)),i(t,"amount",w,a(t)),t}r(t,e);var n=t.prototype;return n.Show=function(e){null==e||e<=0?this.Hide():(this.node.active=!0,this.amount.string=e.toString(),this.baseSprite.setScale(.5,.5,.5),c(this.baseSprite).to(.3,{scale:u(1,1,1)},{easing:"backOut"}).start())},n.Hide=function(){this.node.active=!1},t}(p)).prototype,"baseSprite",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(f.prototype,"amount",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=f))||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/FarmSelectFaction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts"],(function(e){"use strict";var o,t,i,n,r,s,l,a,c;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,l=e.Toggle,a=e.Node},function(e){c=e.PopUpBase}],execute:function(){var u,p,f,h,d,g,y;r._RF.push({},"42764yHnXNAGJSXclQqxWcJ","FarmSelectFaction",void 0);var b=s.ccclass,m=s.property;e("FarmSelectFaction",(u=b("FarmSelectFaction"),p=m(l),f=m(a),u((g=o((d=function(e){function o(){for(var o,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return o=e.call.apply(e,[this].concat(r))||this,i(o,"toggles",g,n(o)),i(o,"baseNode",y,n(o)),o._onConfirm=void 0,o._onClose=void 0,o}t(o,e);var r=o.prototype;return r.Show=function(o,t,i){e.prototype.OnShow.call(this),this._onConfirm=o,this._onClose=t,this.baseNode.worldPosition=i.worldPosition},r.Hide=function(){e.prototype.OnHide.call(this)},r.onHide=function(){this._onClose(),this.Hide()},r.onConfirm=function(){for(var e=1,o=0;o<this.toggles.length;o++)if(this.toggles[o].isChecked){e=o+1;break}this._onConfirm(e),this.Hide()},o}(c)).prototype,"toggles",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=o(d.prototype,"baseNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=d))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/FarmSynergyUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FarmDecorBuff.ts","./UserModel.ts","./ConfigGame.ts"],(function(t){"use strict";var e,i,r,s,n,o,a,l,c,h,f,u,y,p,d,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){n=t.cclegacy,o=t._decorator,a=t.Widget,l=t.Node,c=t.Label,h=t.Sprite,f=t.color,u=t.tween,y=t.Component},function(t){p=t.FarmDecorBuff},function(t){d=t.UserModel},function(t){g=t.ConfigGame}],execute:function(){var v,m,S,b,k,P,B,I,F;n._RF.push({},"dc75eoXQR1A2Lrs47KRvA30","FarmSynergyUI",void 0);var U=o.ccclass,D=o.property;t("FarmSynergyUI",(v=U("FarmSynergyUI"),m=D(a),S=D(p),b=D(l),v((B=e((P=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,r(e,"panelWidget",B,s(e)),r(e,"farmDecorBuff",I,s(e)),r(e,"sysParrent",F,s(e)),e.farmUI=void 0,e.isFirstInit=!0,e.sysLabels=[],e.sysStroke=[],e.isActive=!1,e}i(e,t);var n=e.prototype;return n.Show=function(t){if(this.isActive=!0,t.HideAllPopup(this),this.isFirstInit){this.isFirstInit=!1;for(var e=0;e<this.sysParrent.children.length;e++){var i=this.sysParrent.children[e];this.sysLabels.push(i.children[1].getComponent(c)),this.sysStroke.push(i.children[0].getComponent(h))}}this.farmUI=t,this.farmDecorBuff.Show(t,d.currentLandData.decoStatus.effects,null);for(var r=0;r<this.sysLabels.length;r++)for(var s=t.buffSynergyData.data[(r+1).toString()],n=0;n<g.synBreakPoint.length;n++)if(s>=g.synBreakPoint[n]){this.sysLabels[r].string=0==n?s+" / "+g.synBreakPoint[n]:s+" / "+g.synBreakPoint[n-1],this.sysLabels[r].color=f(g.sysBreakPointColor[n]),n==g.synBreakPoint.length-1?this.sysStroke[r].node.active=!1:(this.sysStroke[r].node.active=!0,this.sysStroke[r].color=f(g.sysBreakPointColor[n]));break}this.node.active||(this.node.active=!0,u(this.panelWidget).to(.15,{right:0}).start())},n.Socket_onSlotUpdateCallback=function(){this.isActive&&this.Show(this.farmUI)},n.Hide=function(){var t=this;this.isActive&&(this.isActive=!1,this.farmUI.onCloseSelect(),u(this.panelWidget).to(.15,{right:-450}).call((function(){t.node.active=!1})).start())},e}(y)).prototype,"panelWidget",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(P.prototype,"farmDecorBuff",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(P.prototype,"sysParrent",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=P))||k));n._RF.pop()}}}));

System.register("chunks:///_virtual/FarmToastSpeakerUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts"],(function(t){"use strict";var e,i,s,n,r,a,o,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,o=t.Label},function(t){c=t.PopUpBase}],execute:function(){var l,h,u,p,g,f,d;r._RF.push({},"86e3eCNBU5MO4jlIrysanEw","FarmToastSpeakerUI",void 0);var M=a.ccclass,S=a.property;t("FarmToastSpeakerUI",(l=M("FarmToastSpeakerUI"),h=S(o),u=S(o),l((f=e((g=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,s(e,"txtUsername",f,n(e)),s(e,"txtMsg",d,n(e)),e.isShowing=!1,e.cacheMsgList=null,e}i(e,t);var r=e.prototype;return r.AddMsg=function(t){null==this.cacheMsgList&&(this.cacheMsgList=[]),this.cacheMsgList.push(t),1!=this.isShowing&&this.Show()},r.Show=function(){this.isShowing=!0;var e=this.cacheMsgList[0];this.cacheMsgList.splice(0,1),this.txtUsername.string=e.address,this.txtMsg.string=e.msg.toString().replace(/\n/g," "),this.scheduleOnce(function(){this.Hide()}.bind(this),10),t.prototype.OnShow.call(this)},r.Hide=function(){var e=this;t.prototype.OnHide.call(this,(function(){e.isShowing=!1,null!=e.cacheMsgList&&0!=e.cacheMsgList.length&&e.Show()}))},e}(c)).prototype,"txtUsername",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=e(g.prototype,"txtMsg",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=g))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/FarmTransferLEItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utility.ts","./ConfigGame.ts","./UserModel.ts"],(function(t){"use strict";var e,i,n,r,o,a,s,c,l,u,d,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Label,c=t.EditBox,l=t.Component},function(t){u=t.Utility},function(t){d=t.ConfigGame},function(t){f=t.UserModel}],execute:function(){var L,m,h,p,E,b,g;o._RF.push({},"bc84bgdGbNLwrX47X3+3JUQ","FarmTransferLEItem",void 0);var y=a.ccclass,I=a.property;t("FarmTransferLEItem",(L=y("FarmTransferLEItem"),m=I(s),h=I(c),L((b=e((E=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"nameLabel",b,r(e)),n(e,"LeEditbox",g,r(e)),e.userID=void 0,e._farmUI=void 0,e}i(e,t);var o=e.prototype;return o.Init=function(t,e){this._farmUI=e,this.userID=t,this.nameLabel.string=u.reduceWallet(t),this.node.active=!0},o.onPlus=function(){this.AddLE(5)},o.onMinus=function(){this.AddLE(-5)},o.onEditBox=function(){this.AddLE(0)},o.onSend=function(){this._farmUI.Socket_TransferLE(this.userID,this.AddLE(0))},o.AddLE=function(t){var e=+this.LeEditbox.string;return e+=t,(e=Math.min(d.MAX_LE_TRANSFER,e,f.LE))<0&&(e=0),this.LeEditbox.string=e.toString(),e},e}(l)).prototype,"nameLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=e(E.prototype,"LeEditbox",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=E))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/FarmTransferLETab.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FarmTransferLEItem.ts","./ConfigGame.ts","./UserModel.ts"],(function(e){"use strict";var r,t,a,n,i,s,o,f,l,m,u,c,p;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,s=e._decorator,o=e.Label,f=e.Node,l=e.instantiate,m=e.Component},function(e){u=e.FarmTransferLEItem},function(e){c=e.ConfigGame},function(e){p=e.UserModel}],execute:function(){var L,b,T,h,I,E,d,g,v;i._RF.push({},"4660fuMvoFFSo08GDhInf7I","FarmTransferLETab",void 0);var y=s.ccclass,F=s.property;e("FarmTransferLETab",(L=y("FarmTransferLETab"),b=F(o),T=F(f),h=F(f),L((d=r((E=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i))||this,a(r,"NoteLabel",d,n(r)),a(r,"ContentParent",g,n(r)),r.farmTransferLEItems=[],a(r,"farmTransferLEItemPrefab",v,n(r)),r._farmUI=void 0,r}t(r,e);var i=r.prototype;return i.Init=function(e,r){this._farmUI=r,this.NoteLabel.string="*You can only transfer up to "+c.MAX_LE_TRANSFER+"LE/day";for(var t=0;t<this.farmTransferLEItems.length;t++)this.farmTransferLEItems[t].node.active=!1;for(var a=0,n=0;n<e.length;n++)e[n]!=p.ownerId&&(this.GetFarmTransferLEItemPrefab(a).Init(e[n],r),a++)},i.GetFarmTransferLEItemPrefab=function(e){var r;e<this.farmTransferLEItems.length?r=this.farmTransferLEItems[e]:(r=l(this.farmTransferLEItemPrefab).getComponent(u),this.farmTransferLEItems.push(r),r.node.setParent(this.ContentParent),r.node.setScale(1,1,1));return r},r}(m)).prototype,"NoteLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=r(E.prototype,"ContentParent",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=r(E.prototype,"farmTransferLEItemPrefab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=E))||I));i._RF.pop()}}}));

System.register("chunks:///_virtual/FarmUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlantSlot.ts","./UserModel.ts","./UIPopupManager.ts","./ConfigApi.ts","./FarmBiddingUI.ts","./UIFitWidthHelper.ts","./FarmInfoUI.ts","./ConfigGame.ts","./ResHttp.ts","./Utility.ts","./FarmInventoryUI.ts","./FarmPlantUI.ts","./FarmDecorUI.ts","./FarmSelectFaction.ts","./FarmSynergyUI.ts","./FarmRewardUI.ts","./PrefabController.ts","./FarmChatUI.ts","./EventSystem.ts","./SocketFarmHandler.ts","./FarmBannerUI.ts","./CrowKingManager.ts","./IconInfo.ts","./ResourcesManager.ts","./FarmPet.ts"],(function(t){"use strict";var n,e,a,i,o,r,l,c,s,f,u,h,d,p,m,I,b,S,g,y,v,C,_,U,w,k,P,F,B,A,L,D,N,T,H,E,R,z,G,K,M,W,O,x,V,q,X;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,l=t._decorator,c=t.Node,s=t.Label,f=t.SpriteFrame,u=t.Sprite,h=t.tween,d=t.v3,p=t.sys,m=t.instantiate,I=t.Component},function(t){b=t.PlantSlot},function(t){S=t.UserModel,g=t.FarmWorldState},function(t){y=t.UIPopupManager,v=t.LoadingType},function(t){C=t.ConfigApi},function(t){_=t.FarmBiddingUI},function(t){U=t.UIFitWidthHelper},function(t){w=t.FarmInfoUI},function(t){k=t.EnumPlantSlotStage,P=t.ConfigGame},function(t){F=t.ResHttp},function(t){B=t.Utility},function(t){A=t.FarmInventoryUI,L=t.FarmInventoryType},function(t){D=t.FarmPlantUI},function(t){N=t.FarmDecorUI},function(t){T=t.FarmSelectFaction},function(t){H=t.FarmSynergyUI},function(t){E=t.FarmRewardUI},function(t){R=t.PrefabController,z=t.PrefabEnum},function(t){G=t.FarmChatUI},function(t){K=t.GlobalEvents,M=t.EventType},function(t){W=t.SocketFarmHandler},function(t){O=t.FarmBannerUI},function(t){x=t.CrowKingManager},function(t){V=t.IconInfo},function(t){q=t.ResourcesManager},function(t){X=t.FarmPet}],execute:function(){var Z,J,Q,j,$,Y,tt,nt,et,at,it,ot,rt,lt,ct,st,ft,ut,ht,dt,pt,mt,It,bt,St,gt,yt,vt,Ct,_t,Ut,wt,kt,Pt,Ft,Bt,At,Lt,Dt,Nt,Tt,Ht,Et,Rt,zt,Gt,Kt,Mt,Wt,Ot,xt,Vt,qt,Xt,Zt,Jt,Qt,jt,$t,Yt,tn,nn,en,an,on,rn,ln;r._RF.push({},"eb0ab7t5Q5CHKnHSanXEoBT","FarmUI",void 0);var cn=l.ccclass,sn=l.property,fn=(t("FarmUI",(Z=cn("FarmUI"),J=sn(c),Q=sn(c),j=sn(U),$=sn(s),Y=sn(c),tt=sn(s),nt=sn(s),et=sn(s),at=sn(c),it=sn(c),ot=sn(c),rt=sn(c),lt=sn(f),ct=sn(f),st=sn(T),ft=sn(H),ut=sn(_),ht=sn(A),dt=sn(D),pt=sn(N),mt=sn(w),It=sn(E),bt=sn(G),St=sn(O),gt=sn(u),yt=sn(f),vt=sn(c),Ct=sn(c),_t=sn(c),Ut=sn(x),wt=sn(c),kt=sn(c),Z((Bt=n((Ft=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return n=t.call.apply(t,[this].concat(o))||this,a(n,"overlayUI",Bt,i(n)),a(n,"farmNode",At,i(n)),a(n,"plantslotScale",Lt,i(n)),a(n,"locationLabel",Dt,i(n)),a(n,"plantSlotParent",Nt,i(n)),n.plantSlots=[],n.currentPlantSlot=null,a(n,"rentAllLeLabel",Tt,i(n)),a(n,"playerBidingLabel",Ht,i(n)),a(n,"playerViewLabel",Et,i(n)),a(n,"WateringInfo",Rt,i(n)),a(n,"ScareCrowInfo",zt,i(n)),a(n,"BtnHarvestAll",Gt,i(n)),n.isShowBtnHarvestAll=!1,a(n,"LeIcon",Kt,i(n)),a(n,"plantSlotBaseSpriteFrames",Mt,i(n)),a(n,"plantSlotShadows",Wt,i(n)),a(n,"farmSelectFaction",Ot,i(n)),a(n,"farmSynergyUI",xt,i(n)),a(n,"farmBiddingUI",Vt,i(n)),a(n,"farmInventoryUI",qt,i(n)),a(n,"farmPlantUI",Xt,i(n)),a(n,"farmDecorUI",Zt,i(n)),a(n,"farmInfoUI",Jt,i(n)),a(n,"farmRewardUI",Qt,i(n)),a(n,"farmChatUI",jt,i(n)),a(n,"farmBannerUI",$t,i(n)),a(n,"FarmBG",Yt,i(n)),a(n,"FarmBGSpriteFrames",tn,i(n)),a(n,"FarmBGFX",nn,i(n)),a(n,"NavigateButtons",en,i(n)),a(n,"CrowDecor",an,i(n)),a(n,"m_crowKingManager",on,i(n)),n.m_haveCrowKing=!1,n._rentAllPrice=0,n._totalPlayerBid=0,n._isStealAble=!1,n._onFactionIconClick=void 0,n._onFactionIconUnClick=void 0,n._Socket_onSlotUpdateCallback=void 0,n._Socket_onChatCallback=void 0,n._Socket_onChangeLand=void 0,n._Socket_onChangeNumberViewer=void 0,n._Socket_onChatAllCallback=void 0,n._Socket_onConnectCallback=void 0,n.baseSynergyData=void 0,n.buffSynergyData=void 0,n.farmPet=null,a(n,"decorBuffIconPrefab",rn,i(n)),a(n,"decorBuffIconContent",ln,i(n)),n.decorBuffIconInfos=[],n}e(n,t);var r=n.prototype;return r.start=function(){this.farmPet=this.node.getComponent(X),this.farmPet.Init(this);for(var t=0;t<this.plantSlotParent.children.length;t++){var n=this.plantSlotParent.children[t].getComponent(b);this.plantSlots.push(n),n.Init(this,t)}this.plantslotScale.callbacks.push(this.updateFarmPos.bind(this)),this.farmInfoUI.Init(this.onWeatherTimeUpdate.bind(this)),this.fillData(),this._onFactionIconClick=K.subscribe(M.FACTION_ICON_CLICK,this.onFactionIconClick.bind(this)),this._onFactionIconUnClick=K.subscribe(M.FACTION_ICON_UNCLICK,this.onFactionIconUnClick.bind(this)),this._Socket_onSlotUpdateCallback=K.subscribe(M.Socket_onSlotUpdateCallback,this.Socket_onSlotUpdateCallback.bind(this)),this._Socket_onChatCallback=K.subscribe(M.Socket_onChatCallback,this.Socket_onChatCallback.bind(this)),this._Socket_onChangeLand=K.subscribe(M.Socket_onChangeLand,this.Socket_onChangeLand.bind(this)),this._Socket_onChangeNumberViewer=K.subscribe(M.Socket_onChangeNumberViewer,this.Socket_onChangeNumberViewer.bind(this)),this._Socket_onChatAllCallback=K.subscribe(M.Socket_onChatAllCallback,this.Socket_onChatAllCallback.bind(this)),this._Socket_onConnectCallback=K.subscribe(M.Socket_onConnectCallback,this.Socket_onConnectCallback.bind(this)),this.farmChatUI.ChangeLand(this),this.farmBannerUI.ShowAd()},r.onDestroy=function(){R.Instance.ReturnAllPrefab(),K.unsubscribe(M.FACTION_ICON_CLICK,this._onFactionIconClick),K.unsubscribe(M.FACTION_ICON_UNCLICK,this._onFactionIconUnClick),K.unsubscribe(M.Socket_onSlotUpdateCallback,this._Socket_onSlotUpdateCallback),K.unsubscribe(M.Socket_onChatCallback,this._Socket_onChatCallback),K.unsubscribe(M.Socket_onChangeLand,this._Socket_onChangeLand),K.unsubscribe(M.Socket_onChangeNumberViewer,this._Socket_onChangeNumberViewer),K.unsubscribe(M.Socket_onChatAllCallback,this._Socket_onChatAllCallback),K.unsubscribe(M.Socket_onConnectCallback,this._Socket_onConnectCallback),W.ChangeLand("")},r.onSelectPlantSlot=function(t){if(this.currentPlantSlot!=t){var n=this.isAllPopupHide();if(null!=t._d.decInfos){if(this.farmInventoryUI.node.active)return;this.farmDecorUI.Show(this,t)}else if(t.enumPlantSlotState==k.decor){if(this.farmInventoryUI.node.active&&this.farmInventoryUI.farmInventoryType!=L.decor)return;this.farmInventoryUI.node.active?this.farmInventoryUI.UpdatePlantSlotSelect(t,L.decor):this.farmInventoryUI.Show(this,t,L.decor)}else if(t.enumPlantSlotState==k.bidNow||t.enumPlantSlotState==k.bidding||t.enumPlantSlotState==k.bidnow_havebid||t.enumPlantSlotState==k.otherBidGreater){if(this.farmInventoryUI.node.active)return;this.farmBiddingUI.Show(this,t)}else{if(t.enumPlantSlotState==k.rentNow){if(this.farmInventoryUI.node.active)return;return void this.rentSlot(t)}if(null!=t._d.plantInfos.uniqueId){if(this.farmInventoryUI.node.active)return;this.farmPlantUI.Show(this,t),this.currentPlantSlot&&this.currentPlantSlot.HighlightBuffAffect(!1),t.HighlightBuffAffect(!0)}else{if(t.enumPlantSlotState!=k.land_your)return;if(this.farmInventoryUI.node.active&&(this.farmInventoryUI.farmInventoryType==L.decor||this.farmInventoryUI.farmInventoryType==L.pet))return;var e=t.isMotherTreeSlot?L.motherTree:L.plant;this.farmInventoryUI.node.active?this.farmInventoryUI.UpdatePlantSlotSelect(t,e):this.farmInventoryUI.Show(this,t,e)}}this.selectPlant(t),this.currentPlantSlot=t,n&&h(this.farmNode).to(.15,{position:d(-445*this.plantslotScale.node.scale.x,0,0)}).start()}},r.isAllPopupHide=function(){return!(this.farmInventoryUI.isActive||this.farmBiddingUI.isActive||this.farmDecorUI.isActive||this.farmPlantUI.isActive||this.farmSynergyUI.isActive)},r.HideAllPopup=function(t){t!=this.farmInventoryUI&&this.farmInventoryUI.Hide(),t!=this.farmBiddingUI&&this.farmBiddingUI.Hide(),t!=this.farmDecorUI&&this.farmDecorUI.Hide(),t!=this.farmPlantUI&&this.farmPlantUI.Hide(),t!=this.farmSynergyUI&&this.farmSynergyUI.Hide()},r.onCloseSelect=function(){this.selectPlant(null),this.currentPlantSlot=null,this.isAllPopupHide()&&h(this.farmNode).to(.15,{position:d(0,0,0)}).start()},r.selectPlant=function(t){this.plantSlots.forEach((function(t){t.Select(!1)})),t&&t.Select(!0)},r.ClearAllPlantSlotTempPlant=function(){this.plantSlots.forEach((function(t){t.ClearTempImage()}))},r.updateFarmPos=function(){this.isAllPopupHide()?this.farmNode.position=d(0,0,0):this.farmNode.position=d(-445*this.plantslotScale.node.scale.x,0,0)},r.onBtnPause=function(){y.Instance.ShowUISetting(this.onQuit)},r.onQuit=function(){y.Instance.LoadScene("2.WorldMap")},r.onBtnGuide=function(){p.openURL(C.WPP_URL)},r.onBtnWeather=function(){y.Instance.ShowUIWeather()},r.onBtnRentAll=function(){y.Instance.ShowPopupConfirmUI("Rent All empty slot for",this.rentAllPrice.toString(),this.rentAll.bind(this),null,"Confirm",!0)},r.rentAll=function(){var t=this;F.PostRequest(C.LINK_API+C.farm_biddingAllEmpty+S.currentLandData._id,null,(function(n){S.LE=JSON.parse(n).data.remainLeAmount,t.UpdateData()}),(function(n){t.UpdateData()}),!0,v.normal)},r.rentSlot=function(t){var n=this,e=S.farmWorldInfo.biddingFee+S.farmWorldInfo.slotPrice;y.Instance.ShowPopupConfirmUI("Rent slot "+t._d.location[0]+","+t._d.location[1]+" for ",e.toString(),function(){var a={price:e};F.PostRequest(C.LINK_API+C.farm_bidding+t._d._id,a,(function(a){S.LE=S.LE-e,null==t._d.prices.biddingUser&&(t._d.prices.biddingUser=[]);var i={userId:S.ownerId,price:e};t._d.prices.biddingUser.push(i),t._d.ownerId=S.ownerId,n.rentAllPrice=0,t.fillData(t._d,S.GetFarmWorldState())}),(function(t){n.UpdateData()}))}.bind(this),null,"Confirm",!0)},r.onBtnShop=function(t,n){this.overlayUI.active=!1,y.Instance.ShowUIPopupShop(function(){this.overlayUI.active=!0}.bind(this),n)},r.onBtnBack=function(){this.isAllPopupHide()?this.onQuit():this.HideAllPopup(null)},r.onBtnBg=function(){this.farmDecorUI.Hide(),this.farmPlantUI.Hide(),this.farmSynergyUI.Hide()},r.onBtnHarvestAll=function(){var t=this,n={slotIds:[]};this.plantSlots.forEach((function(t){null!=t._d.plantInfos.faction&&t._d.harvestTime-S.serverTime<=0&&t._d.ownerId==S.ownerId&&n.slotIds.push(t._d._id)})),n.slotIds.length<=0?y.Instance.ShowToast("Info","There are no Plants that need Harvest!",2):F.PostRequest(C.LINK_API+C.farms_harvest_plant,n,(function(n){t.FarmAction(n,!0)}),(function(n){t.UpdateData()}))},r.onBtnSynergy=function(){this.isAllPopupHide()&&h(this.farmNode).to(.15,{position:d(-445*this.plantslotScale.node.scale.x,0,0)}).start(),this.farmSynergyUI.Show(this)},r.onBtnChat=function(){this.farmChatUI.Show(this)},r.ShowFarmSelectFaction=function(t,n,e){this.farmSelectFaction.Show(t,n,e)},r.onWeatherTimeUpdate=function(t){this.FarmBGFX.forEach((function(t){B.StopParticle(t)})),t==g.Spring||t==g.Summer||t==g.Autumn||t==g.Winter?(this.FarmBG.spriteFrame=this.FarmBGSpriteFrames[t-3],this.BtnHarvestAll.active=this.isShowBtnHarvestAll,this.ScareCrowInfo.active=this.WateringInfo.active=!0,B.PlayParticle(this.FarmBGFX[t-3])):(this.FarmBG.spriteFrame=this.FarmBGSpriteFrames[0],this.BtnHarvestAll.active=this.ScareCrowInfo.active=this.WateringInfo.active=!1,B.PlayParticle(this.FarmBGFX[0]))},r.fillData=function(){var t=this,n=S.currentLandData;this.locationLabel.string=n.location[0]+","+n.location[1],this.NavigateButtons[0].active=n.location[0]>0,this.NavigateButtons[1].active=n.location[1]>0,this.NavigateButtons[2].active=n.location[1]<P.FarmWorldMapSize-1,this.NavigateButtons[3].active=n.location[0]<P.FarmWorldMapSize-1;var e=S.GetFarmWorldState();n.slots.forEach((function(n){t.plantSlots[t.SlotLocationToIndex(n.location[0],n.location[1])].fillData(n,e,!0)}));var a=S.GetCrowKingData();if(1==S.IsCrowKingOutOfTime()||a.remainHp<=0)this.m_crowKingManager.closeKingCrow(),this.m_haveCrowKing=!1;else{var i=S.GetCrowKingLocationIndex();if(null!=a.landLocations&&i>=0&&i<a.landLocations.length){var o=a.landLocations[i];o[0]==n.location[0]&&o[1]==n.location[1]?(this.m_crowKingManager.node.active=!0,this.m_crowKingManager.SetupCrowKing(!0),this.m_haveCrowKing=!0):(this.m_crowKingManager.closeKingCrow(),this.m_haveCrowKing=!1)}}this.onSlotUpdate(e,this.m_haveCrowKing),this.showDecorBuff(n.decoStatus.effects)},r.onSlotUpdate=function(t,n){var e=this,a=0,i=0;t==g.BIDDING?(i=S.farmWorldInfo.priceRentAll,this.plantSlots.forEach((function(t){1==t._d.type&&(t._d.ownerId?i=0:null!=t._d.prices.biddingUser&&(a+=t._d.prices.biddingUser.length))}))):t!=g.DEMO&&t!=g.PRE_BIDDING&&this.plantSlots.forEach((function(t){1!=t._d.type||t._d.ownerId||(i+=S.farmWorldInfo.biddingFee+S.farmWorldInfo.slotPrice)})),this.totalPlayerBid=a,this.rentAllPrice=i,this.baseSynergyData=new fn;var o=0,r=0;if(S.currentLandData.decoStatus.effects.forEach((function(t){105==t.id?(o+=1,null!=t.art_id&&(r+=t.art_id)):304==t.id&&(e.baseSynergyData.data[t.faction]+=t.$incSynergy)})),r%=3,this.CrowDecor.forEach((function(t){t.active=!1})),0==n)switch(o){case 1:this.CrowDecor[r+1].active=!0;break;case 2:this.CrowDecor[r+4].active=!0;break;case 3:this.CrowDecor[7].active=!0;break;default:this.CrowDecor[0].active=!0}this.isShowBtnHarvestAll=!1,this.plantSlots.forEach((function(t){null!=t._d.plantInfos.faction&&null!=t.config&&(e.baseSynergyData.data[t._d.plantInfos.faction]+=2==t.config.plant.type||0==t.config.plant.faction?3:1,!e.isShowBtnHarvestAll&&t._d.harvestTime-S.serverTime<=0&&t._d.ownerId==S.ownerId&&(e.isShowBtnHarvestAll=!0))})),this.BtnHarvestAll.active=this.isShowBtnHarvestAll,this.plantSlots.forEach((function(t){t.ApplyBuff()})),this.buffSynergyData=new fn(this.baseSynergyData),this.plantSlots.forEach((function(t){var n=t.GetSynergyBuff();n>0&&(e.buffSynergyData.data[t._d.plantInfos.faction]+=n)}))},r.getTempBaseSynergyData=function(){var t=new fn(this.baseSynergyData);return this.plantSlots.forEach((function(n){null!=n.tempData&&null!=n.tempData.plantId&&(0==n.tempData.faction?t.data[n.tempSelectFaction]+=3:t.data[n.tempData.faction]+=2==n.tempData.type?3:1)})),t},r.SlotLocationToIndex=function(t,n){return t*P.FarmLandSize+(P.FarmLandSize-n-1)},r.UpdateData=function(){var t=this,n={id:S.currentLandData._id};F.GetRequest(C.LINK_API+C.lands_get_by_id,n,(function(n){S.currentLandData=JSON.parse(n).data[0],t.HideAllPopup(null),t.fillData()}),(function(t){y.Instance.ReturnToLoginScreen()}))},r.GetConfigByPlantId=function(t,n,e){void 0===e&&(e=-1);var a=S.plantConfig,i=function(t,n){for(var e in n)for(var a in n[e])if(t==n[e][a])return e},o="",r=t.slice(0,4),l=a.plantConfigs.find((function(t){return t.unitId==r})),c=0;o=t.slice(6,8);var s=a.skillZone.find((function(t){return t.type==l.type&&t.skillZoneId==o})),f={value:1==l.type?a.support.value[t.slice(8,10)]:0,season:i(-1==e?l.faction:e,a.support.season)},u={value:1==l.type?a.sabotage.value[t.slice(10,12)]:0,season:i(-1==e?l.faction:e,a.sabotage.season)},h=null;if(1==l.type){if(t.length>=15){o=t.slice(12,15);var d=a.fusedAbility.find((function(t){return t.abilityId==o}))}if(o=t.slice(4,6),h=a.skill.find((function(t){return t.type==l.type&&t.skillId==o})),"fused_second"==n&&(c+=a.fusedSecondLeBonus),t.length>=17){o=t.slice(15,17);var p=a.fusedAbilityZone.find((function(t){return t.abilityZoneId==o}))}}else{var m=a.plantAbility[t.slice(8,10)];o=t.slice(4,6),h=a.skill.find((function(t){return t.type==l.type&&t.skillId==o&&l.faction==t.faction}))}return{plantId:t,name:r,plant:l,plant_leStage_Extra:c,skill:h,skillZone:s,seasonSupport:f,seasonSabotage:u,mTreeAbility:m,ability:d,abilityZone:p}},r.GetConfigByDecorId=function(t){return{name:t.slice(0,3),rarity:+t.slice(0,1)-1}},r.GetConfigByPetIdId=function(t,n){void 0===n&&(n=!1);var e=t.slice(0,3),a=+t.slice(0,1)-1,i=0,o=0;return n&&(i=S.petConfig.maxEnergy[P.RarityText[a]],o=S.petConfig.petPointReward[P.RarityText[a]]),{name:e,rarity:a,maxEnergy:i,petPointReward:o}},r.FarmAction=function(t,n,e){void 0===n&&(n=!1),void 0===e&&(e=!1);var a=JSON.parse(t).data;if(e&&0==a.length)return S.stealFailLatestTime=S.serverTime+S.petConfig.timeBreakSteakFailInMs,void y.Instance.ShowToast("Error","Steal failed! Wait "+Math.round((S.stealFailLatestTime-S.serverTime)/1e3)+"s for the next steal",0);if(this.UpdateData(),null!=a){var i=this.GetFarmActionReward(a);if(i.totalReward>0){if(S.LE+=i.le,S.ScareCrow+=i.chase_crow,S.Watering+=i.water,S.FreeTicket+=i.ticket,e&&(S.TotalStealLe+=i.le),n){i.totalReward-=i.le,i.le=0;var o=R.Instance.GetPrefab(z.LE_Receive);o.setWorldPosition(this.LeIcon.children[0].worldPosition),B.PlayParticle(o)}i.totalReward>0&&this.farmRewardUI.Show(i)}}},r.GetFarmActionReward=function(t){if(null!=t){var n={le:0,chase_crow:0,water:0,ticket:0,seed:0,decor:0,egg:0,totalReward:0};return t.forEach((function(t){t.ownerId==S.ownerId&&(n[t.name]+=t.amount,n.totalReward+=t.amount)})),n}},r.OnBtnNavigate=function(t,n){var e=this,a=S.currentLandData.location[0],i=S.currentLandData.location[1];switch(n){case"up":i+=1;break;case"down":i-=1;break;case"left":a-=1;break;case"right":a+=1}var o={x:a,y:i};F.GetRequest(C.LINK_API+C.lands_get_by_coordinate,o,(function(t){var n=JSON.parse(t).data[0];0==n.isCenter?(S.currentLandData=n,e.HideAllPopup(null),e.fillData(),e.farmChatUI.ChangeLand(e),e.farmBannerUI.ShowAd(),e.farmPet.UpdateData()):y.Instance.ShowToast("Error","Can't farm on landmark!",0)}),(function(t){y.Instance.ReturnToLoginScreen()}))},r.onBtnMyAsset=function(){y.Instance.ShowUIPopupMyAssets()},r.onFactionIconClick=function(t){this.plantSlots.forEach((function(n){null!=n._d.plantInfos.faction&&(n._d.plantInfos.faction==t||0==t&&n.config.plant.faction==t)&&n.HighlightPlantSpine(!0)}))},r.onFactionIconUnClick=function(t){this.plantSlots.forEach((function(t){t.HighlightPlantSpine(!1)}))},r.Socket_onSlotUpdateCallback=function(t){var n=this,e=S.GetFarmWorldState();t.forEach((function(t){n.plantSlots[n.SlotLocationToIndex(t.location[0],t.location[1])].fillData(t,e)})),this.plantSlots.forEach((function(t){t.ClearBuff()})),this.onSlotUpdate(e,this.m_haveCrowKing),t.forEach((function(t){var e=n.plantSlots[n.SlotLocationToIndex(t.location[0],t.location[1])];n.farmBiddingUI.Socket_onSlotUpdateCallback(e),n.farmDecorUI.Socket_onSlotUpdateCallback(e),n.farmPlantUI.Socket_onSlotUpdateCallback(e),n.farmSynergyUI.Socket_onSlotUpdateCallback()}))},r.Socket_onChatCallback=function(t){this.farmChatUI.onChatMessage(t)},r.Socket_onChangeLand=function(t){this.farmChatUI.onChangeLand(this)},r.Socket_onChangeNumberViewer=function(t){var n=Number(t.numberUsers);0==isNaN(n)?this.playerViewLabel.string="VISITORS: "+Number(t.numberUsers):(console.log("Invalid visitor count!!! "+t.numberUsers),this.playerViewLabel.string="VISITORS: 1")},r.Socket_onChatAllCallback=function(t){for(var n in t)if(null!=t[n]){this.farmChatUI.onChatAllMessage({address:n,msg:t[n],time:t.time});break}},r.Socket_onConnectCallback=function(t){},r.Socket_TransferLE=function(t,n){if(!(n<=0)){var e={receiver:t,amount:n,landId:S.currentLandData._id};F.PostRequest(C.LINK_API+C.users_transfer_le,e,(function(t){S.LE=JSON.parse(t).data.leAmount}),null)}},n.getMinMaxStage=function(t){var n=999,e=-999;try{for(var a=0;a<t.length;a++)for(var i=t[a].itemDrop,o=0;o<i.length;o++)i[o]>e&&(e=i[o]),i[o]<n&&(n=i[o])}catch(t){n=0,e=0,console.error("error data input")}return n+"-"+e},r.showDecorBuff=function(t){this.decorBuffIconInfos.forEach((function(t){t.node.active=!1}));for(var n=0;n<t.length;n++){var e=t[n],a=e.description;null!=e.faction&&(a+=" ("+P.FactionText[e.faction]+")"),this.getDecorIconInfo(n).Init(q.Instance.LoadDecorBuffIcon(e.id),a)}},r.getDecorIconInfo=function(t){var n;t<this.decorBuffIconInfos.length?n=this.decorBuffIconInfos[t]:(n=m(this.decorBuffIconPrefab).getComponent(V),this.decorBuffIconInfos.push(n));return n.node.active=!0,n.node.setParent(this.decorBuffIconContent),n},o(n,[{key:"rentAllPrice",get:function(){return this._rentAllPrice},set:function(t){this._rentAllPrice=t,t>0?(this.rentAllLeLabel.string=B.numberWithCommas(t),this.rentAllLeLabel.node.parent.active=!0):this.rentAllLeLabel.node.parent.active=!1}},{key:"totalPlayerBid",get:function(){return this._totalPlayerBid},set:function(t){this._totalPlayerBid=t,t>0?(this.playerBidingLabel.string="BIDDING: "+t,this.playerBidingLabel.node.active=!0):this.playerBidingLabel.node.active=!1}},{key:"isStealAble",get:function(){return this._isStealAble},set:function(t){this._isStealAble=t,this.plantSlots.forEach((function(t){t.CheckStealAble()}))}}]),n}(I)).prototype,"overlayUI",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),At=n(Ft.prototype,"farmNode",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lt=n(Ft.prototype,"plantslotScale",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dt=n(Ft.prototype,"locationLabel",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nt=n(Ft.prototype,"plantSlotParent",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tt=n(Ft.prototype,"rentAllLeLabel",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ht=n(Ft.prototype,"playerBidingLabel",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Et=n(Ft.prototype,"playerViewLabel",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rt=n(Ft.prototype,"WateringInfo",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zt=n(Ft.prototype,"ScareCrowInfo",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gt=n(Ft.prototype,"BtnHarvestAll",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kt=n(Ft.prototype,"LeIcon",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mt=n(Ft.prototype,"plantSlotBaseSpriteFrames",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Wt=n(Ft.prototype,"plantSlotShadows",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ot=n(Ft.prototype,"farmSelectFaction",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xt=n(Ft.prototype,"farmSynergyUI",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vt=n(Ft.prototype,"farmBiddingUI",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qt=n(Ft.prototype,"farmInventoryUI",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xt=n(Ft.prototype,"farmPlantUI",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zt=n(Ft.prototype,"farmDecorUI",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jt=n(Ft.prototype,"farmInfoUI",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qt=n(Ft.prototype,"farmRewardUI",[It],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jt=n(Ft.prototype,"farmChatUI",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$t=n(Ft.prototype,"farmBannerUI",[St],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yt=n(Ft.prototype,"FarmBG",[gt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tn=n(Ft.prototype,"FarmBGSpriteFrames",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),nn=n(Ft.prototype,"FarmBGFX",[vt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),en=n(Ft.prototype,"NavigateButtons",[Ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),an=n(Ft.prototype,"CrowDecor",[_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),on=n(Ft.prototype,"m_crowKingManager",[Ut],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rn=n(Ft.prototype,"decorBuffIconPrefab",[wt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ln=n(Ft.prototype,"decorBuffIconContent",[kt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pt=Ft))||Pt)),t("SynergyData",(function(t){void 0===t&&(t=null),this.data=void 0,this.data=t?{1:t.data[1],2:t.data[2],3:t.data[3],4:t.data[4],5:t.data[5],6:t.data[6],7:t.data[7],8:t.data[8],9:t.data[9]}:{1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0}})));r._RF.pop()}}}));

System.register("chunks:///_virtual/FarnSpeakerUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utility.ts","./UserModel.ts","./ConfigGame.ts","./UIPopupManager.ts","./UIToast.ts","./SocketFarmHandler.ts"],(function(t){"use strict";var e,i,n,r,a,c,s,o,u,l,h,d,b,m,g,N;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,c=t._decorator,s=t.Label,o=t.Node,u=t.EditBox,l=t.Component},function(t){h=t.Utility},function(t){d=t.UserModel},function(t){b=t.ConfigGame},function(t){m=t.UIPopupManager},function(t){g=t.TypeNoticeToast},function(t){N=t.SocketFarmHandler}],execute:function(){var f,p,v,k,S,C,A,w,M,y,I,U,P,T,x,z,D,E,_,F,L,O,B,H,R;a._RF.push({},"cdfb4GOK9hC8ZhFJsoA7cIn","FarnSpeakerUI",void 0);var W=c.ccclass,G=c.property;t("FarnSpeakerUI",(f=W("FarnSpeakerUI"),p=G(s),v=G(s),k=G(o),S=G(o),C=G(o),A=G(o),w=G(u),M=G(s),y=G(u),I=G(o),U=G(o),f((x=e((T=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a))||this,n(e,"txtCountdown",x,r(e)),n(e,"txtNumberNickName",z,r(e)),n(e,"btnClear",D,r(e)),n(e,"btnChange",E,r(e)),n(e,"btnPriceActive",_,r(e)),n(e,"btnPriceUnActive",F,r(e)),n(e,"editNickName",L,r(e)),n(e,"txtNumberMsg",O,r(e)),n(e,"editMsg",B,r(e)),n(e,"btnSendActive",H,r(e)),n(e,"btnSendUnActive",R,r(e)),e.chat=null,e.numNickName=0,e.numMsg=0,e.countdownSchedule=null,e}i(e,t);var a=e.prototype;return a.Init=function(t){this.chat=t},a.Reset=function(){this.numNickName=0,this.numMsg=0,this.txtNumberNickName.string=this.numNickName+"/35",this.txtNumberMsg.string=this.numMsg+"/100",this.editNickName.string=h.reduceWallet(d.ownerId),this.editMsg.string="",this.btnClear.active=!1,this.btnChange.active=!0,this.btnPriceActive.active=!1,this.btnPriceUnActive.active=!0,this.btnSendActive.active=!1,this.btnSendUnActive.active=!0,this.editNickName.enabled=!1,this.updateCountDown()},a.updateCountDown=function(){null==d.timeSendSpeaker?(this.txtCountdown.string="Send Now",this.editMsg.enabled=!0):(this.editMsg.enabled=!1,this.countdownSchedule=this.schedule(function(){if(null!=d.timeSendSpeaker){var t=d.timeSendSpeaker.getTime()+1e3*b.COUNTDOWN_CHAT_ALL-(new Date).getTime();this.txtCountdown.string=parseInt(t/1e3+"")+"s",t<=0&&(d.timeSendSpeaker=null,this.unschedule(this.countdownSchedule),this.updateCountDown())}}.bind(this),1))},a.onEnable=function(){this.Reset()},a.onEditNickName=function(){this.numNickName=this.editNickName.string.length,this.txtNumberNickName.string=this.numNickName+"/35",this.editMsg.string=this.editMsg.string.trim()},a.onEditMsg=function(){this.numMsg=this.editMsg.string.length,this.txtNumberMsg.string=this.numMsg+"/100",this.btnSendActive.active=this.numMsg>0,this.btnSendUnActive.active=0==this.numMsg},a.OnBtnSend=function(){var t=this,e=b.PRICE_CHAT_PUBLIC;if(1==this.btnPriceActive.active&&(e+=b.PRICE_CHAT_PUBLIC_NICKNAME),d.LE<e)m.Instance.ShowToast("INFO","Not enough to LE",g.Info);else if(0!=this.editMsg.string.length&&0!=this.editNickName.string.length){if(null!=d.timeSendSpeaker)if((d.timeSendSpeaker.getTime()+1e3*b.COUNTDOWN_CHAT_ALL-(new Date).getTime())/1e3>=0)return;d.LE-=e,d.timeSendSpeaker=new Date;var i=this.editMsg.string.trim(),n=this.btnPriceActive.active?this.editNickName.string.trim():d.ownerId;N.SendChatAll(n,i),h.AsyncDelay(50).then((function(){t.Reset()}))}else m.Instance.ShowToast("INFO","Please fill information",g.Info)},a.OnBtnClear=function(){this.btnChange.active=!0,this.btnClear.active=!1,this.editNickName.enabled=!1,this.editNickName.string=h.reduceWallet(d.ownerId),this.btnPriceActive.active=!1,this.btnPriceUnActive.active=!0},a.OnBtnChangeNickName=function(){this.btnChange.active=!1,this.btnClear.active=!0,this.editNickName.enabled=!0,this.editNickName.string="",this.btnPriceActive.active=!0,this.btnPriceUnActive.active=!1,this.onEditNickName(),this.forcusEditNickName()},a.forcusEditNickName=function(){var t=this;h.AsyncDelay(50).then((function(){t.editNickName.setFocus()}))},e}(l)).prototype,"txtCountdown",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(T.prototype,"txtNumberNickName",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(T.prototype,"btnClear",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(T.prototype,"btnChange",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(T.prototype,"btnPriceActive",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(T.prototype,"btnPriceUnActive",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(T.prototype,"editNickName",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(T.prototype,"txtNumberMsg",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(T.prototype,"editMsg",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(T.prototype,"btnSendActive",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(T.prototype,"btnSendUnActive",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=T))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/FreeTicketInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventSystem.ts","./UserModel.ts","./Utility.ts"],(function(e){"use strict";var t,i,r,n,c,s,o,a,u,l,T,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){c=e.cclegacy,s=e._decorator,o=e.Label,a=e.Component},function(e){u=e.GlobalEvents,l=e.EventType},function(e){T=e.UserModel},function(e){f=e.Utility}],execute:function(){var h,b,k,p,F;c._RF.push({},"2dca1RpZtZHnp3t++XAqUIG","FreeTicketInfo",void 0);var m=s.ccclass,y=s.property;e("FreeTicketInfo",(h=m("FreeTicketInfo"),b=y(o),h((F=t((p=function(e){function t(){for(var t,i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return t=e.call.apply(e,[this].concat(c))||this,r(t,"freeTicketLabel",F,n(t)),t.currentFreeTicket=-1,t.cb=void 0,t}i(t,e);var c=t.prototype;return c.start=function(){this.cb=u.subscribe(l.FREETICKET_INFO_UPDATED,this.onFreeTicketChange.bind(this)),this.currentFreeTicket=T.FreeTicket,this.freeTicketLabel.string=f.numberWithCommas(T.FreeTicket)},c.onFreeTicketChange=function(e){this.currentFreeTicket!=e&&(this.currentFreeTicket=e,this.node.activeInHierarchy?this.TweenFreeTicket(e):this.freeTicketLabel.string=f.numberWithCommas(e))},c.onDestroy=function(){u.unsubscribe(l.FREETICKET_INFO_UPDATED,this.cb)},c.TweenFreeTicket=function(e){var t=this,i=f.numberWithCommasToInt(this.freeTicketLabel.string);f.tweenNumber(i,e,.5,(function(e){t.freeTicketLabel.string=f.numberWithCommas(e)})).start()},t}(a)).prototype,"freeTicketLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=p))||k));c._RF.pop()}}}));

System.register("chunks:///_virtual/GemInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventSystem.ts","./UserModel.ts","./Utility.ts"],(function(e){"use strict";var t,n,i,r,o,s,c,a,u,l,m,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,c=e.Label,a=e.Component},function(e){u=e.GlobalEvents,l=e.EventType},function(e){m=e.UserModel},function(e){b=e.Utility}],execute:function(){var h,f,p,G,y;o._RF.push({},"b755c0KPX9CropY5vdGyoOH","GemInfo",void 0);var v=s.ccclass,L=s.property;e("GemInfo",(h=v("GemInfo"),f=L(c),h((y=t((G=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,i(t,"GemLabel",y,r(t)),t.currentGem=-1,t.cb=void 0,t}n(t,e);var o=t.prototype;return o.onEnable=function(){this.cb=u.subscribe(l.GEM_INFO_UPDATED,this.onLeChange.bind(this)),this.currentGem=m.GEM,this.GemLabel.string=b.numberWithCommas(m.GEM)},o.onLeChange=function(e){this.currentGem!=e&&(this.currentGem=e,this.node.activeInHierarchy?this.TweenLE(e):this.GemLabel.string=b.numberWithCommas(e))},o.onDisable=function(){u.unsubscribe(l.GEM_INFO_UPDATED,this.cb)},o.TweenLE=function(e){var t=this,n=b.numberWithCommasToInt(this.GemLabel.string);b.tweenNumber(n,e,.5,(function(e){t.GemLabel.string=b.numberWithCommas(e)})).start()},t}(a)).prototype,"GemLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=G))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/IconInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIPopupManager.ts","./EventSystem.ts"],(function(i){"use strict";var t,n,e,o,r,s,c,l,a,u,p,h,f,b,I,C;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){r=i.cclegacy,s=i._decorator,c=i.Sprite,l=i.CCString,a=i.CCInteger,u=i.CCBoolean,p=i.Button,h=i.Node,f=i.Component},function(i){b=i.UIPopupManager},function(i){I=i.GlobalEvents,C=i.EventType}],execute:function(){var d,v,E,y,m,g,A,k,M,U,_,S,w;r._RF.push({},"37483xQDi1AerKPHKiSKbho","IconInfo",void 0);var z=s.ccclass,D=s.property;i("IconInfo",(d=z("IconInfo"),v=D(c),E=D(l),y=D(a),m=D(u),g=D(p),d((M=t((k=function(i){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=i.call.apply(i,[this].concat(r))||this,e(t,"sprite",M,o(t)),e(t,"description",U,o(t)),e(t,"faction",_,o(t)),e(t,"isClickAble",S,o(t)),e(t,"button",w,o(t)),t.isMouseEnter=!1,t}n(t,i);var r=t.prototype;return r.start=function(){this.node.on(h.EventType.MOUSE_ENTER,this.mouseEnter,this),this.node.on(h.EventType.MOUSE_LEAVE,this.mouseLeave,this)},r.Init=function(i,t,n,e){void 0===t&&(t=""),void 0===n&&(n=!0),void 0===e&&(e=-1),null!=i?(this.faction=e,this.node.active=!0,this.sprite.spriteFrame=i,this.description=t,this.isClickAble=n,this.button.interactable=n):this.node.active=!1},r.onClick=function(){this.isClickAble&&b.Instance.ShowUIDescriptionInfo(this.description,this.sprite.spriteFrame,this.node,this.onClickAction.bind(this),this.onUnClickAction.bind(this))},r.onClickAction=function(){this.faction>=0&&I.publish(C.FACTION_ICON_CLICK,this.faction)},r.onUnClickAction=function(){this.faction>=0&&I.publish(C.FACTION_ICON_UNCLICK,this.faction)},r.mouseEnter=function(){this.isMouseEnter||(this.isMouseEnter=!0,b.Instance.ShowUIDescriptionInfo(this.description,null,this.node,null,null))},r.mouseLeave=function(){this.isMouseEnter&&(this.isMouseEnter=!1,b.Instance.HideUIDescriptionInfo())},t}(f)).prototype,"sprite",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(k.prototype,"description",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_=t(k.prototype,"faction",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),S=t(k.prototype,"isClickAble",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),w=t(k.prototype,"button",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=k))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/ItemDond_Chat.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utility.ts"],(function(t){"use strict";var e,r,i,n,o,s,a,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,a=t.Label,l=t.Component},function(t){u=t.Utility}],execute:function(){var c,d,p,m,g,b,h,f,y;o._RF.push({},"1d8154TGvBAnIW/3o0+FF0s","ItemDond_Chat",void 0);var x=s.ccclass,I=s.property;t("ItemDond_Chat",(c=x("ItemDond_Chat"),d=I(a),p=I(a),m=I(a),c((h=e((b=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,i(e,"txtAddress",h,n(e)),i(e,"txtTime",f,n(e)),i(e,"txtContent",y,n(e)),e}return r(e,t),e.prototype.Init=function(t){if(this.txtAddress.string=u.reduceWallet(t.address),this.txtContent.string=t.msg,null!=t.time){var e=new Date(t.time);this.txtTime.string=u.AddZeroInNumber(e.getHours())+":"+u.AddZeroInNumber(e.getMinutes())}else{var r=new Date;this.txtTime.string=u.AddZeroInNumber(r.getHours())+":"+u.AddZeroInNumber(r.getMinutes())}},e}(l)).prototype,"txtAddress",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=e(b.prototype,"txtTime",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(b.prototype,"txtContent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=b))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/KingGamebit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./KingGamebitChatItem.ts","./UserModel.ts","./Utility.ts","./UIPopupManager.ts","./KingGamebitPlayer.ts","./PlayingCard.ts","./SocketKingGamebitHandler.ts","./KingGamebitClock.ts","./FadeTextEffect.ts"],(function(t){"use strict";var e,i,n,a,o,r,l,c,s,h,u,b,m,p,f,d,g,y,C,S,k,P,I,M,T,v,R,F,w,E,G,L,A,O;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,l=t._decorator,c=t.Widget,s=t.Button,h=t.Label,u=t.Node,b=t.UIOpacity,m=t.Slider,p=t.EditBox,f=t.SpriteFrame,d=t.Sprite,g=t.sp,y=t.RichText,C=t.tween,S=t.v3,k=t.math,P=t.instantiate,I=t.Tween,M=t.Component},function(t){T=t.KingGamebitChatColor,v=t.KingGamebitChatItem},function(t){R=t.UserModel},function(t){F=t.Utility},function(t){w=t.UIPopupManager},function(t){E=t.KingGamebitPlayer},function(t){G=t.PlayingCard},function(t){L=t.SocketKingGamebitHandler},function(t){A=t.KingGamebitClock},function(t){O=t.FadeTextEffect}],execute:function(){var B,_,x,U,K,z,H,D,N,W,V,q,Y,Q,j,J,X,Z,$,tt,et,it,nt,at,ot,rt,lt,ct,st,ht,ut,bt,mt,pt,ft,dt,gt,yt,Ct,St,kt,Pt,It,Mt,Tt,vt,Rt,Ft,wt,Et,Gt,Lt,At,Ot,Bt,_t,xt,Ut,Kt,zt,Ht,Dt,Nt,Wt,Vt,qt,Yt,Qt,jt,Jt,Xt,Zt,$t,te,ee,ie,ne,ae,oe,re,le;t("KingGamebitAction",void 0),r._RF.push({},"069074OMupFlrG+xIl80AAv","KingGamebit",void 0);var ce,se=l.ccclass,he=l.property;!function(t){t[t.call=0]="call",t[t.check=1]="check",t[t.fold=2]="fold",t[t.raise=3]="raise",t[t.allIn=4]="allIn"}(ce||(ce=t("KingGamebitAction",{})));t("KingGamebit",(B=se("KingGamebit"),_=he(c),x=he(s),U=he(h),K=he(h),z=he(h),H=he(u),D=he(u),N=he(b),W=he(u),V=he(b),q=he(b),Y=he(m),Q=he(p),j=he(h),J=he(E),X=he(E),Z=he(G),$=he(u),tt=he(f),et=he(d),it=he(u),nt=he(h),at=he(s),ot=he(s),rt=he(A),lt=he(u),ct=he(f),st=he(f),ht=he(d),ut=he(u),bt=he({type:g.Skeleton}),mt=he(b),pt=he(y),ft=he(u),dt=he(u),gt=he(u),yt=he(p),Ct=he(u),St=he(u),B((It=e((Pt=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).Config_requireLeMulti=25,e.Config_gameTax=.05,e.Config_turnTime=20400,e.Config_rematchWaitTime=3e4,e.Config_ComboText=["<color=#FCFF65>HIGH CARD</color>","<color=#FF73B6>PAIR</color>","<color=#1FFFF1>3 - STRAIGHT</color>","<color=#A5FF6E>4 - STRAIGHT</color>","<color=#FFFFFF>5 - STRAIGHT</color>"],n(e,"ruleBook",It,a(e)),n(e,"StackButtons",Mt,a(e)),n(e,"StackPlayerLabels",Tt,a(e)),n(e,"StackLabel",vt,a(e)),n(e,"PreMatchToolTipLabel",Rt,a(e)),n(e,"PreMatchFindMatchBockInput",Ft,a(e)),n(e,"PreMatchFindMatchBtn",wt,a(e)),n(e,"PreMatchUIOpacity",Et,a(e)),n(e,"table",Gt,a(e)),n(e,"tableGlow",Lt,a(e)),e.findMathTime=0,e.findMatchUpdateTime=0,e.findMatchUpdateTimeIsRunning=!1,e.currentStackSelect=2,e.StackValues=[1e3,500,200,100,40],n(e,"MatchUIOpacity",At,a(e)),n(e,"leRaiseSlider",Ot,a(e)),n(e,"leRaiseEditBox",Bt,a(e)),n(e,"PotLabel",_t,a(e)),n(e,"KingGamebitPlayer_Me",xt,a(e)),n(e,"KingGamebitPlayer_Enemy",Ut,a(e)),n(e,"PlayingCards",Kt,a(e)),n(e,"CardStack",zt,a(e)),n(e,"stackSpriteFrames",Ht,a(e)),n(e,"stackSprite",Dt,a(e)),n(e,"BetPanel",Nt,a(e)),n(e,"EndLabel",Wt,a(e)),n(e,"ReMatchButton",Vt,a(e)),n(e,"AcceptButton",qt,a(e)),n(e,"kingGamebitClockRematch",Yt,a(e)),n(e,"FadeTextEffectPrefab",Qt,a(e)),n(e,"CardSpriteFrames",jt,a(e)),n(e,"HighlightSpriteFrames",Jt,a(e)),n(e,"HighlightSprites",Xt,a(e)),n(e,"DotNodes",Zt,a(e)),n(e,"AnnounceSpine",$t,a(e)),n(e,"actionToolTipUIOpacity",te,a(e)),n(e,"actionToolTipRichText",ee,a(e)),e.meIndex=0,e.enemyIndex=1,e._currentPot=void 0,e.timeOutAnnounceSpine=0,e.timeOutAnnounceSpine1=0,e.highLightCardComboTimeout=0,e.sendSeverCheckEventTimeout=0,e.sendSeverCheckEventTimeout1=0,e.AnnounceSpineCompleteListener=function(t){"idle"!=e.AnnounceSpine.animation&&e.AnnounceSpine.setAnimation(0,"idle",!0)},e.chatMaxItem=100,n(e,"KingGamebitChatItemPrefab",ie,a(e)),n(e,"ChatContent",ne,a(e)),n(e,"ChatContentLobby",ae,a(e)),n(e,"ChatEditBox",oe,a(e)),n(e,"ChatLobbys",re,a(e)),n(e,"ChatRooms",le,a(e)),e}i(e,t);var r=e.prototype;return r.start=function(){this.InitPreMatch(),L.Connect(this),this.AnnounceSpine.setCompleteListener(this.AnnounceSpineCompleteListener)},r.OnSettingClick=function(){w.Instance.ShowUISetting(this.OnBackClick.bind(this))},r.OnBackClick=function(){w.Instance.ShowUIMinigameMenu(),this.OnCancelFindMatchClick(),L.Disconnect()},r.OnRuleBookClick=function(){var t=this;this.ruleBook.node.active?C(this.ruleBook).to(.2,{left:-550}).call((function(){t.ruleBook.node.active=!1})).start():(this.ruleBook.node.active=!0,C(this.ruleBook).to(.2,{left:0}).start())},r.OnBtnStackClick=function(t,e){this.currentStackSelect=+e,this.StackLabel.string=F.numberWithCommas(this.StackValues[this.currentStackSelect]*this.Config_requireLeMulti);for(var i=0;i<this.StackButtons.length;i++){var n=this.StackButtons[i];i==this.currentStackSelect?(n.node.setPosition(n.node.position.x,16,0),this.StackLabel.node.parent.setPosition(n.node.position.x,this.StackLabel.node.parent.position.y,0)):n.node.setPosition(n.node.position.x,-21,0),n.interactable=!0}},r.OnStartFindMatchClick=function(){if(this.StackValues[this.currentStackSelect]*this.Config_requireLeMulti>R.GEM)w.Instance.ShowToast("Error","Not enough GEM!",0);else{this.PreMatchFindMatchBockInput.active=!0,this.PreMatchFindMatchBtn.active=!1;for(var t=0;t<this.StackButtons.length;t++)this.StackButtons[t].interactable=t==this.currentStackSelect;this.countDownFindMatch(),L.matching(this.StackValues[this.currentStackSelect])}},r.OnCancelFindMatchClick=function(){L.cancelMatching(this.StackValues[this.currentStackSelect]),this.InitPreMatch()},r.InitPreMatch=function(){this.PreMatchToolTipLabel.string="CHOOSE YOUR STACK",this.PreMatchFindMatchBockInput.active=!1,this.PreMatchFindMatchBtn.active=!0,this.OnBtnStackClick(null,this.currentStackSelect.toString()),this.findMatchUpdateTimeIsRunning=!1,clearTimeout(this.findMatchUpdateTime),this.clearTimeoutSeverCheckEvent(),this.KingGamebitPlayer_Me.Reset(),this.KingGamebitPlayer_Enemy.Reset(),this.PlayingCards.forEach((function(t){t.Reset()})),this.kingGamebitClockRematch.Hide()},r.countDownFindMatch=function(){var t=this;this.findMatchUpdateTimeIsRunning=!0,function e(){if(t.findMatchUpdateTimeIsRunning){switch(t.findMathTime+=1,t.findMathTime%3){case 0:t.PreMatchToolTipLabel.string="FINDING MATCH.    ";break;case 1:t.PreMatchToolTipLabel.string="FINDING MATCH..  ";break;case 2:t.PreMatchToolTipLabel.string="FINDING MATCH..."}t.findMatchUpdateTime=setTimeout(e,1e3)}}()},r.onNumberPlayer=function(t){var e=0;switch(t.stackValue){case 1e3:e=0;break;case 500:e=1;break;case 200:e=2;break;case 100:e=3;break;default:e=4}var i=2*t.numberProcessSessions;t.isHavePlayerWaiting&&(i+=1),this.StackButtons[e].node.children[0].active=t.isHavePlayerWaiting,this.StackPlayerLabels[e].string=i.toString()},r.onFindMatch=function(){var t=this;this.InitPreMatch(),0==this.MatchUIOpacity.node.active&&(this.MatchUIOpacity.node.active=!0,C(this.MatchUIOpacity).to(.2,{opacity:255}).start(),C(this.PreMatchUIOpacity).to(.2,{opacity:0}).call((function(){t.PreMatchUIOpacity.node.active=!1})).start(),C(this.table).to(.3,{position:S(this.table.position.x,343,0)}).start(),C(this.tableGlow).to(.3,{opacity:255}).start())},r.onQuitMatch=function(){L.quitMatch(this.StackValues[this.currentStackSelect]),this._onQuitMatch()},r._onQuitMatch=function(){var t=this;1!=this.PreMatchUIOpacity.node.active&&(this.PreMatchUIOpacity.node.active=!0,C(this.PreMatchUIOpacity).to(.2,{opacity:255}).start(),C(this.MatchUIOpacity).to(.2,{opacity:0}).call((function(){t.MatchUIOpacity.node.active=!1})).start(),C(this.table).to(.3,{position:S(this.table.position.x,1038,0)}).start(),C(this.tableGlow).to(.3,{opacity:0}).start(),this.kingGamebitClockRematch.Hide(),this.ChatLobbyClick())},r.onFoldClick=function(){this.KingGamebitPlayer_Me.currentLE<=0?this.onCallClick():(this.KingGamebitPlayer_Me.kingGamebitClock.Hide(),L.fold())},r.onCallClick=function(){this.KingGamebitPlayer_Me.kingGamebitClock.Hide(),L.call()},r.onRaiseClick=function(){if(this.KingGamebitPlayer_Enemy.currentLE<=0)this.onCallClick();else{this.KingGamebitPlayer_Me.kingGamebitClock.Hide();var t=k.clamp(+this.leRaiseEditBox.string,this.minRaise,this.maxRaise)-Math.abs(this.KingGamebitPlayer_Me.currentLE-this.KingGamebitPlayer_Enemy.currentLE);t<=0||L.raise(t)}},r.onAllInClick=function(){this.leRaiseSliderProgress=1},r.onMinusClick=function(){this.leRaiseSliderProgress-=.1},r.onPlusClick=function(){this.leRaiseSliderProgress+=.1},r.onEditLeRaise=function(){var t=k.clamp(+this.leRaiseEditBox.string,this.minRaise,this.maxRaise);this.leRaiseEditBox.string=t.toString(),this.leRaiseSliderProgress=(t-this.minRaise)/this.deltaRaise},r.onSliderLeRaise=function(){this.leRaiseSliderProgress=this.leRaiseSlider.progress},r.onReMatch=function(){this.onReMatchAccept(),this.ShowActionToolTip(null,"<b>Rematch Invitation sent")},r.onReMatchAccept=function(){this.ReMatchButton.interactable=!1,this.AcceptButton.interactable=!1,this.EndLabel.string="Waiting for the opponent",L.rematch(this.StackValues[this.currentStackSelect])},r.SocketOnGameState=function(t){if(this.EndLabel.node.parent.active=!1,"init"==t.type)this._initGame(t),w.Instance.RequestUserInfo(null),this.highLightCardCombo(!0,1e3),this.AnnounceSpine.setAnimation(0,"start",!1);else if("end-game"==t.status){this.BetPanel.active=!1,this.EndLabel.node.parent.active=!0,this.ReMatchButton.interactable=!0,this.AcceptButton.interactable=!0,this.ReMatchButton.node.active=!0,this.AcceptButton.node.active=!1,this.EndLabel.string="Waiting for a Rematch",this.KingGamebitPlayer_Me.Init(t.gameState.firstDeal[this.meIndex],null,R.ownerId,!0,0,this),this.KingGamebitPlayer_Me.ShowWin(t.winner),this.KingGamebitPlayer_Enemy.ShowWin(t.winner),this._dealCard(t.gameState.deals,!0);var e=0;w.Instance.RequestUserInfo(null),""==t.winner||(e=t.winner==R.ownerId?t.playerBettingValues[this.enemyIndex]:t.playerBettingValues[this.meIndex]),this.KingGamebitPlayer_Me.kingGamebitClock.Hide(),this.KingGamebitPlayer_Enemy.kingGamebitClock.Hide(),this.kingGamebitClockRematch.Show(this.Config_rematchWaitTime,R.serverTime,this.onQuitMatch.bind(this)),e>0?this.SystemChat(t.winner,"Win "+F.numberWithCommas(e)+" GEM!"):this.SystemChat(R.ownerId,"Draw!"),this.highLightCardCombo(!1)}else if("reconect"==t.type){for(var i=0;i<this.StackValues.length;i++)if(this.StackValues[i]==t.stack){this.OnBtnStackClick(null,i.toString());break}this._initGame(t),this._dealCard(t.deals,!1);for(var n=0;n<t.historyActions.length;n++)this.SocketOnAction(t.historyActions[n],!0);this.sendSeverCheckEvent(),this.highLightCardCombo(!0)}else this._dealCard(t.deals,!1),this.highLightCardCombo(!0);this.leRaiseSliderProgress=0},r._dealCard=function(t,e){var i=this;clearTimeout(this.timeOutAnnounceSpine),clearTimeout(this.timeOutAnnounceSpine1);var n=function(){for(var e=0;e<t.length;e++)0==i.PlayingCards[e].node.active&&i.PlayingCards[e].Init(t[e],i.CardStack.worldPosition);i.DotNodes[0].active=t.length>2,i.DotNodes[1].active=t.length>3};0!=t.length?e?n():(this.timeOutAnnounceSpine1=setTimeout((function(){n()}),1600),4==t.length?this.timeOutAnnounceSpine=setTimeout((function(){i.AnnounceSpine.setAnimation(0,"final",!1)}),700):this.timeOutAnnounceSpine=setTimeout((function(){i.AnnounceSpine.setAnimation(0,"next",!1)}),700)):e||this.AnnounceSpine.setAnimation(0,"start",!1)},r._initGame=function(t){this.onFindMatch();for(var e=0;e<t.players.length;e++)t.players[e]==R.ownerId?this.meIndex=e:this.enemyIndex=e;var i=0==this.meIndex;this.BetPanel.active=i;var n=this.StackValues[this.currentStackSelect]*(this.Config_requireLeMulti-1);this.KingGamebitPlayer_Me.Init(null,n,R.ownerId,i,t.createdAt,this),this.KingGamebitPlayer_Enemy.Init(t.enermyCard,n,t.players[this.enemyIndex],!i,t.createdAt,this),this.stackSprite.spriteFrame=this.stackSpriteFrames[this.currentStackSelect],this.currentPot=2*this.StackValues[this.currentStackSelect],this.getChatItem().InitSpacing("Start game!"),this.ChatRoomClick(),this.DotNodes[0].active=!1,this.DotNodes[1].active=!1},r.SocketOnAction=function(t,e){var i=t.player!=R.ownerId;this.BetPanel.active=i,this.KingGamebitPlayer_Me.onAction(t),this.KingGamebitPlayer_Enemy.onAction(t),this.currentPot+=t.amount,this.leRaiseSliderProgress=0,e||(t.amount>0&&this.getFadeTextEffect().Play("+ "+t.amount,this.FadeTextEffectPrefab.position),this.ShowActionToolTip(t))},r.SocketOnRematch=function(t){null==t.isOutRoom||1!=t.isOutRoom?1==this.ReMatchButton.interactable&&(this.ReMatchButton.node.active=!1,this.AcceptButton.node.active=!0,this.EndLabel.string="Opponent want a rematch","rematch"==t.type&&this.ShowActionToolTip(null,"<b>Opponent want a rematch")):this._onQuitMatch()},r.CaculateCombo=function(t){var e=this,i=[];i.push(t);for(var n=function(n){var a=e.PlayingCards.findIndex((function(e){return null!=e.data&&e.data%13==t.data%13+n}));if(a<0)return"break";i.push(e.PlayingCards[a])},a=1;a<5;a++){if("break"===n(a))break}for(var o=function(n){var a=e.PlayingCards.findIndex((function(e){return null!=e.data&&e.data%13==t.data%13-n}));if(a<0)return"break";i.push(e.PlayingCards[a])},r=1;r<5;r++){if("break"===o(r))break}if(i.length>=3)return i.sort((function(t,e){return e.data%13-t.data%13})),i;var l=this.PlayingCards.findIndex((function(e){return null!=e.data&&e.data%13==t.data%13}));return l>=0?((i=[]).push(t),i.push(this.PlayingCards[l]),i):[t]},r.highLightCardCombo=function(t,e){var i=this;if(void 0===e&&(e=2600),clearTimeout(this.highLightCardComboTimeout),!t)return this.HighlightSprites.forEach((function(t){t.node.active=!1})),this.KingGamebitPlayer_Me.showCardCombo(),void this.KingGamebitPlayer_Enemy.showCardCombo();this.highLightCardComboTimeout=setTimeout((function(){i.HighlightSprites.forEach((function(t){t.node.active=!1}));for(var t=i.CaculateCombo(i.KingGamebitPlayer_Enemy.playingCard),e=i.HighlightSpriteFrames[t.length-1],n=0;n<i.HighlightSprites.length;n++)if(n<t.length){var a=i.HighlightSprites[n];a.spriteFrame=e,a.node.active=!0,a.node.setWorldPosition(t[n].node.worldPosition)}i.KingGamebitPlayer_Me.showCardCombo(),i.KingGamebitPlayer_Enemy.showCardCombo()}),e)},r.sendSeverCheckEvent=function(){this.sendSeverCheckEventTimeout=setTimeout((function(){L.check()}),5e3),this.sendSeverCheckEventTimeout1=setTimeout((function(){L.check()}),1e4),L.check()},r.clearTimeoutSeverCheckEvent=function(){clearTimeout(this.sendSeverCheckEventTimeout),clearTimeout(this.sendSeverCheckEventTimeout1)},r.getFadeTextEffect=function(){var t=P(this.FadeTextEffectPrefab);return t.setParent(this.PotLabel.node.parent),t.getComponent(O)},r.ShowActionToolTip=function(t,e){void 0===e&&(e=null);var i=.25,n="";null!=e?n=e:t.player==R.ownerId?"fold"==t.action?n="<b><color=#ffffff>YOU </color><color=#FF4975>FOLD </color>":"call"==t.action?n=t.amount>0?"<b><color=#ffffff>YOU </color><color=#FFDC5F>CALL + "+t.amount+"</color>":"<b><color=#ffffff>YOU </color><color=#FFDC5F>CHECK</color>":"raise"==t.action&&(n=0==this.KingGamebitPlayer_Me.currentLE?"<b><color=#FF59DB>ALL IN!  YOU'RE THE BOSS</color>":"<b><color=#ffffff>YOU </color><color=#65FF87>RAISE + "+t.amount+"</color>"):"fold"==t.action?n="<b><color=#ffffff>OPPONENT </color><color=#FF4975>FOLD </color>":"call"==t.action?n=t.amount>0?"<b><color=#ffffff>OPPONENT </color><color=#FFDC5F>CALL + "+t.amount+"</color>":"<b><color=#ffffff>OPPONENT </color><color=#FFDC5F>CHECK</color>":"raise"==t.action&&(n=0==this.KingGamebitPlayer_Enemy.currentLE?"<b><color=#FF59DB>ALL IN! BE CAREFUL</color>":"<b><color=#ffffff>OPPONENT </color><color=#65FF87>RAISE + "+t.amount+"</color>"),this.actionToolTipRichText.string=n,I.stopAllByTarget(this.actionToolTipUIOpacity),I.stopAllByTarget(this.actionToolTipUIOpacity.node),this.actionToolTipUIOpacity.opacity=0,this.actionToolTipUIOpacity.node.setPosition(-190,-80,0);var a=C(this.actionToolTipUIOpacity.node).to(i,{position:S(-190,50,0)}),o=C(this.actionToolTipUIOpacity.node).delay(.5).to(i,{position:S(-190,180,0)});C(this.actionToolTipUIOpacity.node).sequence(a,o).start();var r=C(this.actionToolTipUIOpacity).to(i,{opacity:255}),l=C(this.actionToolTipUIOpacity).delay(.5).to(i,{opacity:0});C(this.actionToolTipUIOpacity).sequence(r,l).start()},r.OnChatSend=function(){var t=this;F.AsyncDelay(50).then((function(){t.ChatEditBox.setFocus()})),""!=this.ChatEditBox.string&&(L.chat(this.ChatEditBox.string,this.ChatLobbys[0].active),this.ChatEditBox.string="")},r.SystemChat=function(t,e){""!=e&&this.getChatItem().Init(F.MinimnizeUserID(t),t==R.ownerId?T.Green:T.Red,e,T.Yellow)},r.SocketOnChat=function(t){t.toAll?t.publicAddress==R.ownerId?this.getChatItem(!0).Init(F.MinimnizeUserID(t.publicAddress),T.Green,t.msg,T.White):this.getChatItem(!0).Init(F.MinimnizeUserID(t.publicAddress),T.Grey,t.msg,T.White):t.publicAddress==R.ownerId?this.getChatItem().Init(F.MinimnizeUserID(t.publicAddress),T.Green,t.msg,T.White):this.getChatItem().Init(F.MinimnizeUserID(t.publicAddress),T.Red,t.msg,T.White)},r.getChatItem=function(t){void 0===t&&(t=!1);var e=t?this.ChatContentLobby:this.ChatContent,i=P(this.KingGamebitChatItemPrefab);return i.setParent(e),i.setSiblingIndex(0),e.children.length>this.chatMaxItem&&e.children[e.children.length-2].destroy(),i.getComponent(v)},r.ChatLobbyClick=function(){for(var t=0;t<this.ChatLobbys.length;t++)this.ChatLobbys[t].active=!0,this.ChatRooms[t].active=!1},r.ChatRoomClick=function(){for(var t=0;t<this.ChatLobbys.length;t++)this.ChatLobbys[t].active=!1,this.ChatRooms[t].active=!0},o(e,[{key:"leRaiseSliderProgress",get:function(){return this.leRaiseSlider.progress},set:function(t){var e=k.clamp(t,0,1);this.leRaiseSlider.progress=e,this.leRaiseEditBox.string=Math.floor(this.minRaise+e*this.deltaRaise).toString()}},{key:"currentPot",get:function(){return this._currentPot},set:function(t){this._currentPot=t,this.PotLabel.string=F.numberWithCommas(t)}},{key:"minRaise",get:function(){var t=Math.max(this.StackValues[this.currentStackSelect],2*Math.abs(this.KingGamebitPlayer_Me.currentLE-this.KingGamebitPlayer_Enemy.currentLE));return Math.min(this.maxRaise,t)}},{key:"maxRaise",get:function(){return this.KingGamebitPlayer_Me.currentLE}},{key:"deltaRaise",get:function(){return this.maxRaise-this.minRaise}}]),e}(M)).prototype,"ruleBook",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mt=e(Pt.prototype,"StackButtons",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Tt=e(Pt.prototype,"StackPlayerLabels",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),vt=e(Pt.prototype,"StackLabel",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rt=e(Pt.prototype,"PreMatchToolTipLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ft=e(Pt.prototype,"PreMatchFindMatchBockInput",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wt=e(Pt.prototype,"PreMatchFindMatchBtn",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Et=e(Pt.prototype,"PreMatchUIOpacity",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gt=e(Pt.prototype,"table",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lt=e(Pt.prototype,"tableGlow",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),At=e(Pt.prototype,"MatchUIOpacity",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ot=e(Pt.prototype,"leRaiseSlider",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bt=e(Pt.prototype,"leRaiseEditBox",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_t=e(Pt.prototype,"PotLabel",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xt=e(Pt.prototype,"KingGamebitPlayer_Me",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ut=e(Pt.prototype,"KingGamebitPlayer_Enemy",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kt=e(Pt.prototype,"PlayingCards",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),zt=e(Pt.prototype,"CardStack",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ht=e(Pt.prototype,"stackSpriteFrames",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Dt=e(Pt.prototype,"stackSprite",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nt=e(Pt.prototype,"BetPanel",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wt=e(Pt.prototype,"EndLabel",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vt=e(Pt.prototype,"ReMatchButton",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qt=e(Pt.prototype,"AcceptButton",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yt=e(Pt.prototype,"kingGamebitClockRematch",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qt=e(Pt.prototype,"FadeTextEffectPrefab",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jt=e(Pt.prototype,"CardSpriteFrames",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Jt=e(Pt.prototype,"HighlightSpriteFrames",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Xt=e(Pt.prototype,"HighlightSprites",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Zt=e(Pt.prototype,"DotNodes",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$t=e(Pt.prototype,"AnnounceSpine",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=e(Pt.prototype,"actionToolTipUIOpacity",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=e(Pt.prototype,"actionToolTipRichText",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=e(Pt.prototype,"KingGamebitChatItemPrefab",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=e(Pt.prototype,"ChatContent",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=e(Pt.prototype,"ChatContentLobby",[gt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=e(Pt.prototype,"ChatEditBox",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=e(Pt.prototype,"ChatLobbys",[Ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),le=e(Pt.prototype,"ChatRooms",[St],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),kt=Pt))||kt));r._RF.pop()}}}));

System.register("chunks:///_virtual/KingGamebitChatItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,n,a,r,l,o,s,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,o=e.Label,s=e.Color,c=e.Component}],execute:function(){var h,b,u,g,p,C,m;e("KingGamebitChatColor",void 0),r._RF.push({},"92d55hBigJLF4YczABO665L","KingGamebitChatItem",void 0);var L,G=l.ccclass,f=l.property;!function(e){e[e.Green=0]="Green",e[e.Red=1]="Red",e[e.Yellow=2]="Yellow",e[e.White=3]="White",e[e.Grey=4]="Grey"}(L||(L=e("KingGamebitChatColor",{})));e("KingGamebitChatItem",(h=G("KingGamebitChatItem"),b=f(o),u=f(o),h((C=t((p=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,n(t,"TitleLabel",C,a(t)),n(t,"TextLabel",m,a(t)),t.kingGamebitChatColors=["#00BA7B","#E33A76","#FFE168","#FFFFFF","#AD66CF"],t}i(t,e);var r=t.prototype;return r.Init=function(e,t,i,n){this.TitleLabel.string=e+":",this.TitleLabel.color=new s(this.kingGamebitChatColors[t]),this.TextLabel.string=i,this.TextLabel.color=new s(this.kingGamebitChatColors[n]),this.node.active=!0},r.InitSpacing=function(e){this.TitleLabel.string="",this.TextLabel.string=e,this.TextLabel.color=new s(this.kingGamebitChatColors[L.Yellow]),this.node.active=!0},t}(c)).prototype,"TitleLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(p.prototype,"TextLabel",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=p))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/KingGamebitClock.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserModel.ts"],(function(e){"use strict";var t,i,n,o,r,a,l,s,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Label,s=e.Sprite,c=e.Component},function(e){u=e.UserModel}],execute:function(){var d,h,p,m,f,b,g;r._RF.push({},"ca8baqOc3xBDb8aecXW+qve","KingGamebitClock",void 0);var v=a.ccclass,T=a.property;e("KingGamebitClock",(d=v("KingGamebitClock"),h=T(l),p=T(s),d((b=t((f=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"timeLabel",b,o(t)),n(t,"timeSprite",g,o(t)),t.onDoneCd=null,t.totalTime=0,t.endTime=0,t}i(t,e);var r=t.prototype;return r.update=function(e){null!=this.onDoneCd&&(u.serverTime<this.endTime?this.updateView():(this.onDoneCd(),this.onDoneCd=null,this.node.active=!1))},r.updateView=function(){var e=this.endTime-u.serverTime;this.timeLabel.string=this.addZeroToText(Math.floor(e/1e3).toString()),this.timeSprite.fillRange=e/this.totalTime},r.Show=function(e,t,i){this.totalTime=e,this.endTime=t+e,this.onDoneCd=i,this.updateView(),this.node.active=!0},r.Hide=function(){this.onDoneCd=null,this.node.active=!1},r.addZeroToText=function(e){return e.length<2?"0"+e:e},t}(c)).prototype,"timeLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=t(f.prototype,"timeSprite",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=f))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/KingGamebitPlayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayingCard.ts","./KingGamebit.ts","./Utility.ts","./KingGamebitClock.ts","./UserModel.ts"],(function(i){"use strict";var t,e,n,r,o,a,l,c,s,u,h,b,d,m,g,p,f,C,y,k,v;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,r=i.assertThisInitialized,o=i.createClass},function(i){a=i.cclegacy,l=i._decorator,c=i.Label,s=i.Sprite,u=i.Node,h=i.RichText,b=i.Vec3,d=i.tween,m=i.color,g=i.v3,p=i.Component},function(i){f=i.PlayingCard},function(i){C=i.KingGamebitAction},function(i){y=i.Utility},function(i){k=i.KingGamebitClock},function(i){v=i.UserModel}],execute:function(){var G,I,A,L,w,E,D,_,z,H,S,T,F,M,P,K,W,R,U,B,x,O,Y,j,N;a._RF.push({},"b45fbljYHVPYKYoIH+6Tw0F","KingGamebitPlayer",void 0);var V=l.ccclass,Z=l.property;i("KingGamebitPlayer",(G=V("KingGamebitPlayer"),I=Z(f),A=Z(c),L=Z(c),w=Z(s),E=Z(s),D=Z(u),_=Z(u),z=Z(k),H=Z(s),S=Z(h),T=Z(u),G((P=t((M=function(i){function t(){for(var t,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return t=i.call.apply(i,[this].concat(o))||this,n(t,"playingCard",P,r(t)),n(t,"IdLabel",K,r(t)),n(t,"leLabel",W,r(t)),n(t,"panel",R,r(t)),n(t,"leIcon",U,r(t)),n(t,"Wins",B,r(t)),n(t,"Actions",x,r(t)),n(t,"kingGamebitClock",O,r(t)),n(t,"cardsCombo",Y,r(t)),n(t,"cardComboLabel",j,r(t)),n(t,"cardComboHolder",N,r(t)),t.cardData=void 0,t._userID=void 0,t._currentLE=void 0,t._currentAction=0,t.kingGamebit=null,t.isMyTurn=!1,t.colorString=["#FFFFFF","#9B9B9B"],t}e(t,i);var a=t.prototype;return a.Init=function(i,t,e,n,r,o){this.kingGamebit=o,this.cardData=i,this.currentLE=t,this.userID=e,this.playingCard.Init(i,o.CardStack.worldPosition),this.EnableMyTurn(n),n&&0!=r?this.kingGamebitClock.Show(this.kingGamebit.Config_turnTime,r,this.callCheck.bind(this)):this.kingGamebitClock.Hide()},a.Reset=function(){this.playingCard.Reset(),this.currentAction=null,this.Wins.forEach((function(i){i.active=!1})),this.kingGamebitClock.Hide(),this.cardComboHolder.active=!1},a.ShowWin=function(i){this.EnableMyTurn(!0,!0),i==this.userID&&(this.Wins[0].setScale(b.ZERO),this.Wins.forEach((function(i){i.active=!0})),d(this.Wins[0]).delay(.3).to(.4,{scale:b.ONE}).start())},a.onAction=function(i){if(i.player!=this.userID)return this.EnableMyTurn(!0),void this.kingGamebitClock.Show(this.kingGamebit.Config_turnTime,i.createdAt,this.callCheck.bind(this));this.kingGamebitClock.Hide(),this.EnableMyTurn(!1),this.currentLE-=i.amount;var t="";"raise"==i.action?(this.currentAction=C.raise,t="Raise "+i.amount):"call"==i.action?0==i.amount?(this.currentAction=C.check,t="Check"):(this.currentAction=C.call,t="Call "+i.amount):"fold"==i.action&&(this.currentAction=C.fold,t="Fold"),0==this.currentLE&&(this.currentAction=C.allIn),this.kingGamebit.SystemChat(this.userID,t)},a.EnableMyTurn=function(i,t){void 0===t&&(t=!1);var e=this.colorString[i?0:1];this.panel.color=m(e),this.leLabel.color=this.panel.color,this.IdLabel.color=this.panel.color,this.leIcon.color=this.panel.color,this.Actions[0].parent.parent.active=!!t||!i,this.isMyTurn=i},a.callCheck=function(){this.userID!=v.ownerId&&this.kingGamebit.sendSeverCheckEvent()},a.showCardCombo=function(){if(null!=this.cardData){this.cardComboHolder.active||(this.cardComboHolder.active=!0,this.cardComboHolder.setScale(0,0,0),d(this.cardComboHolder).delay(.8).to(.3,{scale:g(1,1,1)},{easing:"backOut"}).start());for(var i=this.kingGamebit.CaculateCombo(this.playingCard),t=0;t<this.cardsCombo.length;t++)t<i.length?(this.cardsCombo[t].node.active=!0,this.cardsCombo[t].spriteFrame=this.kingGamebit.CardSpriteFrames[i[t].data%13]):this.cardsCombo[t].node.active=!1;this.cardComboLabel.string=this.kingGamebit.Config_ComboText[i.length-1]}else this.cardComboHolder.active=!1},o(t,[{key:"userID",get:function(){return this._userID},set:function(i){null!=i&&(this._userID=i,this.IdLabel.string=y.MinimnizeUserID(i))}},{key:"currentLE",get:function(){return this._currentLE},set:function(i){null!=i&&(this._currentLE=i,this.leLabel.string=y.numberWithCommas(i))}},{key:"currentAction",get:function(){return this._currentAction},set:function(i){this._currentAction=i;for(var t=0;t<this.Actions.length;t++)this.Actions[t].active=!1;null!=i?(this.Actions[0].parent.active=!0,this.Actions[+i].active=!0):this.Actions[0].parent.active=!1}}]),t}(p)).prototype,"playingCard",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(M.prototype,"IdLabel",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(M.prototype,"leLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(M.prototype,"panel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(M.prototype,"leIcon",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(M.prototype,"Wins",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=t(M.prototype,"Actions",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=t(M.prototype,"kingGamebitClock",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(M.prototype,"cardsCombo",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=t(M.prototype,"cardComboLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(M.prototype,"cardComboHolder",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=M))||F));a._RF.pop()}}}));

System.register("chunks:///_virtual/LeInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventSystem.ts","./UserModel.ts","./Utility.ts"],(function(e){"use strict";var t,n,i,r,s,o,a,c,l,u,b,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){s=e.cclegacy,o=e._decorator,a=e.Label,c=e.Component},function(e){l=e.GlobalEvents,u=e.EventType},function(e){b=e.UserModel},function(e){h=e.Utility}],execute:function(){var L,f,p,m,E;s._RF.push({},"d9baburMt9MrIrKOkcSGWt0","LeInfo",void 0);var y=o.ccclass,v=o.property;e("LeInfo",(L=y("LeInfo"),f=v(a),L((E=t((m=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return t=e.call.apply(e,[this].concat(s))||this,i(t,"leLabel",E,r(t)),t.currentLE=-1,t.cb=void 0,t}n(t,e);var s=t.prototype;return s.onEnable=function(){this.cb=l.subscribe(u.LE_INFO_UPDATED,this.onLeChange.bind(this)),this.currentLE=b.LE,this.leLabel.string=h.numberWithCommas(b.LE)},s.onLeChange=function(e){this.currentLE!=e&&(this.currentLE=e,this.node.activeInHierarchy?this.TweenLE(e):this.leLabel.string=h.numberWithCommas(e))},s.onDisable=function(){l.unsubscribe(u.LE_INFO_UPDATED,this.cb)},s.TweenLE=function(e){var t=this,n=h.numberWithCommasToInt(this.leLabel.string);h.tweenNumber(n,e,.5,(function(e){t.leLabel.string=h.numberWithCommas(e)})).start()},t}(c)).prototype,"leLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=m))||p));s._RF.pop()}}}));

System.register("chunks:///_virtual/LoginManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserModel.ts","./UIPopupManager.ts","./ResourcesManager.ts","./FarmingServicesApi.ts"],(function(e){"use strict";var n,t,a,o,i,r,c,s,l,u,g,f,p,d,h,m;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){c=e.cclegacy,s=e._decorator,l=e.Node,u=e.sys,g=e.native,f=e.Component},function(e){p=e.UserModel},function(e){d=e.UIPopupManager},function(e){h=e.ResourcesManager},function(e){m=e.FarmingServicesApi}],execute:function(){var M,v,L,b,S,I,w,R,k,y,_,N,C,A,E,T,D;c._RF.push({},"a27dd8sK+pAE4uLsIQ4dGik","LoginManager",void 0);var F=s.ccclass,Q=s.property;e("LoginManager",(M=F("LoginManager"),v=Q(l),L=Q(l),b=Q(l),S=Q(l),I=Q(l),w=Q(l),R=Q(l),M((_=n((y=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return n=e.call.apply(e,[this].concat(i))||this,a(n,"ScanMask",_,o(n)),a(n,"mobileNode",N,o(n)),a(n,"webNode",C,o(n)),a(n,"btnScanQR",A,o(n)),a(n,"btnImportPhoto",E,o(n)),a(n,"btnMetamask",T,o(n)),a(n,"getQR_description",D,o(n)),n}t(n,e);var c=n.prototype;return c.ShowLogin=function(){p.Token?this.LoginSuccess():this.node.active=!0},c.start=function(){var e=!1;u.platform==u.Platform.ANDROID&&(e=!0),this.mobileNode.active=e,this.webNode.active=!e,this.registerEvent()},c.OnBtnMetaClick=function(){d.Instance.Loading(!0);var e="",n="",t="",a="PVU plantvsundead.com signing: ";function o(){return c.apply(this,arguments)}function c(){return(c=i(r().mark((function o(){var i,c,s;return r().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return i=window.ethereum,o.next=3,i.request({method:"personal_sign",params:[a+t,n]}).catch((function(e){d.Instance._LoginManager.LoginFail(),d.Instance.ShowToast("Error","MetaMask Login failed!",0)}));case 3:(c=o.sent)?(e=c.toString(),s=function(e){var n=JSON.parse(e);0==n.status?(p.Token=n.data.token,d.Instance._LoginManager.LoginSuccess()):l(n.status)},m.PostRequestUserAuth(n,e,a,s,u)):(d.Instance._LoginManager.LoginFail(),d.Instance.ShowToast("Error","MetaMask Login failed!",0));case 6:case"end":return o.stop()}}),o)})))).apply(this,arguments)}function s(){return(s=i(r().mark((function e(){var a,c,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.ethereum,e.next=3,a.request({method:"eth_requestAccounts"}).catch((function(e){d.Instance._LoginManager.LoginFail(),d.Instance.ShowToast("Error","MetaMask Login failed!",0)}));case 3:(c=e.sent)?(n=c[0],s=function(){var e=i(r().mark((function e(a){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(a),0!=(i=JSON.parse(a)).status){e.next=7;break}t=i.data.nonce,o(),e.next=14;break;case 7:if(7!=i.status){e.next=13;break}return e.next=10,m.RequestRegisterAccount(n);case 10:m.RequestLoginWithMeta(n,s,u),e.next=14;break;case 13:l(i.status);case 14:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),m.RequestLoginWithMeta(n,s,u)):(d.Instance._LoginManager.LoginFail(),d.Instance.ShowToast("Error","MetaMask Login failed!",0));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var l=function(e){d.Instance._LoginManager.LoginFail(),d.Instance.ShowToast("Error",h.Instance.GetErrorMessage(e),0)},u=function(e){d.Instance._LoginManager.LoginFail()};void 0!==window.ethereum&&window.ethereum.isMetaMask?function(){s.apply(this,arguments)}():(d.Instance.ShowToast("Error","Can not detect MetaMask!",0),d.Instance._LoginManager.LoginFail())},c.LoginFail=function(){d.Instance.Loading(!1)},c.LoginSuccess=function(){this.node.active=!1,d.Instance.Loading(!1),d.Instance.OnLoginSuccess()},c.registerEvent=function(){cc.OnQRCodeRespone=function(e){this.ScanMask.active=!1,console.log("QR respone: ",e),p.Token=e,d.Instance._LoginManager.LoginSuccess()}.bind(this),cc.OnQRCodeResponeError=function(e){this.ScanMask.active=!1,d.Instance.ShowToast("Error","Cannot read Image",0)}.bind(this)},c.OnBtnScanClick=function(){if(this.registerEvent(),u.platform==u.Platform.ANDROID)g.reflection.callStaticMethod("com/cocos/game/QR_CodeReader","scan","(Ljava/lang/String;)V","this is a message from JavaScript");else{this.ScanMask.active=!0;g.reflection.callStaticMethod("AppDelegate","callNativeUIWithTitle:andContent:","cocos2d-js","Yes! you call a Native UI from Reflection")}},c.stopScan=function(){g.reflection.callStaticMethod("AppDelegate","cancelScanQR:andContent:","cocos2d-js","Yes! you call a Native UI from Reflection")},c.OnBtnChoseClick=function(){if(u.platform==u.Platform.ANDROID)g.reflection.callStaticMethod("com/cocos/game/QR_CodeReader","ChooseImage","(Ljava/lang/String;)V","this is a message from JavaScript");else g.reflection.callStaticMethod("AppDelegate","chooseQRImage:andContent:","cocos2d-js","Yes! you call a Native UI from Reflection")},n}(f)).prototype,"ScanMask",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=n(y.prototype,"mobileNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(y.prototype,"webNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(y.prototype,"btnScanQR",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(y.prototype,"btnImportPhoto",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(y.prototype,"btnMetamask",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(y.prototype,"getQR_description",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=y))||k));c._RF.pop()}}}));

System.register("chunks:///_virtual/LotteryMiniGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TabHistoryLottery.ts","./TabResultLottery.ts","./TabBuyTicketLottery.ts","./UIButtonTab.ts"],(function(t){"use strict";var i,e,n,o,r,a,s,u,l,b,c,y;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Node,u=t.Component},function(t){l=t.TabHistoryLottery},function(t){b=t.TabResultLottery},function(t){c=t.TabBuyTicketLottery},function(t){y=t.UIButtonTab}],execute:function(){var h,p,T,H,f,B,d,k,w,R,m,L,g,S,v,_;r._RF.push({},"29be7qLAE1DrZsxhUF62ZU4","LotteryMiniGame",void 0);var z=a.ccclass,I=a.property;t("LotteryMiniGame",(h=z("LotteryMiniGame"),p=I(s),T=I(b),H=I(l),f=I(y),B=I(y),d=I(y),h(((_=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return i=t.call.apply(t,[this].concat(r))||this,n(i,"tabBuyTicket",R,o(i)),n(i,"tabResult",m,o(i)),n(i,"tabHistory",L,o(i)),n(i,"btnBuyTicket",g,o(i)),n(i,"btnResult",S,o(i)),n(i,"btnHistory",v,o(i)),i._tabBuyTicket=null,i}e(i,t);var r=i.prototype;return r.Show=function(){null==i.Instance&&(i.Instance=this,this._tabBuyTicket=this.tabBuyTicket.getComponent(c)),this.node.active=!0,this.OnBtnShowTabBuyTicket()},r.onDestroy=function(){i.Instance=null},r.Hide=function(){this.node.active=!1,this.node.getComponent},r.OnBtnShowTabBuyTicket=function(){this._tabBuyTicket.Show(),this.tabResult.Hide(),this.tabHistory.Hide(),this.btnBuyTicket.Show(),this.btnResult.Hide(),this.btnHistory.Hide()},r.OnBtnShowTabResult=function(){this.tabResult.Show(),this.tabHistory.Hide(),this._tabBuyTicket.Hide(),this.btnResult.Show(),this.btnHistory.Hide(),this.btnBuyTicket.Hide()},r.OnBtnShowTabHistory=function(){this.tabHistory.Show(),this._tabBuyTicket.Hide(),this.tabResult.Hide(),this.btnHistory.Show(),this.btnBuyTicket.Hide(),this.btnResult.Hide()},i}(u)).Instance=null,R=i((w=_).prototype,"tabBuyTicket",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=i(w.prototype,"tabResult",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=i(w.prototype,"tabHistory",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=i(w.prototype,"btnBuyTicket",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=i(w.prototype,"btnResult",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=i(w.prototype,"btnHistory",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=w))||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./ConfigApi.ts","./FarmingServicesApi.ts","./ResHttp.ts","./ConfigGame.ts","./dealOrNoDealConfig.ts","./AdsBannerController.ts","./FarmChatUI.ts","./FarmItemChatUI.ts","./FarmToastSpeakerUI.ts","./FarmTransferLEItem.ts","./FarmTransferLETab.ts","./FarnSpeakerUI.ts","./FarmInfoUI.ts","./CrowKingManager.ts","./FadeSpriteEffect.ts","./FarmBannerUI.ts","./FarmBiddingUI.ts","./FarmDecorBuff.ts","./FarmDecorUI.ts","./FarmInventoryItem.ts","./FarmInventoryItemPet.ts","./FarmInventoryUI.ts","./FarmKingCrowRewardUI.ts","./FarmPage.ts","./FarmPet.ts","./FarmPetFeed.ts","./FarmPetItem.ts","./FarmPetList.ts","./FarmPetListItem.ts","./FarmPlantUI.ts","./FarmPopupFilterDecorUI.ts","./FarmPopupFilterPetUI.ts","./FarmPopupFilterPlantUI.ts","./FarmRewardUI.ts","./FarmRewardUIItem.ts","./FarmSelectFaction.ts","./FarmSynergyUI.ts","./FarmUI.ts","./PetSkillZoneInfo.ts","./PlantSlot.ts","./WorldMapBannerUI.ts","./WorldMapClickPanel.ts","./WorldMapControl.ts","./WorldMapFilterUI.ts","./WorldMapUI.ts","./BettingMiniGame.ts","./CrowHuntingMiniGame.ts","./UIIconCrowHunting.ts","./UIPrizeCrowHunting.ts","./DealOrNoDealMiniGame.ts","./DondSoundController.ts","./ItemDond_Chat.ts","./PanelDond_CaseValue.ts","./PanelDond_Chat.ts","./PanelDond_CountDownNextGame.ts","./PanelDond_CountDownVote.ts","./PanelDond_LastDealOffer.ts","./PanelDond_NumberUser.ts","./PanelDond_Offer.ts","./PanelDond_Result.ts","./PanelDond_VoteCases.ts","./PanelDond_Waiting.ts","./PanelDond_YourBet.ts","./UIItemDondCase.ts","./UIItemDondCaseValue.ts","./UIItemDondCaseVote.ts","./FadeTextEffect.ts","./KingGamebit.ts","./KingGamebitChatItem.ts","./KingGamebitClock.ts","./KingGamebitPlayer.ts","./PlayingCard.ts","./LotteryMiniGame.ts","./PopupChoseNumbers.ts","./PopupPrizeStructure.ts","./PopupPurchaseOption.ts","./TabBuyTicketLottery.ts","./TabHistoryLottery.ts","./TabResultLottery.ts","./UIButtonTab.ts","./UIItemChoseNumber.ts","./UIItemLottery.ts","./UIItemLotteryResult.ts","./UIItemMyTicketLotteries.ts","./UIItemNumberLottery.ts","./UIItemRoundLottery.ts","./UIPages.ts","./MiniGame.ts","./EventSystem.ts","./ResourcesManager.ts","./SoundController.ts","./UserModel.ts","./NativeSocketDondHandler.ts","./NativeSocketHandler.ts","./SocketDealOrNoDealHandler.ts","./SocketFarmHandler.ts","./SocketKingGamebitHandler.ts","./UIPopupBidAd.ts","./LoginManager.ts","./UIItemElementMyAsset.ts","./UIItemMyAsset.ts","./UIItemMyAssetPlant.ts","./UIItemMyAssetsBidding.ts","./UIPopupMyAssets.ts","./PopupConfirmUI.ts","./UIItemShop.ts","./UIPopupShop.ts","./UIAirDrop.ts","./UICrowKing.ts","./UIDescriptionInfo.ts","./UIMinigameMenu.ts","./UIPopupLobbyManager.ts","./UIPopupManager.ts","./UIPopupNotification.ts","./UIScreenMain.ts","./UISetting.ts","./UIToast.ts","./UIWeather.ts","./FreeTicketInfo.ts","./GemInfo.ts","./IconInfo.ts","./LeInfo.ts","./PetFoodInfo.ts","./ScareCrowInfo.ts","./UIInputAddSub.ts","./UIToggle.ts","./WateringInfo.ts","./AutoReturnPrefab.ts","./ButtonAnim.ts","./ButtonToggle.ts","./EngineHelper.ts","./NodeShaking.ts","./ParticlePlayHelper.ts","./PopUpBase.ts","./PrefabController.ts","./ScrollOptimizeGames.ts","./SimplePool.ts","./SpriteRatioHelper.ts","./UIFitWidthHelper.ts","./Utility.ts","./VFXminigameBetting.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MiniGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BettingMiniGame.ts","./LotteryMiniGame.ts","./UIPopupManager.ts","./UserModel.ts","./CrowHuntingMiniGame.ts","./DealOrNoDealMiniGame.ts"],(function(i){"use strict";var e,t,n,r,a,o,l,u,s,c,b,m,p,g,M,h,G;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,r=i.assertThisInitialized},function(i){a=i.cclegacy,o=i._decorator,l=i.Node,u=i.Label,s=i.Sprite,c=i.SpriteFrame,b=i.Component},function(i){m=i.BettingMiniGame},function(i){p=i.LotteryMiniGame},function(i){g=i.UIPopupManager},function(i){M=i.UserModel},function(i){h=i.CrowHuntingMiniGame},function(i){G=i.DealOrNoDealMiniGame}],execute:function(){var d,y,f,w,S,H,F,z,B,L,I,T,v,D,U,k,P,_,x,C,N,Q,R,j,E;a._RF.push({},"58ab93R5EVGvaEQ+1rj/p6m","MiniGame",void 0);var O=o.ccclass,A=o.property;i("MiniGame",(d=O("MiniGame"),y=A(l),f=A(u),w=A(s),S=A(c),H=A(c),F=A(l),z=A(l),B=A(m),L=A(p),I=A(h),T=A(G),d((U=e((D=function(i){function e(){for(var e,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return e=i.call.apply(i,[this].concat(a))||this,n(e,"nodeFreeTicket",U,r(e)),n(e,"txtFreTicket",k,r(e)),n(e,"bgSprite",P,r(e)),n(e,"bgBettingSF",_,r(e)),n(e,"bgLotterySF",x,r(e)),n(e,"BtnTabs",C,r(e)),n(e,"LeIcon",N,r(e)),n(e,"bettingMiniGame",Q,r(e)),n(e,"lotteryMiniGame",R,r(e)),n(e,"crowHuntingMiniGame",j,r(e)),n(e,"dondMiniGame",E,r(e)),e}t(e,i);var a=e.prototype;return a.start=function(){this.onBtnTab(null,M.minigameSceneType)},a.onBtnTab=function(i,e){"0"==e?(this.lotteryMiniGame.Hide(),this.crowHuntingMiniGame.Hide(),this.dondMiniGame.Hide(),this.bettingMiniGame.Show(this),this.bgSprite.spriteFrame=this.bgBettingSF):"1"==e?(this.lotteryMiniGame.Show(),this.crowHuntingMiniGame.Hide(),this.bettingMiniGame.Hide(),this.dondMiniGame.Hide(),this.bgSprite.spriteFrame=this.bgLotterySF):"2"==e?(this.lotteryMiniGame.Hide(),this.bettingMiniGame.Hide(),this.dondMiniGame.Hide(),this.crowHuntingMiniGame.Show(),this.bgSprite.spriteFrame=this.bgLotterySF):"3"==e&&(this.lotteryMiniGame.Hide(),this.bettingMiniGame.Hide(),this.dondMiniGame.Show(),this.crowHuntingMiniGame.Hide(),this.bgSprite.spriteFrame=this.bgLotterySF)},a.onBtnSetting=function(){g.Instance.ShowUISetting(this.onQuit.bind(this))},a.onBtnBack=function(){g.Instance.ShowUIMinigameMenu()},a.onQuit=function(){g.Instance.ShowUIMinigameMenu()},e}(b)).prototype,"nodeFreeTicket",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(D.prototype,"txtFreTicket",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(D.prototype,"bgSprite",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(D.prototype,"bgBettingSF",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(D.prototype,"bgLotterySF",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(D.prototype,"BtnTabs",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=e(D.prototype,"LeIcon",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(D.prototype,"bettingMiniGame",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(D.prototype,"lotteryMiniGame",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(D.prototype,"crowHuntingMiniGame",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(D.prototype,"dondMiniGame",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=D))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/NativeSocketDondHandler.ts",["cc","./ConfigApi.ts","./EventSystem.ts"],(function(n){"use strict";var o,e,t,c,i;return{setters:[function(n){o=n.cclegacy,e=n.native},function(n){t=n.ConfigApi},function(n){c=n.GlobalEvents,i=n.EventType}],execute:function(){o._RF.push({},"9168fgSZyVOeo1XQxkWYQlc","NativeSocketDondHandler",void 0);var a=n("NativeSocketDondHandler",function(){function n(){}return n.Connect=function(n){e.reflection.callStaticMethod("com/cocos/game/DondSocketIO","Connect","(Ljava/lang/String;Ljava/lang/String;)V",t.LINK_WSS_DOND,n)},n.Disconnect=function(){e.reflection.callStaticMethod("com/cocos/game/DondSocketIO","Disconnect","()V")},n.Emit=function(n,o){e.reflection.callStaticMethod("com/cocos/game/DondSocketIO","EmitEvent","(Ljava/lang/String;Ljava/lang/String;)V",n,JSON.stringify(o))},n.onConnect=function(){c.publish(i.Socket_onConnectCallback,null)},n.onDisconnect=function(){console.log("onDisconnect")},n.onConnectError=function(){c.publish(i.Socket_onErrorCallback,null)},n.onClose=function(){console.log("onClose")},n.OnGameInit=function(n){c.publish(i.Socket_Dond_GameInit,JSON.parse(n))},n.OnPlayerInfo=function(n){c.publish(i.Socket_Dond_PlayerInfo,JSON.parse(n))},n.OnNotice=function(n){c.publish(i.Socket_Dond_Notice,JSON.parse(n))},n.OnVotingResult=function(n){c.publish(i.Socket_Dond_Voting_Result,JSON.parse(n))},n.OnRemoveVoting=function(n){c.publish(i.Socket_Dond_Remove_Voting,JSON.parse(n))},n.OnGameProgress=function(n){c.publish(i.Socket_Dond_Game_Progress,JSON.parse(n))},n.OnChat=function(n){c.publish(i.Socket_Dond_Chat,JSON.parse(n))},n.OnBet=function(n){c.publish(i.Socket_Dond_Bet,JSON.parse(n))},n.OnUpdateCases=function(n){c.publish(i.Socket_Dond_Update_Cases,JSON.parse(n))},n.OnShowDeal=function(n){c.publish(i.Socket_Dond_Show_Deal,JSON.parse(n))},n.OnDeal=function(n){c.publish(i.Socket_Dond_Deal,JSON.parse(n))},n.OnRemianingCases=function(n){c.publish(i.Socket_Dond_Remaining_Cases,JSON.parse(n))},n.OnSelectCase=function(n){c.publish(i.Socket_Dond_Select_Case,JSON.parse(n))},n.OnAutoDeal=function(n){c.publish(i.Socket_Dond_Auto_Deal,JSON.parse(n))},n.OnGameStatistics=function(n){c.publish(i.Socket_Dond_Game_Statistics,JSON.parse(n))},n.OnRemovedCases=function(n){c.publish(i.Socket_Dond_Removed_Case,JSON.parse(n))},n}());window.NativeSocketDondHandler=a,o._RF.pop()}}}));

System.register("chunks:///_virtual/NativeSocketHandler.ts",["cc","./EventSystem.ts"],(function(n){"use strict";var o,t,e,c;return{setters:[function(n){o=n.cclegacy,t=n.native},function(n){e=n.GlobalEvents,c=n.EventType}],execute:function(){o._RF.push({},"aaaabN4ZE1Dfo+V6dyo1kD1","NativeSocketHandler",void 0);var a=n("NativeSocketHandler",function(){function n(){}return n.Connect=function(n,o){t.reflection.callStaticMethod("com/cocos/game/FramSocketIO","Connect","(Ljava/lang/String;Ljava/lang/String;)V",o,n)},n.Disconnect=function(){t.reflection.callStaticMethod("com/cocos/game/FramSocketIO","Disconnect","()V")},n.Emit=function(n,o){t.reflection.callStaticMethod("com/cocos/game/FramSocketIO","EmitEvent","(Ljava/lang/String;Ljava/lang/String;)V",n,JSON.stringify(o))},n.onConnect=function(){e.publish(c.Socket_onConnectCallback,null)},n.onDisconnect=function(){console.log("onDisconnect")},n.onConnectError=function(){e.publish(c.Socket_onErrorCallback,null)},n.onClose=function(){console.log("onClose")},n.onChat=function(n){e.publish(c.Socket_onChatCallback,JSON.parse(n))},n.onChatAll=function(n){e.publish(c.Socket_onChatAllCallback,JSON.parse(n))},n.onSlotUpdate=function(n){e.publish(c.Socket_onSlotUpdateCallback,JSON.parse(n))},n.onChangeLand=function(n){e.publish(c.Socket_onChangeLand,JSON.parse(n))},n.onChangeNumberViewer=function(n){e.publish(c.Socket_onChangeNumberViewer,JSON.parse(n))},n.onErr=function(n){e.publish(c.Socket_onErr,JSON.parse(n))},n.onNotice=function(n){e.publish(c.Socket_onNotice,JSON.parse(n))},n.onHitCrowKing=function(n){e.publish(c.Socket_onHitCrowKing,JSON.parse(n))},n}());window.NativeSocketHandler=a,o._RF.pop()}}}));

System.register("chunks:///_virtual/NodeShaking.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,o,a,r,s,l,h,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Vec3,l=t.CCFloat,h=t.tween,u=t.Component}],execute:function(){var c,m,g,_,d,p,f,w,R;a._RF.push({},"be971FLByBF+agCXt8wd0al","NodeShaking",void 0);var S=r.ccclass,b=r.property;t("NodeShaking",(c=S("NodeShaking"),m=b(s),g=b(l),_=b(l),c((f=e((p=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(e,"shakeStrength",f,o(e)),n(e,"timeScale",w,o(e)),n(e,"restBetweenShake",R,o(e)),e.m_leftRotation=void 0,e.m_rightRotation=void 0,e.m_originaRotation=void 0,e.m_targetRotation=void 0,e.m_rotateTween=void 0,e}i(e,t);var a=e.prototype;return a.onLoad=function(){this.m_leftRotation=new s(new s(this.node.eulerAngles).subtract(this.shakeStrength)),this.m_rightRotation=new s(new s(this.node.eulerAngles).add(this.shakeStrength)),this.node.setRotationFromEuler(this.m_leftRotation),this.m_originaRotation=this.m_leftRotation,this.m_targetRotation=this.m_rightRotation},a.onEnable=function(){var t=this;this.timeScale<=0||(null!=this.m_rotateTween&&(this.m_rotateTween.stop(),this.m_rotateTween=null),this.m_rotateTween=h(this.m_leftRotation).to(this.timeScale,this.m_rightRotation,{easing:"linear",onUpdate:function(e,i){t.node.setRotationFromEuler(e)}}).to(this.timeScale,this.m_leftRotation,{easing:"linear",onUpdate:function(e,i){t.node.setRotationFromEuler(e)},onComplete:function(){t.node.isValid&&t.m_rotateTween.start()}}),this.m_rotateTween.start())},a.onDisable=function(){null!=this.m_rotateTween&&this.m_rotateTween.stop(),this.m_rotateTween=null},e}(u)).prototype,"shakeStrength",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s(0,0,10)}}),w=e(p.prototype,"timeScale",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),R=e(p.prototype,"restBetweenShake",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),d=p))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/PanelDond_CaseValue.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dealOrNoDealConfig.ts","./UIItemDondCaseValue.ts","./DealOrNoDealMiniGame.ts","./Utility.ts"],(function(e){"use strict";var t,i,n,a,o,r,s,l,u,c,p,d,f,h,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,s=e.Node,l=e.Sprite,u=e.SpriteFrame,c=e.Component},function(e){p=e.dealOrNoDealConfig},function(e){d=e.UIItemDondCaseValue,f=e.UIItemDondCaseValueState},function(e){h=e.DealOrNoDealMiniGame},function(e){m=e.Utility}],execute:function(){var C,I,b,y,S,D,v,_,B,A,T,g,w;o._RF.push({},"36b84XyAcRD1oQl96iZI3hQ","PanelDond_CaseValue",void 0);var N=r.ccclass,U=r.property;e("PanelDond_CaseValue",(C=N("PanelDond_CaseValue"),I=U(s),b=U(s),y=U([d]),S=U(l),D=U([u]),C((B=t((_=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"panelBet",B,a(t)),n(t,"panelNoneBet",A,a(t)),n(t,"listCase",T,a(t)),n(t,"yourBet",g,a(t)),n(t,"spriteFrameList",w,a(t)),t.data=null,t}i(t,e);var o=t.prototype;return o.Show=function(){this.node.active||(this.node.active=!0)},o.Hide=function(){this.node.active&&(this.node.active=!1)},o.UpdateRemainingCases=function(e){},o.UpdateRemovedCases=function(e){var t=this;null!=e&&e.map((function(e,i){t.listCase[e.caseNumber-1].UpdateState(f.Close)}))},o.ShowYourBet=function(){this.yourBet.node.parent.active=!0;var e=h.Instance.GetBettingAmount(),t=p.VALID_BETTING_AMOUNT.findIndex((function(t){return t==e}));this.yourBet.spriteFrame=this.spriteFrameList[t],this.listCase.map((function(t,i){t.Init(i+1,m.numberWithCommas(parseFloat((p.VALID_RATE_LIST[i]*e).toFixed(2))))}))},o.UpdateState=function(e){var t=this;switch(this.data=e,e.state){case p.GAME_STATE.BETTING_PHASE:case p.GAME_STATE.VOTING_PHASE:h.Instance.GetBettingAmount()<=0?(this.listCase.map((function(e,t){e.UpdateState(f.Open)})),this.Hide()):(this.Show(),this.ShowYourBet());break;default:this.Show(),h.Instance.IsViewer()?(this.yourBet.node.parent.active=!1,this.listCase.map((function(e,t){e.Init(t+1,"x"+p.VALID_RATE_LIST[t])}))):this.ShowYourBet();var i=this.data.cases;null!=i&&(this.listCase.map((function(e,t){e.UpdateState(f.Open)})),i.map((function(e,i){1==e.isRemoved&&t.listCase[e.caseNumber-1].UpdateState(f.Close)})))}},t}(c)).prototype,"panelBet",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(_.prototype,"panelNoneBet",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(_.prototype,"listCase",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=t(_.prototype,"yourBet",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(_.prototype,"spriteFrameList",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=_))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/PanelDond_Chat.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SocketDealOrNoDealHandler.ts","./Utility.ts","./UserModel.ts","./ItemDond_Chat.ts"],(function(t){"use strict";var e,n,i,r,a,o,l,s,c,u,h,f,d,p,C,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,l=t.Node,s=t.ScrollView,c=t.EditBox,u=t.instantiate,h=t.sys,f=t.Component},function(t){d=t.SocketDealOrNoDealHandler},function(t){p=t.Utility},function(t){C=t.UserModel},function(t){b=t.ItemDond_Chat}],execute:function(){var m,y,D,g,v,I,_,O,w,P,z;a._RF.push({},"9f06cmBtkNOEbJb7H4ADiAQ","PanelDond_Chat",void 0);var M=o.ccclass,S=o.property;t("PanelDond_Chat",(m=M("PanelDond_Chat"),y=S(l),D=S(l),g=S(s),v=S(c),m((O=e((_=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"prefabItemChatOther",O,r(e)),i(e,"prefabItemChatMine",w,r(e)),i(e,"scrollChat",P,r(e)),i(e,"editChat",z,r(e)),e}n(e,t);var a=e.prototype;return a.OnChat=function(t){var e=null;(e=t.address==C.ownerId?u(this.prefabItemChatMine):u(this.prefabItemChatOther)).parent=this.scrollChat.content,e.setPosition(0,0,0),e.getComponent(b).Init(t)},a.OnBtnSend=function(){if(null!=this.editChat.string&&""!=this.editChat.string){var t=this.editChat.string.trim();d.SendChat(t),this.editChat.string="",0==h.isNative&&this.forcusEditChat()}else this.forcusEditChat()},a.forcusEditChat=function(){var t=this;p.AsyncDelay(50).then((function(){t.editChat.setFocus()}))},e}(f)).prototype,"prefabItemChatOther",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(_.prototype,"prefabItemChatMine",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(_.prototype,"scrollChat",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(_.prototype,"editChat",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=_))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/PanelDond_CountDownNextGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utility.ts","./UserModel.ts"],(function(t){"use strict";var e,n,o,i,a,r,u,l,s,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,u=t.Label,l=t.Component},function(t){s=t.Utility},function(t){c=t.UserModel}],execute:function(){var d,p,h,D,f;a._RF.push({},"cba0fkHQvxM7Im7tdBZ/gQp","PanelDond_CountDownNextGame",void 0);var m=r.ccclass,v=r.property;t("PanelDond_CountDownNextGame",(d=m("PanelDond_CountDownNextGame"),p=v(u),d((f=e((D=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,o(e,"txtCountDown",f,i(e)),e.data=null,e}n(e,t);var a=e.prototype;return a.UpdateState=function(t){null!=t.gameEndAt&&(this.node.active=!0,this.data=t,this.unscheduleAllCallbacks(),this.schedule(this.updateCountDown.bind(this),1))},a.updateCountDown=function(){var t=new Date(this.data.gameEndAt).getTime()-c.serverTime;t<=0&&(t=0),this.txtCountDown.string=s.TimeToString_v3(t)},e}(l)).prototype,"txtCountDown",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=D))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/PanelDond_CountDownVote.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dealOrNoDealConfig.ts","./SoundController.ts","./UserModel.ts"],(function(e){"use strict";var t,i,n,l,o,r,a,u,s,c,p,b,m,h,d,f,g,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,a=e.Sprite,u=e.SpriteFrame,s=e.Label,c=e.UITransform,p=e.Animation,b=e.Color,m=e.Vec3,h=e.Component},function(e){d=e.dealOrNoDealConfig},function(e){f=e.SoundController,g=e.EnumSound},function(e){T=e.UserModel}],execute:function(){var y,A,S,w,D,C,_,v,z,L,E,N,P,F,I,M,U,V,k;o._RF.push({},"5f7d2Uua8JFT7p2nvERxJ6S","PanelDond_CountDownVote",void 0);var R=r.ccclass,G=r.property;e("PanelDond_CountDownVote",(y=R("PanelDond_CountDownVote"),A=G(a),S=G([u]),w=G(s),D=G(s),C=G(c),_=G(p),v=G(b),z=G(b),y((N=t((E=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"title",N,l(t)),n(t,"titleList",P,l(t)),n(t,"labelState",F,l(t)),n(t,"labelTime",I,l(t)),n(t,"labelTran",M,l(t)),n(t,"labelAnim",U,l(t)),n(t,"colorNormal",V,l(t)),n(t,"colorTimeout",k,l(t)),t.data=null,t.isAniming=!1,t}i(t,e);var o=t.prototype;return o.UpdateState=function(e){f.Instance.StopSoundLoop(),this.data=e,this.isAniming=!1,this.labelAnim.stop(),e.state==d.GAME_STATE.VOTING_RESULT?(this.title.spriteFrame=null,this.labelState.string="",this.labelTime.string="",this.unscheduleAllCallbacks()):(this.title.spriteFrame=this.titleList[e.state],this.labelState.string=d.GAME_STATE_NAME[e.state],this.labelTime.color=this.colorNormal,this.labelTran.node.scale=new m(1,1,1),this.unscheduleAllCallbacks(),this.schedule(this.updateCountDown.bind(this),1))},o.updateCountDown=function(){var e=(new Date(this.data.phaseEndAt).getTime()-T.serverTime)/1e3;e<=10&&0==this.isAniming&&(this.isAniming=!0,this.labelTime.color=this.colorTimeout,this.labelAnim.play(),f.Instance.PlaySoundLoop(g.Lock_Dond)),e<=0&&(e=0),this.labelTime.string=parseInt(e+"")+""},t}(h)).prototype,"title",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(E.prototype,"titleList",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(E.prototype,"labelState",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(E.prototype,"labelTime",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(E.prototype,"labelTran",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(E.prototype,"labelAnim",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(E.prototype,"colorNormal",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(E.prototype,"colorTimeout",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=E))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/PanelDond_LastDealOffer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dealOrNoDealConfig.ts","./DealOrNoDealMiniGame.ts","./Utility.ts","./UIItemDondCaseVote.ts","./DondSoundController.ts","./UserModel.ts"],(function(t){"use strict";var e,n,a,i,s,l,o,r,c,u,h,S,f,p,C,d,b,D,I,w,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,o=t.Button,r=t.Label,c=t.Sprite,u=t.UITransform,h=t.Node,S=t.log,f=t.Component},function(t){p=t.dealOrNoDealConfig},function(t){C=t.DealOrNoDealMiniGame},function(t){d=t.Utility},function(t){b=t.UIItemDondCaseVote,D=t.UIItemDondCaseVoteState},function(t){I=t.DondSoundController,w=t.DondSoundEnum},function(t){v=t.UserModel}],execute:function(){var G,g,y,U,m,P,A,V,B,x,O,_,N,F,K,z,T,L,E,k,H,M,R;s._RF.push({},"e7f4aEgjrlOqqGLqbn6HNkk","PanelDond_LastDealOffer",void 0);var X=l.ccclass,q=l.property;t("PanelDond_LastDealOffer",(G=X("PanelDond_LastDealOffer"),g=q(o),y=q(o),U=q(o),m=q(r),P=q(c),A=q(u),V=q(h),B=q([b]),x=q([h]),O=q(r),G((F=e((N=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,a(e,"btnDeal",F,i(e)),a(e,"btnNodeal",K,i(e)),a(e,"btnSwitch",z,i(e)),a(e,"txtOffer",T,i(e)),a(e,"fill",L,i(e)),a(e,"fillTran",E,i(e)),a(e,"iconFill",k,i(e)),a(e,"lastDealCases",H,i(e)),a(e,"statusCases",M,i(e)),a(e,"txtPercentDealVote",R,i(e)),e.data=null,e}n(e,t);var s=e.prototype;return s.Show=function(){this.node.active||(this.node.active=!0,I.Instance.PlaySound(w.SFX_Offer_Appear))},s.Hide=function(){this.node.active&&(this.node.active=!1)},s.update=function(){if(null!=this.data&&null!=this.data.phaseStartAt&&null!=this.data.phaseEndAt){var t=new Date(this.data.phaseStartAt),e=new Date(this.data.phaseEndAt),n=(e.getTime()-v.serverTime)/(e.getTime()-t.getTime());n<0&&(n=0),this.fill.fillRange=n;var a=this.iconFill.position;a.x=this.fillTran.width*n,this.iconFill.position=a}},s.UpdateState=function(t){switch(this.data=t,t.state){case p.GAME_STATE.DEAL_LAST_PHASE:if(this.Show(),C.Instance.isJoined=!1,C.Instance.IsViewer()||C.Instance.IsCompleted())this.SetInteractableAllButton(!1),this.SetGrayButton([this.btnDeal,this.btnNodeal,this.btnSwitch],!0),this.txtOffer.string="x"+t.currentDealRate;else{this.SetInteractableAllButton(!0),this.SetGrayButton([this.btnDeal,this.btnNodeal,this.btnSwitch],!1);var e=parseFloat(t.currentDealRate),n=C.Instance.GetBettingAmount();this.txtOffer.string=d.numberWithCommas(parseFloat((e*n).toFixed(2)))}var a=C.Instance.GetHighestVotedCase(),i=C.Instance.panelVoteCases.GetCaseAvailable();this.GetKeepCaseUI().SetIndexCase(a),this.GetSwitchCaseUI().SetIndexCase(i[0].index),this.txtPercentDealVote.node.parent.active=!1,this.GetKeepCaseUI().SetActivePercentVote(!1),this.GetSwitchCaseUI().SetActivePercentVote(!1),this.SetCaseKeeped(!0);break;default:this.Hide()}},s.UpdatePercentVote=function(t){if(this.node.active){var e=t.lastDealCount+t.switchCaseCount+t.noDealCount;if(e>0){var n=(t.lastDealCount/e*100).toString();this.txtPercentDealVote.string=parseInt(n)+"%",this.txtPercentDealVote.node.parent.active=!0,this.GetKeepCaseUI().SetActivePercentVote(!0),this.GetSwitchCaseUI().SetActivePercentVote(!0)}else this.txtPercentDealVote.string="0%",this.txtPercentDealVote.node.parent.active=!1,this.GetKeepCaseUI().SetActivePercentVote(!1),this.GetSwitchCaseUI().SetActivePercentVote(!1);this.GetKeepCaseUI().UpdateValuePercentVote(t.noDealCount,e),this.GetSwitchCaseUI().UpdateValuePercentVote(t.switchCaseCount,e),(C.Instance.IsViewer()||C.Instance.IsCompleted())&&(t.noDealCount==t.switchCaseCount?(this.SetCaseSpriteState(this.GetSwitchCaseUI(),!1),this.SetCaseSpriteState(this.GetKeepCaseUI(),!1)):(this.SetCaseSpriteState(this.GetSwitchCaseUI(),t.switchCaseCount>t.noDealCount),this.SetCaseSpriteState(this.GetKeepCaseUI(),t.noDealCount>t.switchCaseCount)))}},s.GetSwitchCaseUI=function(){return this.lastDealCases[0]},s.GetKeepCaseUI=function(){return this.lastDealCases[1]},s.SetCaseKeeped=function(t){this.statusCases[0].active=!t,this.statusCases[1].active=t,this.SetCaseSpriteState(this.GetSwitchCaseUI(),!t),this.SetCaseSpriteState(this.GetKeepCaseUI(),t)},s.SetCaseSpriteState=function(t,e){var n=e?D.Close_Select:D.Close_Deactive;t.UpdateSprite(n)},s.SetInteractableAllButton=function(t){this.btnDeal.interactable=t,this.btnNodeal.interactable=t,this.btnSwitch.interactable=t},s.SetGrayButton=function(t,e){t.forEach((function(t){t.node.getComponent(c).grayscale=e}))},s.OnBtnDeal=function(){I.Instance.PlaySound(w.SFX_Click),C.Instance.Deal(),this.SetInteractableAllButton(!1),this.SetGrayButton([this.btnNodeal,this.btnSwitch],!0)},s.OnBtnNoDeal=function(){I.Instance.PlaySound(w.SFX_Click),C.Instance.NoDeal(),this.SetCaseKeeped(!0),this.SetInteractableAllButton(!1),this.SetGrayButton([this.btnDeal,this.btnSwitch],!0)},s.OnBtnSwitch=function(){I.Instance.PlaySound(w.SFX_Click);var t=C.Instance.panelVoteCases.GetSwitchCaseAlphabet();S("OnBtnSwitch:"+t),C.Instance.SwitchCase(t),this.SetCaseKeeped(!1),this.SetInteractableAllButton(!1),this.SetGrayButton([this.btnDeal,this.btnNodeal],!0)},e}(f)).prototype,"btnDeal",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(N.prototype,"btnNodeal",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(N.prototype,"btnSwitch",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(N.prototype,"txtOffer",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(N.prototype,"fill",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(N.prototype,"fillTran",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(N.prototype,"iconFill",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(N.prototype,"lastDealCases",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=e(N.prototype,"statusCases",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=e(N.prototype,"txtPercentDealVote",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=N))||_));s._RF.pop()}}}));

System.register("chunks:///_virtual/PanelDond_NumberUser.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,t,n,i,a,l,o,c;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.Label,c=e.Component}],execute:function(){var u,s,p,b,f,y,P;a._RF.push({},"4176bKvG+9NCaEeJbXcNy7g","PanelDond_NumberUser",void 0);var d=l.ccclass,h=l.property;e("PanelDond_NumberUser",(u=d("PanelDond_NumberUser"),s=h(o),p=h(o),u((y=r((f=function(e){function r(){for(var r,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return r=e.call.apply(e,[this].concat(a))||this,n(r,"labelPlayer",y,i(r)),n(r,"labelParticipant",P,i(r)),r}t(r,e);var a=r.prototype;return a.Show=function(){this.node.active=!0},a.Hide=function(){this.node.active=!1},a.SetNumberUser=function(e,r){this.labelPlayer.string="Player: "+e,this.labelParticipant.string="Participant: "+r},r}(c)).prototype,"labelPlayer",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=r(f.prototype,"labelParticipant",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=f))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/PanelDond_Offer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dealOrNoDealConfig.ts","./DealOrNoDealMiniGame.ts","./Utility.ts","./DondSoundController.ts","./UserModel.ts"],(function(t){"use strict";var e,n,i,a,l,r,o,s,c,u,f,d,h,p,b,D,S,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){l=t.cclegacy,r=t._decorator,o=t.Button,s=t.Label,c=t.Sprite,u=t.UITransform,f=t.Node,d=t.Component},function(t){h=t.dealOrNoDealConfig},function(t){p=t.DealOrNoDealMiniGame},function(t){b=t.Utility},function(t){D=t.DondSoundController,S=t.DondSoundEnum},function(t){m=t.UserModel}],execute:function(){var A,_,T,g,v,w,y,E,O,F,I,N,P,H,x,M,z,C,R;l._RF.push({},"849ffmoMVpMI4uc53hNwPdk","PanelDond_Offer",void 0);var G=r.ccclass,L=r.property;t("PanelDond_Offer",(A=G("PanelDond_Offer"),_=L(o),T=L(o),g=L(o),v=L(s),w=L(s),y=L(c),E=L(u),O=L(f),A((N=e((I=function(t){function e(){for(var e,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return e=t.call.apply(t,[this].concat(l))||this,i(e,"btnDeal",N,a(e)),i(e,"btnNodeal",P,a(e)),i(e,"btnSwitch",H,a(e)),i(e,"txtTitle",x,a(e)),i(e,"txtOffer",M,a(e)),i(e,"fill",z,a(e)),i(e,"fillTran",C,a(e)),i(e,"iconFill",R,a(e)),e.data=null,e}n(e,t);var l=e.prototype;return l.Show=function(){this.node.active||(this.node.active=!0,D.Instance.PlaySound(S.SFX_Offer_Appear))},l.Hide=function(){this.node.active&&(this.node.active=!1)},l.update=function(){if(null!=this.data&&null!=this.data.phaseStartAt&&null!=this.data.phaseEndAt){var t=new Date(this.data.phaseStartAt),e=new Date(this.data.phaseEndAt),n=(e.getTime()-m.serverTime)/(e.getTime()-t.getTime());n<0&&(n=0),this.fill.fillRange=n;var i=this.iconFill.position;i.x=this.fillTran.width*n,this.iconFill.position=i}},l.UpdateState=function(t){if(this.data=t,1!=p.Instance.IsCompleted())switch(t.state){case h.GAME_STATE.DEAL_FIRST_PHASE:case h.GAME_STATE.DEAL_SECOND_PHASE:case h.GAME_STATE.DEAL_THIRD_PHASE:case h.GAME_STATE.DEAL_FOURTH_PHASE:if(this.Show(),this.txtTitle.string="BANK OFFER",p.Instance.IsViewer())this.btnDeal.node.active=!1,this.btnNodeal.node.active=!1,this.btnSwitch.node.active=!1,this.txtOffer.string="x"+t.currentDealRate;else{this.btnDeal.node.active=!0,this.btnNodeal.node.active=!0,this.btnSwitch.node.active=!1;var e=parseFloat(t.currentDealRate),n=p.Instance.GetBettingAmount();this.txtOffer.string=b.numberWithCommas(parseFloat((e*n).toFixed(2)))}break;default:this.Hide()}else this.Hide()},l.OnBtnDeal=function(){p.Instance.Deal(),this.Hide(),D.Instance.PlaySound(S.SFX_Click)},l.OnBtnNoDeal=function(){p.Instance.NoDeal(),this.Hide(),D.Instance.PlaySound(S.SFX_Click)},e}(d)).prototype,"btnDeal",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(I.prototype,"btnNodeal",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(I.prototype,"btnSwitch",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(I.prototype,"txtTitle",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(I.prototype,"txtOffer",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(I.prototype,"fill",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(I.prototype,"fillTran",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(I.prototype,"iconFill",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=I))||F));l._RF.pop()}}}));

System.register("chunks:///_virtual/PanelDond_Result.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utility.ts","./dealOrNoDealConfig.ts","./DealOrNoDealMiniGame.ts","./UserModel.ts","./DondSoundController.ts"],(function(e){"use strict";var t,n,i,a,s,o,l,r,c,u,h,f,S,p,w,d,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){s=e.cclegacy,o=e._decorator,l=e.Node,r=e.sp,c=e.Label,u=e.tween,h=e.Component},function(e){f=e.Utility},function(e){S=e.dealOrNoDealConfig},function(e){p=e.DealOrNoDealMiniGame},function(e){w=e.UserModel},function(e){d=e.DondSoundController,C=e.DondSoundEnum}],execute:function(){var g,v,m,b,R,y,D,_,E,I,P,A,H,O,G;s._RF.push({},"2b41780h6RHVar4Dg7tzaaP","PanelDond_Result",void 0);var V=o.ccclass,z=o.property;e("PanelDond_Result",(g=V("PanelDond_Result"),v=z(l),m=z(l),b=z([r.Skeleton]),R=z([c]),y=z([l]),D=z(c),g((I=t((E=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return t=e.call.apply(e,[this].concat(s))||this,i(t,"panelGameResult",I,a(t)),i(t,"panelShowCase",P,a(t)),i(t,"listCaseSpines",A,a(t)),i(t,"listCaseValues",H,a(t)),i(t,"listEffHighlight",O,a(t)),i(t,"txtOffer",G,a(t)),t.isEffectShowCase=!1,t.tweenShowResult=null,t.data=null,t}n(t,e);var s=t.prototype;return s.onLoad=function(){var e=this;this.tweenShowResult=u(this.node).delay(5).call((function(){e.OnBtnShowCaseConfirm()}))},s.Show=function(e,t){this.node.active=!0,this.SetValueOffer(e),p.Instance.isJoined=!1,this.isEffectShowCase||this.SetActivePanelShowCase(!1)},s.ShowCaseResult=function(e){var t=this;this.node.active=!0,this.isEffectShowCase=!0,this.SetActivePanelShowCase(!0),this.ResetCase();var n=p.Instance.GetHighestVotedCase();d.Instance.PlaySound(C.SFX_Case_Drop),e.cases.forEach((function(i,a){var s=p.Instance.GetIndexByCaseAlplaBet(i.caseAlphabet)!=n?0:1,o=t.listCaseValues[s],l=t.listCaseSpines[s];o.string=i.caseNumber,t.CheckShowHighlight(s),l.setAnimation(0,"Drop_Show",!1),u(l).delay(.8).call((function(){o.node.active=!0,l.setAnimation(0,"Show_static",!0),a==e.cases.length-1&&d.Instance.PlaySound(C.SFX_Last_Case_Open)})).start()})),this.tweenShowResult.start()},s.CheckShowHighlight=function(e){p.Instance.IsViewer()||p.Instance.IsCompleted()||(0==e&&0==p.Instance.GetUserLastAction()||1==e&&0!=p.Instance.GetUserLastAction())&&(this.listEffHighlight[e].active=!0)},s.ResetCase=function(){this.listEffHighlight.forEach((function(e,t){e.active=!1})),this.listCaseValues.forEach((function(e,t){e.node.active=!1,e.string=""}))},s.Hide=function(){this.node.active=!1,this.StopTweenShowResult(),this.isEffectShowCase=!1},s.UpdateState=function(e){switch(this.data=e,e.state){case S.GAME_STATE.BETTING_PHASE:this.Hide()}},s.SetActivePanelShowCase=function(e){this.panelShowCase.active=e,this.panelGameResult.active=!e},s.StopTweenShowResult=function(){this.tweenShowResult&&this.tweenShowResult.stop()},s.SetValueOffer=function(e){this.txtOffer.string=f.numberWithCommas(e)},s.OnBtnQuit=function(){this.Hide()},s.OnBtnContinue=function(){this.Hide(),d.Instance.PlaySound(C.SFX_Receive_Reward)},s.OnBtnShowCaseConfirm=function(){this.StopTweenShowResult(),this.isEffectShowCase=!1;var e=p.Instance.GetLastPhaseReward();e?(w.GEM=e.remainingAmount,this.SetValueOffer(e.reward),this.SetActivePanelShowCase(!1)):this.Hide()},t}(h)).prototype,"panelGameResult",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(E.prototype,"panelShowCase",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(E.prototype,"listCaseSpines",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=t(E.prototype,"listCaseValues",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=t(E.prototype,"listEffHighlight",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=t(E.prototype,"txtOffer",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=E))||_));s._RF.pop()}}}));

System.register("chunks:///_virtual/PanelDond_VoteCases.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dealOrNoDealConfig.ts","./UIItemDondCaseVote.ts","./DealOrNoDealMiniGame.ts","./SocketDealOrNoDealHandler.ts"],(function(e){"use strict";var t,a,i,n,s,o,r,c,l,p,h,A,C,u,E,S,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,o=e._decorator,r=e.Node,c=e.Label,l=e.Sprite,p=e.SpriteFrame,h=e.log,A=e.Component},function(e){C=e.dealOrNoDealConfig},function(e){u=e.UIItemDondCaseVote,E=e.UIItemDondCaseVoteState},function(e){S=e.DealOrNoDealMiniGame},function(e){d=e.SocketDealOrNoDealHandler}],execute:function(){var f,T,_,b,v,G,I,m,V,g,H,U,N,P,O,D,M,x,y,B,R,w,k;s._RF.push({},"5ac50BZOChD0Lwdx1b32uyi","PanelDond_VoteCases",void 0);var L=o.ccclass,K=o.property;e("PanelDond_VoteCases",(f=L("PanelDond_VoteCases"),T=K(r),_=K(c),b=K(r),v=K(r),G=K(l),I=K(p),m=K(p),V=K(r),g=K(c),H=K([u]),f((P=t((N=function(e){function t(){for(var t,a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return t=e.call.apply(e,[this].concat(s))||this,i(t,"txtWaiting",P,n(t)),i(t,"title",O,n(t)),i(t,"blockNode",D,n(t)),i(t,"layout",M,n(t)),i(t,"btnConfirm",x,n(t)),i(t,"spriteConfirmActive",y,n(t)),i(t,"spriteConfirmDeactive",B,n(t)),i(t,"boxKeepCase",R,n(t)),i(t,"txtKeepCase",w,n(t)),i(t,"listCase",k,n(t)),t.caseAlphabet="",t.caseAlphabets=[],t.data=null,t}a(t,e);var s=t.prototype;return s.ResetVote=function(){this.caseAlphabet="",this.caseAlphabets=[]},s.GetSwitchCaseAlphabet=function(){for(var e=0;e<this.listCase.length;e++){var t=this.listCase[e];if(h("GetSwitchCaseAlphabet:"+t.index+":"+e+":"+t.state+":"+t.spriteCase.node.active),1==t.spriteCase.node.active&&t.state==E.Close_Deactive)return h("GetSwitchCaseAlphabet ne:"+t.index),C.CASE_NAMES[t.index].toLocaleLowerCase()}return""},s.UpdatePickedCase=function(e){null!=e&&(this.listCase.map((function(t,a){a==S.Instance.GetIndexByCaseAlplaBet(e.caseAlphabet)&&t.Hide()})),this.txtKeepCase.string=e.caseAlphabet.toUpperCase())},s.UpdateStateCases=function(){var e=this,t=this.data.cases;null!=t&&(t.map((function(t,a){e.listCase[S.Instance.GetIndexByCaseAlplaBet(t.caseAlphabet)].UpdateState(t)})),this.UpdatePercentVote(t))},s.UpdateHighLightVoted=function(e){var t=this;null!=e&&e.map((function(e,a){var i=t.listCase[S.Instance.GetIndexByCaseAlplaBet(e)];i.state!=E.Open_Active&&i.UpdateSprite(E.Close_Select)}))},s.UpdateCases=function(e){for(var t=this,a=0,i=0;i<e.length;i++)null!=e[i].removedVoteCount?a+=e[i].removedVoteCount:a+=e[i].voteCount;e.map((function(e,i){var n=t.listCase[S.Instance.GetIndexByCaseAlplaBet(e.caseAlphabet.toUpperCase())];null!=e.removedVoteCount?n.UpdatePercentVote(e.removedVoteCount,a):n.UpdatePercentVote(e.voteCount,a)}))},s.UpdateRemainingCases=function(e){},s.UpdateRemovedCases=function(e){null!=e&&this.listCase.map((function(t,a){var i=e.find((function(e){return S.Instance.GetIndexByCaseAlplaBet(e.caseAlphabet)==a}));null!=i&&t.ShowCaseNumber(i.caseNumber)}))},s.ChoseCaseToKeep=function(e){e==this.caseAlphabet&&(e=""),this.caseAlphabet=e,this.listCase.map((function(t,a){a==S.Instance.GetIndexByCaseAlplaBet(e)?t.UpdateSprite(E.Close_Select):t.UpdateSprite(E.Close_Deactive)})),""!=this.caseAlphabet?this.btnConfirm.spriteFrame=this.spriteConfirmActive:this.btnConfirm.spriteFrame=this.spriteConfirmDeactive,this.UpdateButtonConfirm()},s.ChoseCaseToRemove=function(e){var t=C.NUMBER_OF_CASES_TO_REMOVE[S.Instance.GetState()],a=this.caseAlphabets.indexOf(e),i=S.Instance.GetIndexByCaseAlplaBet(e);if(-1==a){if(this.caseAlphabets.length==t)return;this.caseAlphabets.push(e),this.listCase[i].UpdateSprite(E.Close_Select)}else this.caseAlphabets.splice(a,1),this.listCase[i].UpdateSprite(E.Close_Deactive);this.UpdateButtonConfirm()},s.HidePercentVote=function(){this.listCase.map((function(e,t){e.SetActivePercentVote(!1)}))},s.UpdateUnSelectCases=function(){this.listCase.map((function(e,t){e.state==E.Close_Select&&e.UpdateSprite(E.Close_Deactive)}))},s.UpdateTxtWaiting=function(){if(1!=S.Instance.IsViewer())switch(S.Instance.GetState()){case C.GAME_STATE.BETTING_PHASE:S.Instance.GetBettingAmount()>0?this.txtWaiting.active=!0:this.txtWaiting.active=!1;break;case C.GAME_STATE.VOTING_SECOND_PHASE:case C.GAME_STATE.VOTING_THIRD_PHASE:case C.GAME_STATE.VOTING_FOURTH_PHASE:case C.GAME_STATE.VOTING_LAST_PHASE:S.Instance.isVotedRemove?this.txtWaiting.active=!0:this.txtWaiting.active=!1;break;default:this.txtWaiting.active=!1}else this.txtWaiting.active=!1},s.SetWaitingOtherPlayer=function(){this.txtWaiting.active=!0},s.UpdateState=function(e){switch(this.caseAlphabet="",this.data=e,this.title.string=C.GAME_STATE_NAME[e.state],this.HidePercentVote(),this.ResetVote(),this.UpdateButtonConfirm(),this.UpdateStateCases(),this.UpdateUnSelectCases(),this.UpdateHighestVotedCase(),this.UpdateTxtWaiting(),e.state){case C.GAME_STATE.RESTING_PHASE:case C.GAME_STATE.BETTING_PHASE:this.node.active=!0,this.blockNode.active=!0,this.listCase.map((function(e,t){e.Show()})),this.UpdateSpriteCases(E.Close_Lock);break;case C.GAME_STATE.VOTING_PHASE:this.node.active=!0,this.blockNode.active=!1,this.listCase.map((function(e,t){e.Show()})),this.UpdateSpriteCases(E.Close_Deactive),this.UpdatePercentVote(e.cases);break;default:this.node.active=!0,this.blockNode.active=!1,this.UpdatePercentVote(e.cases)}},s.UpdatePercentVote=function(e){if(null!=e&&0!=e.length){var t=0;if(S.Instance.GetState()==C.GAME_STATE.VOTING_PHASE){for(var a=0;a<e.length;a++)0==e[a].isRemoved&&(t+=e[a].voteCount);for(var i=0;i<e.length;i++){var n=S.Instance.GetIndexByCaseAlplaBet(e[i].caseAlphabet);this.listCase[n].UpdatePercentVote(e[i].voteCount,t)}}else{for(var s=0;s<e.length;s++)0==e[s].isRemoved&&(t+=e[s].removedVoteCount);for(var o=0;o<e.length;o++){var r=S.Instance.GetIndexByCaseAlplaBet(e[o].caseAlphabet);this.listCase[r].UpdatePercentVote(e[o].removedVoteCount,t)}}}},s.UpdateHighestVotedCase=function(){var e=S.Instance.GetHighestVotedCase();if(e>=0)switch(this.listCase[e].Hide(),this.data.state){case C.GAME_STATE.RESTING_PHASE:case C.GAME_STATE.BETTING_PHASE:case C.GAME_STATE.VOTING_PHASE:this.boxKeepCase.active=!1;break;case C.GAME_STATE.VOTING_SECOND_PHASE:case C.GAME_STATE.VOTING_THIRD_PHASE:case C.GAME_STATE.VOTING_FOURTH_PHASE:case C.GAME_STATE.VOTING_LAST_PHASE:this.boxKeepCase.active=!1,S.Instance.IsViewer()&&(this.boxKeepCase.active=!0,this.txtKeepCase.string=C.CASE_NAMES[S.Instance.GetHighestVotedCase()]);break;default:this.boxKeepCase.active=!0,this.txtKeepCase.string=C.CASE_NAMES[S.Instance.GetHighestVotedCase()]}else this.boxKeepCase.active=!1},s.UpdateButtonConfirm=function(){if(null!=this.data)switch(this.data.state){case C.GAME_STATE.RESTING_PHASE:case C.GAME_STATE.BETTING_PHASE:case C.GAME_STATE.VOTING_RESULT:this.btnConfirm.node.active=!1;break;case C.GAME_STATE.DEAL_FIRST_PHASE:case C.GAME_STATE.DEAL_SECOND_PHASE:case C.GAME_STATE.DEAL_THIRD_PHASE:case C.GAME_STATE.DEAL_FOURTH_PHASE:case C.GAME_STATE.DEAL_LAST_PHASE:this.btnConfirm.node.active=!1,this.boxKeepCase.active=!0;break;default:S.Instance.IsViewer()||S.Instance.isVotedRemove?(this.btnConfirm.node.active=!1,this.boxKeepCase.active=!0):(this.btnConfirm.node.active=!0,0==this.CheckCanConfirm()?this.btnConfirm.spriteFrame=this.spriteConfirmDeactive:this.btnConfirm.spriteFrame=this.spriteConfirmActive)}else this.btnConfirm.node.active=!1},s.CheckCanConfirm=function(){var e=S.Instance.GetState();return e==C.GAME_STATE.VOTING_PHASE?""!=this.caseAlphabet:(e==C.GAME_STATE.VOTING_SECOND_PHASE||e==C.GAME_STATE.VOTING_THIRD_PHASE||e==C.GAME_STATE.VOTING_FOURTH_PHASE||e==C.GAME_STATE.VOTING_LAST_PHASE)&&C.NUMBER_OF_CASES_TO_REMOVE[e]==this.caseAlphabets.length},s.UpdateSpriteCases=function(e){this.listCase.map((function(t,a){t.UpdateSprite(e)}))},s.GetCaseAvailable=function(){return this.listCase.filter((function(e,t){return e.state==E.Close_Deactive&&e.index!=S.Instance.GetHighestVotedCase()}))},s.OnBtnConfirm=function(){0!=S.Instance.CanVoting()&&(S.Instance.IsViewer()||0!=this.CheckCanConfirm()&&(S.Instance.GetState()==C.GAME_STATE.VOTING_PHASE&&S.Instance.isVoted||1!=S.Instance.isVotedRemove&&(this.btnConfirm.node.active=!1,S.Instance.isVotedRemove=!0,S.Instance.isVoted=!0,this.UpdateTxtWaiting(),S.Instance.GetState()==C.GAME_STATE.VOTING_PHASE?(d.VoteKeepCase(this.caseAlphabet),S.Instance.panelVoteCases.SetWaitingOtherPlayer()):d.VoteRemoveCase(this.caseAlphabets))))},t}(A)).prototype,"txtWaiting",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(N.prototype,"title",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(N.prototype,"blockNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(N.prototype,"layout",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(N.prototype,"btnConfirm",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(N.prototype,"spriteConfirmActive",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(N.prototype,"spriteConfirmDeactive",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(N.prototype,"boxKeepCase",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(N.prototype,"txtKeepCase",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(N.prototype,"listCase",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=N))||U));s._RF.pop()}}}));

System.register("chunks:///_virtual/PanelDond_Waiting.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dealOrNoDealConfig.ts","./UserModel.ts"],(function(t){"use strict";var e,n,i,a,o,r,s,l,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,s=t.Label,l=t.Component},function(t){u=t.dealOrNoDealConfig},function(t){c=t.UserModel}],execute:function(){var d,h,p,f,D;o._RF.push({},"0a43fH0ahtI+5hE+Xk60SY9","PanelDond_Waiting",void 0);var g=r.ccclass,v=r.property;t("PanelDond_Waiting",(d=g("PanelDond_Waiting"),h=v(s),d((D=e((f=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,i(e,"txtCountDown",D,a(e)),e.data=null,e}n(e,t);var o=e.prototype;return o.Show=function(){this.node.active||(this.node.active=!0)},o.Hide=function(){this.node.active&&(this.node.active=!1)},o.UpdateState=function(t){switch(this.data=t,t.state){case u.GAME_STATE.RESTING_PHASE:this.Show(),this.updateCountDown(),this.unscheduleAllCallbacks(),this.schedule(this.updateCountDown.bind(this),1);break;default:this.Hide()}},o.updateCountDown=function(){var t=(new Date(this.data.phaseEndAt).getTime()-c.serverTime)/1e3;t<=0&&(t=0),this.txtCountDown.string="WAITING... "+parseInt(t+"")},e}(l)).prototype,"txtCountDown",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/PanelDond_YourBet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SocketDealOrNoDealHandler.ts","./dealOrNoDealConfig.ts","./DealOrNoDealMiniGame.ts","./UserModel.ts"],(function(t){"use strict";var e,i,n,r,o,a,s,u,l,c,p,f,m,d,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Node,u=t.Sprite,l=t.SpriteFrame,c=t.Button,p=t.Component},function(t){f=t.SocketDealOrNoDealHandler},function(t){m=t.dealOrNoDealConfig},function(t){d=t.DealOrNoDealMiniGame},function(t){h=t.UserModel}],execute:function(){var b,B,C,A,v,D,T,g,_,y,E,S,G,L,N,I,P,U,M;o._RF.push({},"3c688iLmCtAHJ4DazbmNyZT","PanelDond_YourBet",void 0);var O=a.ccclass,w=a.property;t("PanelDond_YourBet",(b=O("PanelDond_YourBet"),B=w(s),C=w(u),A=w(l),v=w(l),D=w(s),T=w([l]),g=w([l]),_=w([c]),b((S=e((E=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"nodePoint",S,r(e)),n(e,"btnConfirm",G,r(e)),n(e,"spriteConfirmActive",L,r(e)),n(e,"spriteConfirmDeactive",N,r(e)),n(e,"layout",I,r(e)),n(e,"spriteFrameListActive",P,r(e)),n(e,"spriteFrameListDeActive",U,r(e)),n(e,"buttonBetList",M,r(e)),e.amountCurrent=0,e.data=null,e.canClickConfirm=!1,e}i(e,t);var o=e.prototype;return o.Show=function(){this.node.active||(this.node.active=!0),this.UpdateBtnConfirm(!1)},o.Hide=function(){this.node.active&&(this.node.active=!1)},o.UpdateState=function(t){switch(this.data=t,t.state){case m.GAME_STATE.BETTING_PHASE:case m.GAME_STATE.VOTING_PHASE:d.Instance.GetBettingAmount()<=0?(this.Show(),this.UpdateButtonBet()):this.Hide();break;default:this.Hide()}},o.UpdateButtonBet=function(t){void 0===t&&(t=-1),this.UpdateBtnConfirm(!1);for(var e=0;e<this.buttonBetList.length;e++){m.VALID_BETTING_AMOUNT[e]<=h.GEM?this.buttonBetList[e].getComponent(u).spriteFrame=this.spriteFrameListActive[e]:this.buttonBetList[e].getComponent(u).spriteFrame=this.spriteFrameListDeActive[e]}t>=0&&(this.UpdateBtnConfirm(!0),this.nodePoint.active=!0,this.nodePoint.position=this.buttonBetList[t].node.position)},o.UpdateBtnConfirm=function(t){this.canClickConfirm=t,this.btnConfirm.spriteFrame=1==t?this.spriteConfirmActive:this.spriteConfirmDeactive},o.OnBtnChoseBet=function(t,e){if(d.Instance.GetState()==m.GAME_STATE.BETTING_PHASE){var i=JSON.parse(e);if(this.amountCurrent=i,!(this.amountCurrent>h.GEM)){var n=m.VALID_BETTING_AMOUNT.indexOf(i);this.UpdateButtonBet(n)}}},o.OnBtnConfirmBet=function(){0!=this.canClickConfirm&&d.Instance.GetState()==m.GAME_STATE.BETTING_PHASE&&0!=this.amountCurrent&&(f.Bet(this.amountCurrent),d.Instance.UpdateBettingAmount(this.amountCurrent),d.Instance.panelVoteCases.UpdateTxtWaiting())},e}(p)).prototype,"nodePoint",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(E.prototype,"btnConfirm",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(E.prototype,"spriteConfirmActive",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(E.prototype,"spriteConfirmDeactive",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(E.prototype,"layout",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(E.prototype,"spriteFrameListActive",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=e(E.prototype,"spriteFrameListDeActive",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=e(E.prototype,"buttonBetList",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=E))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/ParticlePlayHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,l,a,n,c,o,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){a=e.cclegacy,n=e._decorator,c=e.CCBoolean,o=e.ParticleSystem,p=e.Component}],execute:function(){var s,u,y,h,f;a._RF.push({},"4026bc2gHlCz6c6pJFsh8Jj","ParticlePlayHelper",void 0);var P=n.ccclass,b=n.property;e("ParticlePlayHelper",(s=P("ParticlePlayHelper"),u=b(c),s((f=t((h=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(t=e.call.apply(e,[this].concat(a))||this).particle=void 0,i(t,"playOnEnable",f,l(t)),t}return r(t,e),t.prototype.onEnable=function(){this.playOnEnable&&(null==this.particle&&(this.particle=this.getComponent(o)),null!=this.particle&&(this.particle.stop(),this.particle.clear(),this.particle.play()))},t}(p)).prototype,"playOnEnable",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),y=h))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/PetFoodInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventSystem.ts","./UserModel.ts","./Utility.ts","./UIPopupManager.ts"],(function(t){"use strict";var n,e,o,i,r,s,a,c,u,l,h,b,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Label,c=t.Component},function(t){u=t.GlobalEvents,l=t.EventType},function(t){h=t.UserModel},function(t){b=t.Utility},function(t){p=t.UIPopupManager}],execute:function(){var f,m,d,P,y;r._RF.push({},"356660JnklIz5kxrP280Ge3","PetFoodInfo",void 0);var I=s.ccclass,g=s.property;t("PetFoodInfo",(f=I("PetFoodInfo"),m=g(a),f((y=n((P=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return n=t.call.apply(t,[this].concat(r))||this,o(n,"label",y,i(n)),n.current=-1,n.cb=void 0,n}e(n,t);var r=n.prototype;return r.onEnable=function(){this.cb=u.subscribe(l.PETFOOD_INFO_UPDATED,this.onChange.bind(this)),this.current=h.PetFood,this.label.string=b.numberWithCommas(h.PetFood)},r.onChange=function(t){this.current!=t&&(this.current=t,this.node.activeInHierarchy?this.Tween(t):this.label.string=b.numberWithCommas(t))},r.onDisable=function(){u.unsubscribe(l.PETFOOD_INFO_UPDATED,this.cb)},r.Tween=function(t){var n=this,e=b.numberWithCommasToInt(this.label.string);b.tweenNumber(e,t,.5,(function(t){n.label.string=b.numberWithCommas(t)})).start()},r.onBtnOpen=function(){p.Instance.ShowUIPopupShop()},n}(c)).prototype,"label",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=P))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/PetSkillZoneInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IconInfo.ts","./ResourcesManager.ts","./ConfigGame.ts"],(function(n){"use strict";var o,t,i,e,r,c,a,s,f,I,l;return{setters:[function(n){o=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){r=n.cclegacy,c=n._decorator,a=n.Node,s=n.Component},function(n){f=n.IconInfo},function(n){I=n.ResourcesManager},function(n){l=n.ConfigGame}],execute:function(){var u,h,p,v,d,b,g,y,w,B,m;r._RF.push({},"1b021yzSLhNW5MtgO5RBTI4","PetSkillZoneInfo",void 0);var P=c.ccclass,S=c.property;n("PetSkillZoneInfo",(u=P("PetSkillZoneInfo"),h=S(f),p=S(f),v=S(a),d=S(a),u((y=o((g=function(n){function o(){for(var o,t=arguments.length,r=new Array(t),c=0;c<t;c++)r[c]=arguments[c];return o=n.call.apply(n,[this].concat(r))||this,i(o,"IconInfos1",y,e(o)),i(o,"IconInfos2",w,e(o)),i(o,"Base",B,e(o)),i(o,"BG",m,e(o)),o}t(o,n);var r=o.prototype;return r.Show=function(n,o,t){switch(this.Base.worldPosition=o.worldPosition,this.BG.active=t,this.node.active=!0,this.IconInfos1.forEach((function(n){n.Init(null)})),this.IconInfos2.forEach((function(n){n.Init(null)})),n.length){case 1:case 3:for(var i=0;i<n.length;i++){var e=n[i];this.initIconInfo(this.IconInfos1[i],e)}this.IconInfos2[0].node.parent.active=!1;break;case 6:for(var r=0;r<3;r++){var c=n[r];this.initIconInfo(this.IconInfos1[r],c)}for(var a=3;a<6;a++){var s=n[a];this.initIconInfo(this.IconInfos2[a-3],s)}this.IconInfos2[0].node.parent.active=!0;break;default:for(var f=0;f<5;f++){var I=n[f];this.initIconInfo(this.IconInfos1[f],I)}for(var l=5;l<9;l++){var u=n[l];this.initIconInfo(this.IconInfos2[l-5],u)}this.IconInfos2[0].node.parent.active=!0}},r.initIconInfo=function(n,o){I.Instance.LoadFactionSprite(o,(function(t){n.Init(t,"Faction: "+l.FactionText[o],!0)}))},r.Hide=function(){this.BG.active||(this.node.active=!1)},r.onHide=function(){this.node.active=!1},o}(s)).prototype,"IconInfos1",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=o(g.prototype,"IconInfos2",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=o(g.prototype,"Base",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=o(g.prototype,"BG",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=g))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/PlantSlot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConfigGame.ts","./UserModel.ts","./ResourcesManager.ts","./ResHttp.ts","./ConfigApi.ts","./UIPopupManager.ts","./PrefabController.ts","./Utility.ts","./AutoReturnPrefab.ts"],(function(t){"use strict";var e,i,n,a,o,r,s,l,c,u,f,h,p,d,S,m,b,g,I,y,v,_,w,k,P,A,Z,T,D,U;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,s=t._decorator,l=t.Sprite,c=t.Node,u=t.Label,f=t.sp,h=t.SpriteFrame,p=t.v3,d=t.v2,S=t.Vec2,m=t.sys,b=t.ParticleSystem,g=t.Component},function(t){I=t.ConfigGame,y=t.EnumPlantSlotStage},function(t){v=t.UserModel,_=t.FarmWorldState},function(t){w=t.ResourcesManager},function(t){k=t.ResHttp},function(t){P=t.ConfigApi},function(t){A=t.UIPopupManager},function(t){Z=t.PrefabEnum,T=t.PrefabController},function(t){D=t.Utility},function(t){U=t.AutoReturnPrefab}],execute:function(){var B,F,E,C,H,L,M,N,z,O,x,G,q,R,V,W,K,X,Y,$,j,J,Q,tt,et,it,nt,at,ot,rt,st,lt,ct,ut,ft;t("PlantAnimName",void 0),r._RF.push({},"af7df+3gZVAS5duuVtHcCmk","PlantSlot",void 0);var ht,pt=s.ccclass,dt=s.property;t("PlantSlot",(B=pt("PlantSlot"),F=dt(l),E=dt(c),C=dt(u),H=dt(l),L=dt(c),M=dt({type:f.Skeleton}),N=dt(c),z=dt(c),O=dt(c),x=dt(l),G=dt(l),q=dt(h),R=dt(c),V=dt(c),W=dt(c),K=dt(c),B(($=e((Y=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"baseSprite",$,a(e)),n(e,"myDecorHighlight",j,a(e)),n(e,"TimeHarvestLabel",J,a(e)),n(e,"decorSprite",Q,a(e)),n(e,"plantSpineHolder",tt,a(e)),n(e,"plantSpine",et,a(e)),n(e,"selectNode",it,a(e)),n(e,"skillzoneNode",nt,a(e)),n(e,"abilityZoneNode",at,a(e)),n(e,"shadow",ot,a(e)),n(e,"crowSprite",rt,a(e)),n(e,"crowSpriteFrame",st,a(e)),n(e,"crow_good",lt,a(e)),n(e,"water",ct,a(e)),n(e,"harvest",ut,a(e)),n(e,"steal",ft,a(e)),e._isStealAble=!1,e.isAirDrop=!1,e.farmUI=void 0,e._d=void 0,e.enumPlantSlotState=void 0,e.yourbid=0,e.tempData=null,e.tempBuffOut=[],e.tempAbilityOut=[],e.tempSelectFaction=1,e.isMotherTreeSlot=void 0,e.config=void 0,e.buffIn=[],e.buffOut=[],e.abilityBuffIn=[],e.abilityBuffOut=[],e.ssSuportEffect=0,e.ssSabotageEffect=0,e}i(e,t);var r=e.prototype;return r.Init=function(t,e){this.farmUI=t},r.fillData=function(t,e,i){if(void 0===i&&(i=!1),this._d=t,this.yourbid=0,i&&this.ClearBuff(),this.decorSprite.node.active=!1,this.plantSpine.node.active=!1,this.shadow.node.active=!1,t.actionInfos.isHaveCrow?(this.crowSprite.node.active=!0,this.crowSprite.spriteFrame=this.crowSpriteFrame[0]):this.crowSprite.node.active=!1,this.water.active=t.actionInfos.isNeedWater,null!=t.decoEffects&&null!=t.decoEffects.isGoodCrow&&1==t.decoEffects.isGoodCrow?this.crow_good.active=!0:this.crow_good.active=!1,this.TimeHarvestLabel.node.parent.active=!1,this.myDecorHighlight.active=!1,this.harvest.active=!1,this.isStealAble=!1,this.isAirDrop=!1,this.isMotherTreeSlot=this._d.location[0]==I.MotherTreeSlot.x&&this._d.location[1]==I.MotherTreeSlot.y,0==t.type)this.isMotherTreeSlot=!1,this.shadow.spriteFrame=this.farmUI.plantSlotShadows[0],this.enumPlantSlotState=y.decor,null!=t.decInfos&&(this.config=this.farmUI.GetConfigByDecorId(t.decInfos.uniqueId.toString()),this.ShowDecorImage(this.config.name,null),this.myDecorHighlight.active=t.decInfos.ownerId==v.ownerId);else if(1==t.type){var n=t.harvestTime-v.serverTime;if(n=Math.max(n,0),t.ownerId==v.ownerId&&null!=t.plantInfos.uniqueId?!this.water.active&&n<=0?this.harvest.active=!0:(n<=I.ShowPlantHarvestTimer&&(this.TimeHarvestLabel.node.parent.active=!0,this.TimeHarvestLabel.string=Math.floor(n/6e4)+"m"),null!=t.airDropLeAmount&&v.farmWorldInfo.isAirDropTime&&(this.harvest.active=!this.water.active&&t.airDropLeAmount>0,this.harvest.active&&(this.isAirDrop=!0))):null==t.plantInfos.uniqueId||this.isMotherTreeSlot||(this.isStealAble=!0),this.shadow.spriteFrame=this.farmUI.plantSlotShadows[1],null!=t.plantInfos.uniqueId){this.config=this.farmUI.GetConfigByPlantId(t.plantInfos.plantId.toString(),t.plantInfos.origin,t.plantInfos.faction);var a=ht.Idle;(n<=0||null!=t.airDropLeAmount&&t.airDropLeAmount>0)&&(a=ht.Full),2==this.config.plant.type?this.ShowPlantSpine(this.config.name,null,a):this.ShowPlantSpine(this.config.name+t.stage,null,a)}if(e==_.BIDDING){var o=!1;if(t.ownerId)t.ownerId&&(t.ownerId==v.ownerId?this.enumPlantSlotState=y.land_your:null!=t.plantInfos.uniqueId?this.enumPlantSlotState=y.land_other:this.enumPlantSlotState=y.bidEnd);else{o,null!=t.prices.biddingUser&&t.prices.biddingUser.length>0?this.enumPlantSlotState=y.bidnow_havebid:this.enumPlantSlotState=y.bidNow;var r=0,s=!1;if(null!=t.prices.biddingUser)for(var l=0;l<t.prices.biddingUser.length;l++){var c=t.prices.biddingUser[l].price;t.prices.biddingUser[l].userId==v.ownerId&&(this.enumPlantSlotState=y.bidding,this.yourbid=c,s=!0),c>r&&(r=c)}r>this.yourbid&&s&&(this.enumPlantSlotState=y.otherBidGreater)}}else e==_.DEMO?t.ownerId?t.ownerId==v.ownerId?this.enumPlantSlotState=y.land_your:null!=t.ownerId?this.enumPlantSlotState=y.land_other:this.enumPlantSlotState=y.bidDone:this.enumPlantSlotState=y.bidDone:e==_.PRE_BIDDING?this.enumPlantSlotState=y.bidDone:t.ownerId?t.ownerId&&(t.ownerId==v.ownerId?this.enumPlantSlotState=y.land_your:this.enumPlantSlotState=y.land_other):this.enumPlantSlotState=y.rentNow}this.enumPlantSlotState==y.decor?this.baseSprite.node.active=!1:(this.baseSprite.node.active=!0,this.baseSprite.spriteFrame=this.farmUI.plantSlotBaseSpriteFrames[this.enumPlantSlotState+(this.isMotherTreeSlot?y.__length:0)]),this.enumPlantSlotState==y.bidding||this.enumPlantSlotState==y.otherBidGreater?(this.selectNode.setPosition(p(-2,19,0)),this.skillzoneNode.setPosition(p(0,20,0)),this.abilityZoneNode.setPosition(p(0,20,0))):(this.selectNode.setPosition(p(-.5,1,0)),this.skillzoneNode.setPosition(p(0,0,0)),this.abilityZoneNode.setPosition(p(0,0,0)))},r.ClearBuff=function(){this.buffIn=[],this.buffOut=[],this.abilityBuffIn=[],this.abilityBuffOut=[]},r.ShowPlantSpine=function(t,e,i){var n=this;void 0===i&&(i=ht.Idle),this.tempData=e;w.Instance.LoadPlantSpines(t,(function(t){n.plantSpine.node.active=!0,n.shadow.node.active=!0,n.plantSpine.skeletonData=t,n.plantSpine.setAnimation(0,i,!0)})),this.callHighlightTempBuffAffect(),null!=e&&this.playActionFx(Z.VFX_Plant_Planted,this.node.worldPosition)},r.ShowDecorImage=function(t,e){var i=this;this.tempData=e;w.Instance.LoadDecor(t,(function(t){i.decorSprite.spriteFrame=t,i.decorSprite.node.active=!0,i.shadow.node.active=!0})),null!=e&&this.playActionFx(Z.VFX_Plant_Planted,this.node.worldPosition)},r.ClearTempImage=function(){null!=this.tempData&&(this.tempData=null,this.plantSpine.node.active=!1,this.decorSprite.node.active=!1,this.shadow.node.active=!1,this.HighlightTempBuffAffect(!1))},r.onClick=function(){this.farmUI.onSelectPlantSlot(this)},r.Select=function(t){this.selectNode.active=t,t?this.callHighlightTempBuffAffect():this.HighlightTempBuffAffect(!1)},r.HighlightSkillZone=function(t){this.skillzoneNode.active=t},r.HighlightAbilityZone=function(t){this.abilityZoneNode.active=t},r.HighlightBuffAffect=function(t){this.buffOut.forEach((function(e){e.HighlightSkillZone(t)})),this.abilityBuffOut.forEach((function(e){e.HighlightAbilityZone(t)}))},r.callHighlightTempBuffAffect=function(){if(null!=this.tempData&&2!=this.tempData.type){this.HighlightTempBuffAffect(!1);var t=this.farmUI.getTempBaseSynergyData();0==this.tempData.faction?this.tempBuffOut=this.getSkillZone(this.tempData.skillZoneId,this.farmUI.baseSynergyData,!1,this.tempData.faction):this.tempBuffOut=this.getSkillZone(this.tempData.skillZoneId,t,!1,this.tempData.faction),null!=this.tempData.fusedAbilityZone&&(this.tempAbilityOut=this.getAbilityZone(this.tempData.fusedAbilityZone.abilityZoneId,t,!1,this.tempData.faction)),null!=this.tempData.fusedAbility&&this.tempAbilityOut.push(this),this.HighlightTempBuffAffect(!0)}},r.HighlightTempBuffAffect=function(t){this.tempBuffOut.forEach((function(e){e.HighlightSkillZone(t)})),this.tempAbilityOut.forEach((function(e){e.HighlightAbilityZone(t)})),t||(this.tempBuffOut=[],this.tempAbilityOut=[])},r.isMotherTree=function(t){var e=!1;return null!=this.config&&null!=this.config.plant&&(e=2==this.config.plant.type),t&&null!=this.tempData&&null!=this.tempData.plantId&&(e=e||2==this.tempData.type),e},r.isActiveSkill=function(){return this.farmUI.buffSynergyData.data[this._d.plantInfos.faction]>=I.synBreakPoint[I.synBreakPoint.length-2]},r.ApplyBuff=function(){var t=this;null!=this._d.plantInfos.uniqueId&&null!=this.config&&2!=this.config.plant.type&&(this.getSkillZone(this.config.skillZone.skillZoneId,this.farmUI.baseSynergyData,!1,this._d.plantInfos.faction).forEach((function(e){e.buffIn.push(t),t.buffOut.push(e)})),null!=this.config.ability&&(this.abilityBuffIn.push(this),this.abilityBuffOut.push(this)),null!=this.config.abilityZone&&this.getAbilityZone(this.config.abilityZone.abilityZoneId,this.farmUI.baseSynergyData,!1,this._d.plantInfos.faction).forEach((function(e){e.abilityBuffIn.push(t),t.abilityBuffOut.push(e)})))},r.getSkillZone=function(t,e,i,n){switch(t){case"01":return this.SkillZoneType1([d(1,0),d(-1,0)]);case"02":return this.SkillZoneType1([d(0,1),d(0,-1)]);case"07":return this.SkillZoneType1([d(1,1),d(-1,1),d(1,-1),d(-1,-1)]);case"08":return this.SkillZoneType1([d(1,0),d(2,0),d(-1,0),d(-2,0)]);case"09":return this.SkillZoneType1([d(0,1),d(0,2),d(0,-1),d(0,-2)]);case"13":return this.SkillZoneType1([d(0,1),d(0,-1),d(1,0),d(1,1),d(1,-1),d(-1,0),d(-1,1),d(-1,-1)]);case"03":return this.SkillZone_closestSame(n,i,2);case"04":return this.SkillZone04_010(e,i,2,9);case"05":return this.SkillZone_closestMost(e,i,2);case"06":return this.SkillZone06(e,i);case"10":return this.SkillZone04_010(e,i,4,6);case"11":return this.SkillZone011();case"12":return this.SkillZone012(e,i);case"14":return this.SkillZone014(i);default:return[]}},r.getAbilityZone=function(t,e,i,n){switch(t){case"11":return this.SkillZoneType1([d(-1,0)]);case"12":return this.SkillZoneType1([d(1,0)]);case"13":return this.SkillZoneType1([d(0,1)]);case"14":return this.SkillZoneType1([d(0,-1)]);case"15":return this.SkillZone_closestSame(n,i,1);case"16":return this.SkillZone_closestMost(e,i,1);case"21":return this.SkillZoneType1([d(1,0),d(-1,0)]);case"22":return this.SkillZoneType1([d(0,1),d(0,-1)]);case"23":return this.SkillZoneType1([d(-1,1),d(1,-1)]);case"24":return this.SkillZoneType1([d(1,1),d(-1,-1)]);case"25":return this.SkillZone_closestMost(e,i,2);case"26":return this.SkillZone_closestSame(n,i,2);case"31":return this.SkillZoneType1([d(1,1),d(-1,1),d(1,-1),d(-1,-1)]);case"32":return this.SkillZoneType1([d(1,0),d(2,0),d(-1,0),d(-2,0)]);case"33":return this.SkillZoneType1([d(0,1),d(0,2),d(0,-1),d(0,-2)]);case"34":return this.SkillZone_closestMost(e,i,4);case"35":return this.SkillZone_closestSame(n,i,4);case"41":return this.SkillZoneType1([d(1,0),d(2,0),d(-1,0),d(-2,0),d(0,1),d(0,2),d(0,-1),d(0,-2)]);case"42":return this.SkillZoneType1([d(1,1),d(-1,1),d(1,-1),d(-1,-1),d(2,2),d(-2,2),d(2,-2),d(-2,-2)]);case"43":return this.SkillZoneType1([d(0,1),d(0,-1),d(1,0),d(1,1),d(1,-1),d(-1,0),d(-1,1),d(-1,-1)]);case"44":return this.SkillZone_closestMost(e,i,8);case"45":return this.SkillZone_closestSame(n,i,8);default:return[]}},r.SkillZoneType1=function(t){var e=this,i=[];return t.forEach((function(t){var n=e._d.location[0]+t.x,a=e._d.location[1]+t.y;n>=0&&n<I.FarmLandSize&&a>=0&&a<I.FarmLandSize&&i.push(e.farmUI.plantSlots[e.farmUI.SlotLocationToIndex(n,a)])})),i},r.SkillZone_closestSame=function(t,e,i){var n=[],a=[];a.push(this);for(var o=function(i){return null!=i._d.plantInfos.uniqueId&&!i.isMotherTree(e)&&i._d.plantInfos.faction==t},r=0;r<i;r++){var s=this.GetClosest(a,o);if(null==s)return n;a.push(s),n.push(s)}return n},r.SkillZone04_010=function(t,e,i,n){var a=[],o=[];o.push(this);for(var r=function(i){return null!=i._d.plantInfos.uniqueId&&!i.isMotherTree(e)&&t.data[i._d.plantInfos.faction]>=n},s=0;s<i;s++){var l=this.GetClosest(o,r);if(null==l)return a;o.push(l),a.push(l)}return a},r.SkillZone_closestMost=function(t,e,i){var n=[],a=[];a.push(this);for(var o=t.data[1],r=2;r<=9;r++){var s=r.toString();o<t.data[s]&&(o=t.data[s])}for(var l=function(i){return null!=i._d.plantInfos.uniqueId&&!i.isMotherTree(e)&&t.data[i._d.plantInfos.faction]==o},c=0;c<i;c++){var u=this.GetClosest(a,l);if(null==u)return n;a.push(u),n.push(u)}return n},r.SkillZone06=function(t,e){var i=[],n=[];n.push(this);for(var a=0,o=1;o<=9;o++){var r=o.toString();t.data[r]>0&&(a>t.data[r]||a<=0)&&(a=t.data[r])}for(var s=function(i){return null!=i._d.plantInfos.uniqueId&&!i.isMotherTree(e)&&t.data[i._d.plantInfos.faction]==a},l=0;l<2;l++){var c=this.GetClosest(n,s);if(null==c)return i;n.push(c),i.push(c)}return i},r.SkillZone011=function(){var t=this,e=[];return this.farmUI.plantSlots.forEach((function(i){i!=t&&e.push(i)})),e},r.SkillZone012=function(t,e){var i=this,n=[];return this.farmUI.plantSlots.forEach((function(a){a!=i&&!a.isMotherTree(e)&&null!=a._d.plantInfos.uniqueId&&t.data[a._d.plantInfos.faction]>=3&&n.push(a)})),n},r.SkillZone014=function(t){var e=this,i=[];return this.farmUI.plantSlots.forEach((function(n){n==e||n.isMotherTree(t)||null==n._d.plantInfos.uniqueId||"common"!=n.config.plant.rarity&&"rare"!=n.config.plant.rarity||i.push(n)})),i},r.GetClosest=function(t,e){for(var i=0,n=d(this._d.location[0],this._d.location[1]),a=null,o=0;o<I.FarmLandSize;o++)for(var r=0;r<I.FarmLandSize;r++){var s=this.farmUI.plantSlots[this.farmUI.SlotLocationToIndex(o,r)],l=S.distance(n,d(o,r));-1==t.findIndex((function(t){return t==s}))&&e(s)&&(null==a||i>l)&&(a=s,i=l)}return a},r.GetSynergyBuff=function(){var t=this,e=0;if(null==this._d.plantInfos.faction||null==this.config)return e;if(2==this.config.plant.type)return e;var i=function(e,i){void 0===i&&(i=1);var n=t.SkillZoneType1([d(0,1),d(0,-1),d(1,0),d(1,1),d(1,-1),d(-1,0),d(-1,1),d(-1,-1)]),a=0;return n.forEach((function(e){null!=e._d.plantInfos.faction&&e._d.plantInfos.faction==t._d.plantInfos.faction&&a++})),a>=e?i:0};return this.buffIn.forEach((function(t){if(t.isActiveSkill())switch(t.config.skill.skillId){case"25":e+=i(6);break;case"50":e+=i(5);break;case"69":e+=i(4)}})),e},r.GetLEBuff=function(){for(var t=this,e=0,i=I.PlantLEBuffCap,n=I.PlantLEBuffCap,a=0,o=1;o<10;o++)this.farmUI.buffSynergyData.data[o]>=I.synBreakPoint[I.synBreakPoint.length-2]&&a++;var r=this.farmUI.buffSynergyData.data[this._d.plantInfos.faction],s=0;this.farmUI.plantSlots.forEach((function(t){null==t._d.plantInfos.plantId||t.isMotherTree(!1)||s++}));var l=function(t,e){return t*e};this.buffIn.forEach((function(o){if(o.isActiveSkill()){var r=I.getSynEffect(t.farmUI.buffSynergyData.data[o._d.plantInfos.faction]);switch(o.config.skill.skillId){case"01":e+=l(.06,r);break;case"02":e+=l(.08,r);break;case"03":e+=l(.1,r);break;case"22":e+=l(.0025*a,r);break;case"23":e+=l(.005*a,r);break;case"24":e+=l(.0075*a,r);break;case"26":e+=l(.11,r);break;case"27":e+=l(.13,r);break;case"28":e+=l(.15,r);break;case"38":e+=l(.01*a,r);break;case"39":e+=l(.0125*a,r);break;case"40":e+=l(.015*a,r);break;case"51":e+=l(.16,r);break;case"52":e+=l(.18,r);break;case"53":e+=l(.2,r);break;case"71":e+=l(.02*s,1),i=1.3;break;case"73":"common"==t.config.plant.rarity?(e+=l(.25,1),n=I.PlantLEBuffCap+.25):"rare"==t.config.plant.rarity&&(e+=l(.2,1),n=I.PlantLEBuffCap+.2)}}})),this._d.currentEffects.forEach((function(t){"2"==t.plantUniqueId.toString().slice(0,1)&&(e+=I.MotherTreeBuff[t.skillId].effect)}));this.abilityBuffIn.forEach((function(i){(i==t||i.isActiveSkill())&&(e+=function(t){switch(t){case"102":return l(.003*r,1);case"202":return l(.004*r,1);case"302":return l(.006*r,1);case"402":return l(.008*r,1);case"106":return l(.002*s,1);case"206":return l(.003*s,1);case"306":return l(.004*s,1);case"406":return l(.005*s,1);default:return 0}}(i.config.ability.abilityId))})),this.ssSuportEffect=0,this.ssSabotageEffect=0,v.currentLandData.decoStatus.effects.forEach((function(i){switch(i.id){case 104:case 203:case 303:i.faction==t._d.plantInfos.faction&&(e+=i.$incFarmingPerformance);break;case 202:case 302:case 403:e+=i.$incFarmingPerformance;break;case 204:t.ssSabotageEffect+=i.percent;break;case 205:t.ssSuportEffect+=i.percent}})),this.ssSabotageEffect>1&&(this.ssSabotageEffect=1);var c=v.GetFarmWorldState();return this.config.seasonSupport.season==_[c].toString()&&(e+=this.config.seasonSupport.value*(1+this.ssSuportEffect)),this.config.seasonSabotage.season==_[c].toString()&&(e-=this.config.seasonSabotage.value*(1-this.ssSabotageEffect)),i=Math.max(i,n),Math.min(e,i)},r.onWater=function(){var t=this;if(v.Watering<=0)A.Instance.ShowToast("Error","You don't have enough tools to water.",0);else{this.playActionFx(Z.VFX_Plant_Watering,this.node.worldPosition);var e={slotId:this._d._id};k.PostRequest(P.LINK_API+P.farms_water_plant,e,(function(e){t.farmUI.FarmAction(e),v.Watering-=1}),(function(e){t.farmUI.UpdateData()}))}},r.onChaseCrow=function(){var t=this;if(this.enumPlantSlotState!=y.decor)if(v.ScareCrow<=0)A.Instance.ShowToast("Error","You don't have enough tools to chase crows.",0);else{this.playActionFx(Z.VFX_Crowd_Banish,this.crowSprite.node.worldPosition);var e={slotId:this._d._id};k.PostRequest(P.LINK_API+P.farms_chase_crow,e,(function(e){t.farmUI.FarmAction(e),v.ScareCrow-=1}),(function(e){t.farmUI.UpdateData()}))}else this.playActionFx(Z.VFX_Crowd_Banish,this.crowSprite.node.worldPosition)},r.onChaseGoodCrow=function(){var t=this;this.playActionFx(Z.VFX_Crowd_Banish,this.crow_good.worldPosition);var e={slotId:this._d._id};k.PostRequest(P.LINK_API+P.farms_chase_good_crow,e,(function(e){t.farmUI.FarmAction(e)}),(function(e){t.farmUI.UpdateData()}))},r.onHarvest=function(){var t=this;this.playActionFx(Z.Fx_Ui_Farm_LE_Harvest,this.node.worldPosition);var e={slotIds:[this._d._id]},i=P.LINK_API+P.farms_harvest_plant;this.isAirDrop&&(i=P.LINK_API+P.farms_earn_air_drop),k.PostRequest(i,e,(function(e){t.farmUI.FarmAction(e,!0)}),(function(e){t.farmUI.UpdateData()}))},r.playActionFx=function(t,e){var i=T.Instance.GetPrefab(t);if(i.setWorldPosition(e),D.PlayParticle(i),m.os==m.OS.ANDROID&&m.isNative){var n=i.getComponent(U);if(null==n){n=i.addComponent(U);var a=i.getComponentInChildren(b);n.time=null!=a?a.duration:3}n.setReturn(t)}},r.HighlightPlantSpine=function(t){t?this.plantSpine.node.setParent(A.Instance.HighlightNode,!0):(this.plantSpine.node.setParent(this.plantSpineHolder,!0),this.plantSpine.node.setScale(p(.5,.5,1)),this.plantSpine.node.setPosition(p(.45,-4,0)))},r.onSteal=function(){var t=this;this.playActionFx(Z.Fx_Ui_Farm_LE_Harvest,this.node.worldPosition);var e={slotId:this._d._id},i=P.LINK_API+P.farms_steal_plant;k.PostRequest(i,e,(function(e){t.farmUI.FarmAction(e,!0,!0)}),(function(t){}))},r.CheckStealAble=function(){if(this.farmUI.isStealAble&&this.isStealAble){var t=this._d.harvestTime-v.serverTime;t=Math.max(t,0),!this.water.active&&t<=0?this.steal.active=!0:t<=I.ShowPlantHarvestTimer&&(this.TimeHarvestLabel.node.parent.active=!0,this.TimeHarvestLabel.string=Math.floor(t/6e4)+"m")}else this.steal.active=!1},o(e,[{key:"isStealAble",get:function(){return this._isStealAble},set:function(t){this._isStealAble=t,this.CheckStealAble()}}]),e}(g)).prototype,"baseSprite",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(Y.prototype,"myDecorHighlight",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(Y.prototype,"TimeHarvestLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(Y.prototype,"decorSprite",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=e(Y.prototype,"plantSpineHolder",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=e(Y.prototype,"plantSpine",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(Y.prototype,"selectNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=e(Y.prototype,"skillzoneNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=e(Y.prototype,"abilityZoneNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=e(Y.prototype,"shadow",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=e(Y.prototype,"crowSprite",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=e(Y.prototype,"crowSpriteFrame",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),lt=e(Y.prototype,"crow_good",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ct=e(Y.prototype,"water",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=e(Y.prototype,"harvest",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft=e(Y.prototype,"steal",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=Y))||X));!function(t){t.Idle="idle",t.Full="full"}(ht||(ht=t("PlantAnimName",{}))),r._RF.pop()}}}));

System.register("chunks:///_virtual/PlayingCard.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,n,e,a,r,o,s,l,c,d,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.createClass},function(t){o=t.cclegacy,s=t._decorator,l=t.sp,c=t.tween,d=t.Vec3,u=t.Component}],execute:function(){var p,h,f,m,v;o._RF.push({},"d3a1ejoPgNH87kN8ZcUlUNq","PlayingCard",void 0);var y=s.ccclass,S=s.property;t("PlayingCard",(p=y("PlayingCard"),h=S({type:l.Skeleton}),p((v=i((m=function(t){function i(){for(var i,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(i=t.call.apply(t,[this].concat(r))||this).data=null,e(i,"cardSpine",v,a(i)),i.CompleteListener=function(t){"show_card"==i.cardSpine.animation&&i.cardSpine.setAnimation(0,"idle_number",!0)},i}n(i,t);var o=i.prototype;return o.start=function(){this.cardSpine.setCompleteListener(this.CompleteListener)},o.Init=function(t,i){0==this.node.active?(this.data=t,this.node.active=!0,this.MoveAndFlip(i,this.node.worldPosition)):null==this.data&&null!=t&&(this.data=t,this.flip())},o.flip=function(){null!=this.data&&(this.cardSpine.setSkin(this.idCardtoAnimSkillName),this.cardSpine.setAnimation(0,"show_card",!1))},o.move=function(t,i,n){this.node.setWorldPosition(t),c(this.node).to(.5,{worldPosition:i}).call((function(){null!=n&&n()})).start(),this.cardSpine.setAnimation(0,"draw_card",!1)},o.MoveAndFlip=function(t,i){var n=this;this.move(t,new d(i),function(){n.flip()}.bind(this))},o.Reset=function(){this.node.active=!1,this.cardSpine.setAnimation(0,"idle_cover",!0),this.data=null},r(i,[{key:"idCardtoAnimSkillName",get:function(){var t=(this.data%13+1).toString();return t.length<2?"0"+t:t}}]),i}(u)).prototype,"cardSpine",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=m))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/PopUpBase.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,a,c,o,l,n,s,r,d,p,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,c=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,n=t.Node,s=t.UIOpacity,r=t.CCInteger,d=t.tween,p=t.v3,u=t.Component}],execute:function(){var h,f,y,v,O,S,U,b,I;o._RF.push({},"47323uU4LdP+IOU3dOf1HDR","PopUpBase",void 0);var N=l.ccclass,C=l.property;t("PopUpBase",(h=N("PopUpBase"),f=C(n),y=C(s),v=C(r),h((U=e((S=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,a(e,"ScaleNode",U,c(e)),a(e,"fadeUIOpacity",b,c(e)),a(e,"order",I,c(e)),e.cbHide=null,e}i(e,t);var o=e.prototype;return o.OnShow=function(t){var e=this;void 0===t&&(t=null),this.node.active?(this.ScaleNode&&this.ScaleNode.setScale(1,1,1),this.fadeUIOpacity&&(this.fadeUIOpacity.opacity=255),this.CallAction(t)):(this.node.active=!0,this.ScaleNode&&(this.ScaleNode.setScale(.5,.5,.5),d(this.ScaleNode).to(.3,{scale:p(1,1,1)},{easing:"backOut"}).call((function(){e.CallAction(t)})).start()),this.fadeUIOpacity&&(this.fadeUIOpacity.opacity=0,d(this.fadeUIOpacity).to(.2,{opacity:255}).call((function(){e.ScaleNode||e.CallAction(t)})).start()),this.ScaleNode||this.fadeUIOpacity||this.CallAction(t))},o.OnHide=function(t,e){var i,a=this;void 0===t&&(t=null),this.node.active&&(this.ScaleNode&&d(this.ScaleNode).to(.3,{scale:p(.5,.5,.5)},{easing:"circOut"}).call((function(){a.node.active=!1,a.CallAction(t)})).start(),this.fadeUIOpacity&&d(this.fadeUIOpacity).to(.2,{opacity:0}).call((function(){a.ScaleNode||(a.node.active=!1,a.CallAction(t))})).start(),this.ScaleNode||this.fadeUIOpacity||(this.node.active=!1,this.CallAction(t)),null==(i=this.cbHide)||i.call(this),this.cbHide=null)},o.CallAction=function(t){t&&t()},o.SetCallbackHide=function(t){this.cbHide=t},e}(u)).prototype,"ScaleNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=e(S.prototype,"fadeUIOpacity",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(S.prototype,"order",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=S))||O));o._RF.pop()}}}));

System.register("chunks:///_virtual/PopupChoseNumbers.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIItemChoseNumber.ts","./Utility.ts","./UIItemNumberLottery.ts"],(function(t){"use strict";var e,i,n,s,r,o,u,h,a,b,c,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,u=t.Node,h=t.instantiate,a=t.Component},function(t){b=t.UIItemChoseNumber},function(t){c=t.Utility},function(t){m=t.UIItemNumberLottery}],execute:function(){var l,p,f,C,g,v,I,d,L,y,N,U,A;r._RF.push({},"83ae3CsX/BNaJg53FBbcFv+","PopupChoseNumbers",void 0);var B=o.ccclass,R=o.property;t("PopupChoseNumbers",(l=B("PopupChoseNumbers"),p=R(u),f=R(u),C=R(u),g=R(u),v=R([m]),l((L=e((d=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,n(e,"contentItem",L,s(e)),n(e,"prefabItem",y,s(e)),n(e,"btnConfirmUnActive",N,s(e)),n(e,"btnConfirmActive",U,s(e)),n(e,"uiItemNumberList",A,s(e)),e.isInited=!1,e.numberChosingList=[],e.cbSuccess=null,e.tabBuy=void 0,e}i(e,t);var r=e.prototype;return r.Show=function(t,e){this.tabBuy=e,this.cbSuccess=t,this.node.active=!0,0==this.isInited&&(this.isInited=!0,this.Init()),this.Reset()},r.Init=function(){for(var t=0;t<60;t++){var e=h(this.prefabItem);e.parent=this.contentItem,e.getComponent(b).Init(t+1,this)}},r.Hide=function(){this.node.active=!1},r.Reset=function(){for(var t=0;t<this.numberChosingList.length;t++)this.numberChosingList[t].UnChose(!1);this.numberChosingList=[],this.UpdateNumberChosing()},r.AddNumber=function(t){this.numberChosingList.push(t),this.UpdateNumberChosing()},r.RemoveNumber=function(t){for(var e=0;e<this.numberChosingList.length;e++)if(this.numberChosingList[e].number==t.number){this.numberChosingList.splice(e,1);break}this.UpdateNumberChosing()},r.UpdateNumberChosing=function(){for(var t=[],e=0;e<this.numberChosingList.length;e++)t.push(this.numberChosingList[e].number);t=t.sort((function(t,e){return t-e}));for(var i=0;i<this.uiItemNumberList.length;i++)i<=t.length-1?this.uiItemNumberList[i].init(t[i]):this.uiItemNumberList[i].init(null);5==this.numberChosingList.length?(this.btnConfirmActive.active=!0,this.btnConfirmUnActive.active=!1):(this.btnConfirmActive.active=!1,this.btnConfirmUnActive.active=!0)},r.OnBtnReset=function(){this.Reset()},r.OnBtnRandom=function(){this.Reset();for(var t=c.RandomLottery(this.tabBuy.data.lotteryId,this.tabBuy.GetListNumbers()),e=0;e<t.length;e++){var i=this.contentItem.children[t[e]-1].getComponent(b);i.Chose(!1),this.numberChosingList.push(i)}this.UpdateNumberChosing()},r.OnBtnConfirm=function(){for(var t=[],e=0;e<this.numberChosingList.length;e++)t.push(this.numberChosingList[e].number);null!=this.cbSuccess&&this.cbSuccess(t),this.Hide()},e}(a)).prototype,"contentItem",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(d.prototype,"prefabItem",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(d.prototype,"btnConfirmUnActive",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(d.prototype,"btnConfirmActive",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(d.prototype,"uiItemNumberList",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=d))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/PopupConfirmUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts"],(function(e){"use strict";var i,n,t,o,l,r,s,a,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){l=e.cclegacy,r=e._decorator,s=e.Label,a=e.Node},function(e){u=e.PopUpBase}],execute:function(){var p,c,h,b,L,C,f,_,y,g,d,m,O;l._RF.push({},"0471cNdWZdLIIL0C0imhtMM","PopupConfirmUI",void 0);var I=r.ccclass,k=r.property;e("PopupConfirmUI",(p=I("PopupConfirmUI"),c=k(s),h=k(s),b=k(a),L=k(a),C=k(s),p((y=i((_=function(e){function i(){for(var i,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return i=e.call.apply(e,[this].concat(l))||this,t(i,"Line1Label",y,o(i)),t(i,"Line2Label",g,o(i)),t(i,"LeIcon",d,o(i)),t(i,"BtnClose",m,o(i)),t(i,"BtnLabel",O,o(i)),i._onOk=null,i._onClose=null,i._isCanClose=!0,i._isCloseWhenOk=!0,i}n(i,e);var l=i.prototype;return l.Show=function(e,i,n,t,o,l,r,s){this.OnShow(),this.BtnLabel.string=o.toUpperCase(),this.Line1Label.string=e,this.Line2Label.string=i,this._onOk=n,this._onClose=t,this._isCanClose=r,this._isCloseWhenOk=s,this.LeIcon.active=l,this.BtnClose.active=r},l.Hide=function(){this._isCanClose&&(this.OnHide(),this._onClose&&this._onClose())},l.OnOk=function(){this._onOk&&this._onOk(),this._isCloseWhenOk&&this.Hide()},i}(u)).prototype,"Line1Label",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=i(_.prototype,"Line2Label",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=i(_.prototype,"LeIcon",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=i(_.prototype,"BtnClose",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=i(_.prototype,"BtnLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=_))||f));l._RF.pop()}}}));

System.register("chunks:///_virtual/PopupPrizeStructure.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var r,e,u,o;return{setters:[function(t){r=t.inheritsLoose},function(t){e=t.cclegacy,u=t._decorator,o=t.Component}],execute:function(){var c;e._RF.push({},"7bf66HPUx1AaIUUZrOZ5XTD","PopupPrizeStructure",void 0);var i=u.ccclass;u.property,t("PopupPrizeStructure",i("PopupPrizeStructure")(c=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var u=e.prototype;return u.Show=function(t){this.node.active=!0},u.Hide=function(){this.node.active=!1},e}(o))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/PopupPurchaseOption.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIPopupManager.ts","./UserModel.ts","./ResHttp.ts","./ConfigApi.ts","./Utility.ts","./ConfigGame.ts"],(function(t){"use strict";var e,i,n,s,c,r,a,o,l,u,h,p,b,g,f,y,k,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){c=t.cclegacy,r=t._decorator,a=t.Label,o=t.Toggle,l=t.Node,u=t.log,h=t.sys,p=t.Component},function(t){b=t.UIPopupManager},function(t){g=t.UserModel},function(t){f=t.ResHttp},function(t){y=t.ConfigApi},function(t){k=t.Utility},function(t){m=t.ConfigGame}],execute:function(){var T,P,I,v,d,C,S,N,E,B,O,x,L,_,w,A,z,F,M,U,D,J,R;c._RF.push({},"af0c4PAAOZIKrtSkHTfK/x6","PopupPurchaseOption",void 0);var G=r.ccclass,H=r.property;t("PopupPurchaseOption",(T=G("PopupPurchaseOption"),P=H(a),I=H(a),v=H(a),d=H(a),C=H(a),S=H(a),N=H(o),E=H(o),B=H(l),O=H(l),T((_=e((L=function(t){function e(){for(var e,i=arguments.length,c=new Array(i),r=0;r<i;r++)c[r]=arguments[r];return e=t.call.apply(t,[this].concat(c))||this,n(e,"txtJackpot",_,s(e)),n(e,"txtNumberTicketBuying",w,s(e)),n(e,"txtBalanceLE",A,s(e)),n(e,"txtBalanceTicket",z,s(e)),n(e,"txtPriceLE",F,s(e)),n(e,"txtPriceTicket",M,s(e)),n(e,"toggleLE",U,s(e)),n(e,"toggleTicket",D,s(e)),n(e,"btnPurchaseDisable",J,s(e)),n(e,"btnPurchaseActive",R,s(e)),e.tickets=[],e.purchaseType="",e.cbSuccess=null,e.lotteryId="",e}i(e,t);var c=e.prototype;return c.Show=function(t,e,i){void 0===i&&(i=null),this.lotteryId=t,this.cbSuccess=i,this.tickets=e,this.purchaseType="",this.node.active=!0,this.btnPurchaseActive.active=!1,this.btnPurchaseDisable.active=!0,this.txtNumberTicketBuying.string=k.numberWithCommas(e.length),this.txtBalanceLE.string=k.numberWithCommas(g.GEM),this.txtBalanceTicket.string=k.numberWithCommas(g.FreeTicket),this.txtPriceLE.string=k.numberWithCommas(e.length*m.PRICE_BUY_TICKET_LE),this.txtPriceTicket.string=k.numberWithCommas(e.length),this.toggleLE.isChecked=!0,this.OnBtnChoseLE()},c.Hide=function(){this.node.active=!1},c.onBuySuccess=function(t){var e;t=JSON.parse(t).data,u("onBuySuccess:"+JSON.stringify(t));var i="You have successully purchased "+this.tickets.length+" tickets";1==this.tickets.length&&(i="You have successully purchased "+this.tickets.length+" ticket"),b.Instance.ShowNotification("SUCCESS!",i),g.GEM=t.remainAmount,g.FreeTicket=t.remainFreeTickets,null==(e=this.cbSuccess)||e.call(this),this.Hide()},c.onBuyFail=function(t){},c.OnBtnChoseLE=function(){this.purchaseType="gem",this.btnPurchaseActive.active=!0,this.btnPurchaseDisable.active=!1},c.OnBtnChoseTicket=function(){this.purchaseType="free_ticket",this.btnPurchaseActive.active=!0,this.btnPurchaseDisable.active=!1},c.OnBtnPurChase=function(){if(""!=this.purchaseType)if("gem"==this.purchaseType&&this.tickets.length*m.PRICE_BUY_TICKET_LE>g.GEM)b.Instance.ShowNotification("NOTIFICATION!","Not enough to GEM");else if("free_ticket"==this.purchaseType&&this.tickets.length>g.FreeTicket)b.Instance.ShowNotification("NOTIFICATION!","Not enough to FreeTicket");else{var t=h.localStorage.getItem("tickets_"+this.lotteryId);if(null!=t){var e=JSON.parse(t);e=e.concat(this.tickets),h.localStorage.setItem("tickets_"+this.lotteryId,JSON.stringify(e))}else h.localStorage.setItem("tickets_"+this.lotteryId,JSON.stringify(this.tickets));f.PostRequest(y.LINK_API+y.buy_tickets,{tickets:this.tickets,purchaseType:this.purchaseType},this.onBuySuccess.bind(this),this.onBuyFail.bind(this))}else b.Instance.ShowNotification("NOTIFICATION!","Not chose purchase option!")},e}(p)).prototype,"txtJackpot",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(L.prototype,"txtNumberTicketBuying",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(L.prototype,"txtBalanceLE",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(L.prototype,"txtBalanceTicket",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(L.prototype,"txtPriceLE",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(L.prototype,"txtPriceTicket",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(L.prototype,"toggleLE",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(L.prototype,"toggleTicket",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(L.prototype,"btnPurchaseDisable",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(L.prototype,"btnPurchaseActive",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=L))||x));c._RF.pop()}}}));

System.register("chunks:///_virtual/PrefabController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,i,r,s,a,o,c,l,u,f,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator,o=e.Prefab,c=e.CCInteger,l=e.Node,u=e.instantiate,f=e.director,h=e.Component}],execute:function(){var b,P,p,_,v,d,F,y,g,C,m,z,A,U,E;e("PrefabEnum",void 0),s._RF.push({},"f747eE1kDNBwZY0E3vvQZGI","PrefabController",void 0);var R,I=a.ccclass,L=a.property,w=e("zPrefabAsset",(b=I("zPrefabAsset"),P=L(o),p=L(c),b((d=t((v=function(){function e(){i(this,"prefab",d,this),i(this,"maxIntances",F,this),this.intances=[],this.intancesFree=[],this.intancesUse=[]}var t=e.prototype;return t.GetPrefab=function(e){if(this.intancesFree.length>0){var t=this.intancesFree[0];return this.intancesFree.splice(0,1),this.intancesUse.push(t),t}if(this.intances.length<this.maxIntances)return(t=u(this.prefab)).active=!1,t.setParent(e),this.intancesUse.push(t),this.intances.push(t),t;if(this.intancesUse.length>0){t=this.intancesUse[0];return this.intancesUse.splice(0,1),this.intancesUse.push(t),t}return null},t.ReturnPrefab=function(e,t){e.active=!1,e.setParent(t),this.intancesFree.push(e);var n=this.intancesUse.indexOf(e);n>-1&&this.intancesUse.splice(n,1)},t.ReturnAll=function(e){for(;this.intancesUse.length>0;){var t=this.intancesUse[0];t.active=!1,t.setParent(e),this.intancesFree.push(t),this.intancesUse.splice(0,1)}},e}()).prototype,"prefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(v.prototype,"maxIntances",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_=v))||_));!function(e){e[e.LE_Projectile=0]="LE_Projectile",e[e.LE_Receive=1]="LE_Receive",e[e.VFX_Crowd_Banish=2]="VFX_Crowd_Banish",e[e.VFX_Plant_Planted=3]="VFX_Plant_Planted",e[e.VFX_Plant_Watering=4]="VFX_Plant_Watering",e[e.Fx_Ui_Farm_LE_Harvest=5]="Fx_Ui_Farm_LE_Harvest"}(R||(R=e("PrefabEnum",{})));e("PrefabController",(y=I("PrefabController"),g=L(l),C=L(w),y(((E=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))||this).isPlayTabEffect=!0,t.isPlayTabSound=!0,i(t,"PrefabContent",A,r(t)),i(t,"zPrefabAssets",U,r(t)),t}n(t,e);var s=t.prototype;return s.onLoad=function(){null==t.Instance?(t.Instance=this,f.addPersistRootNode(this.node)):this.destroy()},s.onDestroy=function(){},s.GetPrefab=function(e){return this.zPrefabAssets[e].GetPrefab(this.PrefabContent)},s.ReturnPrefab=function(e,t){this.zPrefabAssets[e].ReturnPrefab(t,this.PrefabContent)},s.ReturnAllPrefabofEnum=function(e){this.zPrefabAssets[e].ReturnAll(this.PrefabContent)},s.ReturnAllPrefab=function(){var e=this;this.zPrefabAssets.forEach((function(t){t.ReturnAll(e.PrefabContent)}))},t}(h)).Instance=void 0,A=t((z=E).prototype,"PrefabContent",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(z.prototype,"zPrefabAssets",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=z))||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/ResHttp.ts",["cc","./UserModel.ts","./UIPopupManager.ts","./ConfigApi.ts"],(function(e){"use strict";var t,n,s,a,o;return{setters:[function(e){t=e.cclegacy},function(e){n=e.UserModel},function(e){s=e.LoadingType,a=e.UIPopupManager},function(e){o=e.ConfigApi}],execute:function(){var r,i;e("ResHttp",void 0),t._RF.push({},"86ff1pwk/5P/ZecST5GWHdU","ResHttp",void 0),(i=r||(r=e("ResHttp",{}))).PostRequestForm=function(e,t,r,i,c,u,d){void 0===u&&(u=!0),void 0===d&&(d=s.noAnim),u&&a.Instance.Loading(!0,d);var p=new XMLHttpRequest;p.onreadystatechange=function(){if(4==p.readyState)if(p.status>=200&&p.status<400){var n=p.responseText;o.SHOW_LOG&&console.log("PostRequest : ",e,null==t?"":JSON.stringify(t)," --- ",n),u&&a.Instance.Loading(!1),i&&i(n)}else{c&&c(p.responseText),u&&a.Instance.Loading(!1);try{var s=JSON.parse(p.responseText);a.Instance.ShowToast("Error",s.data,0)}catch(e){a.Instance.ShowToast("Error","ERR_INTERNET_DISCONNECTED",0)}}},p.open("POST",e),n.Token&&p.setRequestHeader("authorization","bearerHeader "+n.Token),p.send(t)},i.PostRequest=function(e,t,r,i,c,u){void 0===c&&(c=!0),void 0===u&&(u=s.noAnim),c&&a.Instance.Loading(!0,u);var d=new XMLHttpRequest;d.onreadystatechange=function(){if(4==d.readyState)if(d.status>=200&&d.status<400){var n=d.responseText;o.SHOW_LOG&&console.log("PostRequest : ",e,null==t?"":JSON.stringify(t)," --- ",n),c&&a.Instance.Loading(!1),r&&r(n)}else{i&&i(d.responseText),c&&a.Instance.Loading(!1);try{var s=JSON.parse(d.responseText);a.Instance.ShowToast("Error",s.data,0)}catch(e){a.Instance.ShowToast("Error","ERR_INTERNET_DISCONNECTED",0)}}},d.open("POST",e),d.setRequestHeader("Content-Type","application/json;charset=UTF-8"),d.setRequestHeader("Accept","application/json"),d.setRequestHeader("x-u-a-check","Android-Unity-Farm"),n.Token&&d.setRequestHeader("authorization","bearerHeader "+n.Token),null==t&&(t={}),d.send(JSON.stringify(t))},i.GetRequest=function(e,t,r,i,c,u){void 0===c&&(c=!0),void 0===u&&(u=s.noAnim),c&&a.Instance.Loading(!0,u);var d=e;if(null!=t&&Object.keys(t).length>0){for(var p in d+="?",t)d+=p+"="+t[p]+"&";d=d.substring(0,d.length-1)}var T=new XMLHttpRequest;T.onreadystatechange=function(){if(4==T.readyState)if(T.status>=200&&T.status<400){var e=T.responseText;o.SHOW_LOG&&console.log("GetRequest : ",d," --- ",e),c&&a.Instance.Loading(!1),r&&r(e)}else{c&&a.Instance.Loading(!1),i&&i(T.responseText);try{var t=JSON.parse(T.responseText);a.Instance.ShowToast("Error",t.data,0)}catch(e){a.Instance.ShowToast("Error","ERR_INTERNET_DISCONNECTED",0)}}},T.open("GET",d),T.setRequestHeader("Content-Type","application/json;charset=UTF-8"),T.setRequestHeader("Accept","application/json"),T.setRequestHeader("x-u-a-check","Android-Unity-Farm"),n.Token&&T.setRequestHeader("authorization","bearerHeader "+n.Token),T.send()},i.DeleteRequest=function(e,t,r,i,c){void 0===i&&(i=!0),void 0===c&&(c=s.noAnim),i&&a.Instance.Loading(!0,c);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(4==u.readyState)if(u.status>=200&&u.status<400){var n=u.responseText;o.SHOW_LOG&&console.log("DeleteRequest : ",e," --- ",n),i&&a.Instance.Loading(!1),t&&t(n)}else{i&&a.Instance.Loading(!1),r&&r(u.responseText);try{var s=JSON.parse(u.responseText);a.Instance.ShowToast("Error",s.data,0)}catch(e){a.Instance.ShowToast("Error","ERR_INTERNET_DISCONNECTED",0)}}},u.open("DELETE",e),u.setRequestHeader("Content-Type","application/json;charset=UTF-8"),u.setRequestHeader("Accept","application/json"),u.setRequestHeader("x-u-a-check","Android-Unity-Farm"),n.Token&&u.setRequestHeader("authorization","bearerHeader "+n.Token),u.send()},t._RF.pop()}}}));

System.register("chunks:///_virtual/ResourcesManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,n,o,s,a,l,c,u,p,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,a=e.JsonAsset,l=e.SpriteFrame,c=e.director,u=e.resources,p=e.sp,d=e.Component}],execute:function(){var f,_,h,b,m,y,g,R,S,k,L,A,z,F;o._RF.push({},"2e611/b+YZFRo0vE+CEapry","ResourcesManager",void 0);var M=s.ccclass,v=s.property;e("ResourcesManager",(f=M("ResourcesManager"),_=v(a),h=v(l),b=v(l),m=v(l),y=v(l),f(((F=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,i(t,"errorCodeMerged",S,n(t)),t.plant_art=[],t.plant_art_state1=[],t.decor_art=[],t.plant_spines=[],i(t,"ability_sprite",k,n(t)),t.ability_zone_sprite=[],t.faction_sprite=[],i(t,"skill_sprite",L,n(t)),i(t,"skill_sprite_mother",A,n(t)),t.skill_zone_sprite=[],i(t,"decorBuffIcon_sprite",z,n(t)),t.pet_art=[],t.pet_spines=[],t}r(t,e);var o=t.prototype;return o.onLoad=function(){null==t.Instance?(t.Instance=this,c.addPersistRootNode(this.node)):this.destroy()},o.GetErrorMessage=function(e){return null!=this.errorCodeMerged.json[e.toString()]?this.errorCodeMerged.json[e.toString()]:"Unknow"},o.loadArtResource=function(e,t,r,i,n){var o=i.find((function(t){return t.name==e}));if(o)t(o);else{u.load(r,n,(function(r,n){r&&console.log(r.message),o=n,-1==i.findIndex((function(t){return t.name==e}))&&i.push(o),t(o)}))}},o.LoadPlant=function(e,t){this.loadArtResource(e,t,"2d/tree/"+e+"/spriteFrame",this.plant_art,l)},o.LoadPlantState1=function(e,t){this.loadArtResource(e,t,"2d/tree_1/"+e+"/spriteFrame",this.plant_art_state1,l)},o.LoadDecor=function(e,t){this.loadArtResource(e,t,"2d/decor/"+e+"/spriteFrame",this.decor_art,l)},o.LoadPlantSpines=function(e,t){this.loadArtResource(e,t,"spine/plant/"+e,this.plant_spines,p.SkeletonData)},o.LoadAbilitySprite=function(e){return this.ability_sprite.find((function(t){return t.name.includes(e)}))},o.LoadAbilityZoneSprite=function(e,t){this.loadArtResource(e,t,"2d/ability_zone/"+e+"/spriteFrame",this.ability_zone_sprite,l)},o.LoadFactionSprite=function(e,t){this.loadArtResource(e,t,"2d/faction/"+e+"/spriteFrame",this.faction_sprite,l)},o.LoadSkillSprite=function(e){return this.skill_sprite.find((function(t){return t.name.includes(e)}))},o.LoadSkillSpriteMother=function(e){return this.skill_sprite_mother.find((function(t){return t.name.includes(e)}))},o.LoadSkillZoneSprite=function(e,t){this.loadArtResource(e,t,"2d/skill_zone/"+e+"/spriteFrame",this.skill_zone_sprite,l)},o.LoadDecorBuffIcon=function(e){return this.decorBuffIcon_sprite.find((function(t){return t.name.includes(e)}))},o.LoadPet=function(e,t){this.loadArtResource(e,t,"2d/pet/"+e+"/spriteFrame",this.pet_art,l)},o.LoadPetSpines=function(e,t){this.loadArtResource(e,t,"spine/pet/"+e,this.pet_spines,p.SkeletonData)},t}(d)).Instance=void 0,S=t((R=F).prototype,"errorCodeMerged",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(R.prototype,"ability_sprite",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=t(R.prototype,"skill_sprite",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=t(R.prototype,"skill_sprite_mother",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(R.prototype,"decorBuffIcon_sprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=R))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/ScareCrowInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventSystem.ts","./UserModel.ts","./Utility.ts","./UIPopupManager.ts"],(function(t){"use strict";var n,e,r,i,o,a,s,c,u,l,h,b,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Label,c=t.Component},function(t){u=t.GlobalEvents,l=t.EventType},function(t){h=t.UserModel},function(t){b=t.Utility},function(t){p=t.UIPopupManager}],execute:function(){var f,m,C,v,y;o._RF.push({},"45faaxOzaFPoLvUQ3kEIJUG","ScareCrowInfo",void 0);var I=a.ccclass,g=a.property;t("ScareCrowInfo",(f=I("ScareCrowInfo"),m=g(s),f((y=n((v=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,r(n,"label",y,i(n)),n.current=-1,n.cb=void 0,n}e(n,t);var o=n.prototype;return o.onEnable=function(){this.cb=u.subscribe(l.SCARECROW_INFO_UPDATED,this.onChange.bind(this)),this.current=h.ScareCrow,this.label.string=b.numberWithCommas(h.ScareCrow)},o.onChange=function(t){this.current!=t&&(this.current=t,this.node.activeInHierarchy?this.Tween(t):this.label.string=b.numberWithCommas(t))},o.onDisable=function(){u.unsubscribe(l.SCARECROW_INFO_UPDATED,this.cb)},o.Tween=function(t){var n=this,e=b.numberWithCommasToInt(this.label.string);b.tweenNumber(e,t,.5,(function(t){n.label.string=b.numberWithCommas(t)})).start()},o.onBtnOpen=function(){p.Instance.ShowUIPopupShop()},n}(c)).prototype,"label",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=v))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/ScrollOptimizeGames.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,c;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,i=e._decorator,c=e.Component}],execute:function(){var o;r._RF.push({},"97ba3xFaDJKxpjM112/ObpH","ScrollOptimizeGames",void 0);var s=i.ccclass;i.property,e("ScrollOptimizeGames",s("ScrollOptimizeGames")(o=function(e){function r(){return e.apply(this,arguments)||this}return t(r,e),r}(c))||o);r._RF.pop()}}}));

System.register("chunks:///_virtual/SimplePool.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t,o,l,r,s,c,i;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,l=e.Node,r=e.game,s=e.NodePool,c=e.instantiate,i=e.Component}],execute:function(){var a,u;t._RF.push({},"463d3uUdcRGo4vZnCigeElx","SimplePool",void 0);var p=o.ccclass;o.property,e("SimplePool",p("SimplePool")(((u=function(e){function t(){for(var n,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return(n=e.call.apply(e,[this].concat(o))||this).pool=new Map,n}return n(t,e),t.Instance=function(){return null==this._instance&&(this._instance=new l("SimplePool").addComponent(t),r.addPersistRootNode(this._instance.node)),this._instance},t.get=function(e,n,t){var o=this.Instance(),l=null,r=null;return 1==o.pool.has(n)?l=o.pool.get(n):(l=new s,o.pool.set(n,l)),l.size()>0?r=l.get():(r=c(n),console.log("create new",n.name),r.release=function(){l.put(r)}),r.parent=t,r.getComponent(e)},t.getNode=function(e,n){var t=this.Instance(),o=null,l=null;return 1==t.pool.has(e)?o=t.pool.get(e):(o=new s,t.pool.set(e,o)),o.size()>0?l=o.get():(l=c(e),console.log("create new",e.name),l.release=function(){o.put(l)}),l.parent=n,l},t.releaseNode=function(e){try{e.release()}catch(e){}},t.releaseAll=function(e){for(var n=e.children.length-1;n>=0;n--)try{e.children[n].release()}catch(e){}},t}(i))._instance=void 0,a=u))||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/SocketDealOrNoDealHandler.ts",["cc","./UserModel.ts","./ConfigApi.ts","./NativeSocketHandler.ts"],(function(e){"use strict";var n,o,i,t,a,s,c;return{setters:[function(e){n=e.cclegacy,o=e.sys,i=e.error,t=e.log},function(e){a=e.UserModel},function(e){s=e.ConfigApi},function(e){c=e.NativeSocketHandler}],execute:function(){n._RF.push({},"32df9KX1OREa7UPwSirM4PO","SocketDealOrNoDealHandler",void 0);var l=e("SocketDealOrNoDealHandler",function(){function e(){}return e.Connect=function(n){e.dealOrNoDealMiniGame=n,o.os==o.OS.ANDROID&&o.isNative?c.Connect(a.Token,s.LINK_WSS_DOND):(this.Disconnect(),this._Connect())},e.Disconnect=function(){o.os==o.OS.ANDROID&&o.isNative?c.Disconnect():null!=this._sioClient&&(this._sioClient.disconnect(),this._sioClient=null)},e._Connect=function(){var n=this;if("undefined"!=typeof io){e.dealOrNoDealMiniGame.isJoined=!1,t("Start Connect DOND:"+s.LINK_WSS_DOND);try{var o=io.connect(s.LINK_WSS_DOND,{transports:["websocket"],auth:{token:a.Token},reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:1e4});n._sioClient=o,o.on("connect",n.onConnect.bind(n)),o.on("disconnect",n.onDisconnect.bind(n)),o.on("connection_error",n.onError.bind(n)),o.on("close",n.onError.bind(n)),o.on("err",n.onErr.bind(n)),o.on("game-init",(function(n){e.dealOrNoDealMiniGame.OnGameInit(n)})),o.on("player-info",(function(n){e.dealOrNoDealMiniGame.OnPlayerInfo(n)})),o.on("notice",(function(n){e.dealOrNoDealMiniGame.OnNotice(n)})),o.on("voting-result",(function(n){e.dealOrNoDealMiniGame.OnVotingResult(n)})),o.on("remove-voting",(function(n){e.dealOrNoDealMiniGame.OnRemoveVoting(n)})),o.on("game-progress",(function(n){e.dealOrNoDealMiniGame.OnGameProgress(n)})),o.on("chat",(function(n){e.dealOrNoDealMiniGame.OnChat(n)})),o.on("bet",(function(n){e.dealOrNoDealMiniGame.OnBet(n)})),o.on("update-cases",(function(n){e.dealOrNoDealMiniGame.OnUpdateCases(n)})),o.on("show-deal",(function(n){e.dealOrNoDealMiniGame.OnShowDeal(n)})),o.on("deal",(function(n){t("CheckingGame Response Deal:"+JSON.stringify(n)),e.dealOrNoDealMiniGame.OnDeal(n)})),o.on("remaining-cases",(function(n){e.dealOrNoDealMiniGame.OnRemianingCases(n)})),o.on("select-case",(function(n){e.dealOrNoDealMiniGame.OnSelectCase(n)})),o.on("auto-deal",(function(n){e.dealOrNoDealMiniGame.OnAutoDeal(n)})),o.on("game-statistics",(function(n){e.dealOrNoDealMiniGame.OnGameStatistics(n)})),o.on("removed-cases",(function(n){e.dealOrNoDealMiniGame.OnRemovedCases(n)})),o.on("show-cases",(function(n){e.dealOrNoDealMiniGame.OnShowCases(n)})),o.on("game-action-stats",(function(n){e.dealOrNoDealMiniGame.OnGameActionStats(n)})),o.on("game-maintenance",(function(n){e.dealOrNoDealMiniGame.OnGameMaintenance(n)}))}catch(e){this.Log("error connect "),this.Log(e),n.onError()}}else i("You should import the socket.io.js as a plugin!")},e.SendChat=function(e){this._sioClient.emit("chat",{message:e})},e.Deal=function(){t("CheckingGame Request Deal"),this._sioClient.emit("deal",{})},e.SwitchCase=function(e){e=e.toLocaleLowerCase(),t("SwitchCase:"+e),this._sioClient.emit("select-case",{caseAlphabet:e})},e.Bet=function(e){t("Bet:"+e),this._sioClient.emit("bet",{bettingAmount:e})},e.VoteKeepCase=function(e){e=e.toLocaleLowerCase(),t("VoteKeepCase:"+e),this._sioClient.emit("vote",{caseAlphabet:e})},e.VoteRemoveCase=function(e){e=e.map((function(e){return e.toLocaleLowerCase()})),t("VoteRemoveCase:"+e),this._sioClient.emit("vote-remove",{caseAlphabets:e})},e.JoinGame=function(){e.dealOrNoDealMiniGame.isJoined||(e.dealOrNoDealMiniGame.isJoined=!0,this.Log("JoinGame"),this._sioClient.emit("join-game",{gameName:"deal-or-no-deal",publicAddress:a.ownerId}))},e.Log=function(e){console.log(e)},e.onConnect=function(){this.Log(" onConnect DOND success"),e.dealOrNoDealMiniGame.isJoined=!1,this.JoinGame()},e.onError=function(){this.Log(" onError ")},e.onDisconnect=function(){console.log("onDisconnect")},e.onErr=function(e){this.Log(" onErr "),console.log("onErr:"+JSON.stringify(e))},e}());l._sioClient=null,l.dealOrNoDealMiniGame=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/SocketFarmHandler.ts",["cc","./UserModel.ts","./ConfigApi.ts","./EventSystem.ts","./NativeSocketHandler.ts"],(function(n){"use strict";var o,t,i,e,c,s,l,a;return{setters:[function(n){o=n.cclegacy,t=n.sys,i=n.error},function(n){e=n.UserModel},function(n){c=n.ConfigApi},function(n){s=n.GlobalEvents,l=n.EventType},function(n){a=n.NativeSocketHandler}],execute:function(){var r;n("TYPE_NOTIFICATION",void 0),o._RF.push({},"00510lZ5vZNiaB/lbnaBBSf","SocketFarmHandler",void 0),n("SocketFarmHandler",function(){function n(){}return n.Connect=function(){t.os==t.OS.ANDROID&&t.isNative?a.Connect(e.Token,c.LINK_WSS+"farm"):(this.Disconnect(),this._Connect())},n.Disconnect=function(){t.os==t.OS.ANDROID&&t.isNative?a.Disconnect():null!=this._sioClient&&(this._sioClient.disconnect(),this._sioClient=null)},n._Connect=function(){var n=this;if("undefined"!=typeof io){this.Log("Connect");try{var o=io.connect(c.LINK_WSS+"farm",{transports:["websocket"],auth:{token:e.Token},reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:1e4});this.Log("Connect 2"),n._sioClient=o,o.on("connect",n.onConnect.bind(n)),o.on("disconnect",n.onDisconnect.bind(n)),o.on("connection_error",n.onError.bind(n)),o.on("close",n.onError.bind(n)),o.on("chat",n.onChat.bind(n)),o.on("chat-all",n.onChatAll.bind(n)),o.on("slot-update",n.onSlotUpdate.bind(n)),o.on("change-land",n.onChangeLand.bind(n)),o.on("change-number-viewer",n.onChangeNumberViewer.bind(n)),o.on("err",n.onErr.bind(n)),o.on("notice",n.onNotice.bind(n)),o.on("hit_crow_king",n.onHitCrowKing.bind(n)),o.on("new_bidding",n.onNewBidding.bind(n)),this.Log("Connect 3")}catch(o){this.Log("error connect "),this.Log(o),n.onError()}}else i("You should import the socket.io.js as a plugin!")},n.Log=function(n,o){},n.SendChat=function(n){if(t.os!=t.OS.ANDROID||!t.isNative)return null==this._sioClient?(i("error send chat"),void console.log("send chat error")):void this._sioClient.emit("chat",{msg:n});a.Emit("chat",{msg:n})},n.SendChatAll=function(n,o){t.os==t.OS.ANDROID&&t.isNative?a.Emit("chat-all",{username:n,msg:o}):null!=this._sioClient&&this._sioClient.emit("chat-all",{username:n,msg:o})},n.ChangeLand=function(n){t.os==t.OS.ANDROID&&t.isNative?a.Emit("change-land",{landId:n}):null!=this._sioClient&&(console.log("change-land"),this._sioClient.emit("change-land",{landId:n}))},n.onConnect=function(){this.Log(" onConnect "),s.publish(l.Socket_onConnectCallback,null)},n.onError=function(){this.Log(" onError "),s.publish(l.Socket_onErrorCallback,null)},n.onDisconnect=function(){this.Log("onDisconnect")},n.onChat=function(n){this.Log("onChat: "+n),s.publish(l.Socket_onChatCallback,n)},n.onChatAll=function(n){this.Log(" onChatAll "),s.publish(l.Socket_onChatAllCallback,n)},n.onSlotUpdate=function(n){this.Log("onSlotUpdate"),s.publish(l.Socket_onSlotUpdateCallback,n)},n.onChangeLand=function(n){this.Log("onChangeLand"),s.publish(l.Socket_onChangeLand,n)},n.onChangeNumberViewer=function(n){this.Log("onChangeNumberViewer: ",n),s.publish(l.Socket_onChangeNumberViewer,n)},n.onErr=function(n){this.Log(" onErr ",n),s.publish(l.Socket_onErr,n)},n.onNotice=function(n){this.Log("onNotice: ",n),s.publish(l.Socket_onNotice,n)},n.onHitCrowKing=function(n){this.Log("onHitCrowKing: ",n),s.publish(l.Socket_onHitCrowKing,n)},n.onNewBidding=function(n){this.Log("onNewBidding: ",n),s.publish(l.Socket_onNewBidding,n)},n}())._sioClient=null,function(n){n[n.TO_ALL=0]="TO_ALL",n[n.BIDDING=1]="BIDDING",n[n.TRANSFER_LE=2]="TRANSFER_LE"}(r||(r=n("TYPE_NOTIFICATION",{}))),o._RF.pop()}}}));

System.register("chunks:///_virtual/SocketKingGamebitHandler.ts",["cc","./UserModel.ts","./ConfigApi.ts","./NativeSocketHandler.ts"],(function(n){"use strict";var t,i,o,e,c,a;return{setters:[function(n){t=n.cclegacy,i=n.sys,o=n.error},function(n){e=n.UserModel},function(n){c=n.ConfigApi},function(n){a=n.NativeSocketHandler}],execute:function(){t._RF.push({},"206040zzzBFaJ0/8nYSlKAK","SocketKingGamebitHandler",void 0);var s=n("SocketKingGamebitHandler",function(){function n(){}return n.Connect=function(t){n.kingGamebit=t,i.os==i.OS.ANDROID&&i.isNative?a.Connect(e.Token,c.LINK_WSS_KingGamebit):(this.Disconnect(),this._Connect())},n.Disconnect=function(){i.os==i.OS.ANDROID&&i.isNative?a.Disconnect():null!=this._sioClient&&(this._sioClient.disconnect(),this._sioClient=null)},n._Connect=function(){var n=this;if("undefined"!=typeof io){this.Log("Start Connect: "+c.LINK_WSS_KingGamebit);try{var t=io.connect(c.LINK_WSS_KingGamebit,{transports:["websocket"],auth:{token:e.Token},reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:1e4});n._sioClient=t,t.on("connect",n.onConnect.bind(n)),t.on("disconnect",n.onDisconnect.bind(n)),t.on("connection_error",n.onError.bind(n)),t.on("close",n.onError.bind(n)),t.on("err",n.onError.bind(n)),t.on("number-king-gambit-player",n.onNumberPlayer.bind(n)),t.on("matching",n.onMatching.bind(n)),t.on("ready",n.onReady.bind(n)),t.on("action",n.onAction.bind(n)),t.on("game-state",n.onGameState.bind(n)),t.on("chat",n.onChat.bind(n))}catch(t){n.onError(t)}}else o("You should import the socket.io.js as a plugin!")},n.SendChat=function(n){this._sioClient.emit("chat",{message:n})},n.matching=function(n){this.Log("matching"),this._sioClient.emit("matching",{type:"matching",betAmount:n})},n.cancelMatching=function(n){this.Log("cancelMatching"),this._sioClient.emit("matching",{type:"cancel-matching",betAmount:n})},n.ready=function(){this.Log("ready"),this._sioClient.emit("ready",{isReady:!0})},n.call=function(){this.Log("call "),this._sioClient.emit("action",{action:"call"})},n.raise=function(n){this.Log("raise: ",n),this._sioClient.emit("action",{action:"raise",betAmount:n})},n.fold=function(){this.Log("fold "),this._sioClient.emit("action",{action:"fold"})},n.rematch=function(n){this.Log("rematch"),this._sioClient.emit("matching",{betAmount:n,type:"rematch"})},n.quitMatch=function(n){this.Log("quitMatch "),this._sioClient.emit("matching",{betAmount:n,type:"out-room"})},n.check=function(){this.Log("check "),this._sioClient.emit("action",{action:"check"})},n.chat=function(n,t){this.Log("chat ",t),this._sioClient.emit("chat",{msg:n,toAll:t})},n.Log=function(n,t){void 0===t&&(t=null),c.SHOW_LOG&&console.log(n,t)},n.onMatching=function(t){this.Log("onMatching: ",t),n.kingGamebit.SocketOnRematch(t),n.kingGamebit.clearTimeoutSeverCheckEvent()},n.onReady=function(t){this.Log("onReady: ",t),n.kingGamebit.clearTimeoutSeverCheckEvent()},n.onAction=function(t){this.Log("onAction: ",t),n.kingGamebit.SocketOnAction(t,!1),n.kingGamebit.clearTimeoutSeverCheckEvent()},n.onGameState=function(t){this.Log("onGameState: ",t),n.kingGamebit.SocketOnGameState(t),n.kingGamebit.clearTimeoutSeverCheckEvent()},n.onConnect=function(n){this.Log("onConnect: ",n)},n.onNumberPlayer=function(t){this.Log("onNumberPlayer: ",t),t.length>0?t.forEach((function(t){n.kingGamebit.onNumberPlayer(t)})):n.kingGamebit.onNumberPlayer(t)},n.onError=function(n){this.Log("onError: ",n)},n.onDisconnect=function(n){this.Log("onDisconnect: ",n)},n.onChat=function(t){this.Log("onChat: ",t),n.kingGamebit.SocketOnChat(t)},n}());s._sioClient=null,s.kingGamebit=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/SoundController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserModel.ts","./EventSystem.ts"],(function(o){"use strict";var n,i,t,e,u,s,c,a,r,l,d,p,h;return{setters:[function(o){n=o.applyDecoratedDescriptor,i=o.inheritsLoose,t=o.initializerDefineProperty,e=o.assertThisInitialized},function(o){u=o.cclegacy,s=o._decorator,c=o.AudioSource,a=o.AudioClip,r=o.director,l=o.Component},function(o){d=o.UserModel},function(o){p=o.GlobalEvents,h=o.EventType}],execute:function(){var S,b,M,f,D,U,g,y,_,m;o("EnumSound",void 0),u._RF.push({},"5998aKcPlxN2aj9JEDzIdxe","SoundController",void 0);var v,B=s.ccclass,C=s.property;!function(o){o[o.GameUI_button_click=0]="GameUI_button_click",o[o.BG_Main=1]="BG_Main",o[o.BGM_Dond=2]="BGM_Dond",o[o.Lock_Dond=3]="Lock_Dond"}(v||(v=o("EnumSound",{})));o("SoundController",(S=B("SoundController"),b=C(c),M=C(c),f=C(a),S(((m=function(o){function n(){for(var n,i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=o.call.apply(o,[this].concat(u))||this,t(n,"BgMusic",g,e(n)),t(n,"SoundFX",y,e(n)),t(n,"AudioClips",_,e(n)),n}i(n,o);var u=n.prototype;return u.onLoad=function(){null==n.Instance?(n.Instance=this,r.addPersistRootNode(this.node)):this.destroy(),p.subscribe(h.UPDATE_MUSIC,this.onUpdateMusic.bind(this)),p.subscribe(h.UPDATE_SOUND,this.onUpdateSound.bind(this))},u.onDestroy=function(){p.unsubscribe(h.UPDATE_MUSIC,this.onUpdateMusic.bind(this)),p.unsubscribe(h.UPDATE_SOUND,this.onUpdateSound.bind(this))},u.onUpdateMusic=function(){console.log("CheckingGame onUpdateMusic:"+d.userLocalData.musicOn),this.BgMusic.volume=d.userLocalData.musicOn?.8:0},u.onUpdateSound=function(){console.log("CheckingGame onUpdateMusic:"+d.userLocalData.soundOn),this.SoundFX.volume=d.userLocalData.soundOn?1:0},u.start=function(){this.SetBgMusic(v.BG_Main)},u.PlaySound=function(o,n){void 0===n&&(n=.5),d.userLocalData.soundOn&&(this.SoundFX.loop=!1,this.SoundFX.playOneShot(this.AudioClips[o],n))},u.PlaySoundLoop=function(o,n){void 0===n&&(n=.5),d.userLocalData.soundOn&&(this.SoundFX.volume=n,this.SoundFX.loop=!0,this.SoundFX.clip=this.AudioClips[o],this.SoundFX.play())},u.StopSoundLoop=function(){this.SoundFX.stop()},u.SetBgMusic=function(o){this.BgMusic.stop(),this.BgMusic.loop=!0,this.BgMusic.clip=this.AudioClips[o],this.onUpdateMusic(),this.BgMusic.play()},n}(l)).Instance=void 0,g=n((U=m).prototype,"BgMusic",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=n(U.prototype,"SoundFX",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=n(U.prototype,"AudioClips",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=U))||D));u._RF.pop()}}}));

System.register("chunks:///_virtual/SpriteRatioHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){"use strict";var e,t,r,n,s,a,l,o,h,p,u,c;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,r=i.initializerDefineProperty,n=i.assertThisInitialized,s=i.createClass},function(i){a=i.cclegacy,l=i._decorator,o=i.Sprite,h=i.UITransform,p=i.CCBoolean,u=i.Size,c=i.Component}],execute:function(){var f,z,g,m,b,S,y,d,w,v,_,x,H,F,T;a._RF.push({},"09b693j4EtL/7rqY6fz+Sc/","SpriteRatioHelper",void 0);var C=l.ccclass,R=l.property;i("SpriteRatioHelper",(f=C("SpriteRatioHelper"),z=R(o),g=R(h),m=R(p),b=R(p),S=R(u),y=R(p),f((v=e((w=function(i){function e(){for(var e,t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return e=i.call.apply(i,[this].concat(s))||this,r(e,"intenal_sprite",v,n(e)),r(e,"uiTransform",_,n(e)),r(e,"clampWidth",x,n(e)),r(e,"clampHeight",H,n(e)),r(e,"size",F,n(e)),r(e,"fixSizeOnEnable",T,n(e)),e}t(e,i);var a=e.prototype;return a.onEnable=function(){this.fixSizeOnEnable&&this.FixSize()},a.setSize=function(i,e){null==this.uiTransform&&(this.uiTransform=this.getComponent(h)),this.uiTransform&&this.uiTransform.setContentSize(i,e)},a.FixSize=function(){var i=this.sprite.spriteFrame;if(null!=i){var e=i.width,t=i.height;if(i.original&&i.original._texture&&(e=i.original._texture.width,t=i.original._texture.height),this.clampWidth&&this.clampHeight){var r=this.size.width*t/e;if(r>this.size.height){var n=this.size.height*e/t;this.setSize(n,this.size.height)}else this.setSize(this.size.width,r)}else if(this.clampWidth){var s=this.size.width*t/e;this.setSize(this.size.width,s)}else if(this.clampHeight){var a=this.size.height*e/t;this.setSize(a,this.size.height)}}},s(e,[{key:"sprite",get:function(){return null==this.intenal_sprite&&(this.intenal_sprite=this.getComponent(o),null==this.intenal_sprite&&console.error("Sprite null in SpriteRatioHelper")),this.intenal_sprite}},{key:"spriteFrame",get:function(){return this.sprite.spriteFrame},set:function(i){this.sprite.spriteFrame=i,this.FixSize()}}]),e}(c)).prototype,"intenal_sprite",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(w.prototype,"uiTransform",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(w.prototype,"clampWidth",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),H=e(w.prototype,"clampHeight",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=e(w.prototype,"size",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(100,100)}}),T=e(w.prototype,"fixSizeOnEnable",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d=w))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/TabBuyTicketLottery.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResHttp.ts","./ConfigApi.ts","./Utility.ts","./UIItemLottery.ts","./PopupChoseNumbers.ts","./PopupPrizeStructure.ts","./PopupPurchaseOption.ts","./UIPages.ts","./ConfigGame.ts"],(function(t){"use strict";var i,e,n,o,r,s,u,a,l,c,h,p,b,y,g,m,d,f,B,L,k,C,v;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,u=t.Node,a=t.EditBox,l=t.Label,c=t.ScrollView,h=t.Vec3,p=t.instantiate,b=t.log,y=t.Component},function(t){g=t.ResHttp},function(t){m=t.ConfigApi},function(t){d=t.Utility},function(t){f=t.UIItemLottery},function(t){B=t.PopupChoseNumbers},function(t){L=t.PopupPrizeStructure},function(t){k=t.PopupPurchaseOption},function(t){C=t.UIPages},function(t){v=t.ConfigGame}],execute:function(){var P,I,x,w,A,T,R,N,U,_,z,E,S,O,F,D,G,W,J,K,H,j,q,M,Y,V,Q,X,Z,$,tt,it,et,nt,ot,rt,st;r._RF.push({},"ed1e9BKzfFDx4uBFMSb3745","TabBuyTicketLottery",void 0);var ut=s.ccclass,at=s.property;t("TabBuyTicketLottery",(P=ut("TabBuyTicketLottery"),I=at(C),x=at(u),w=at(u),A=at(a),T=at(L),R=at(B),N=at(k),U=at(l),_=at(l),z=at(l),E=at(l),S=at(l),O=at(l),F=at(c),D=at(u),G=at(u),W=at(u),P((H=i((K=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return i=t.call.apply(t,[this].concat(r))||this,n(i,"uiPages",H,o(i)),n(i,"btnRandom",j,o(i)),n(i,"btnCloseRandom",q,o(i)),n(i,"editRandom",M,o(i)),n(i,"popupPrize",Y,o(i)),n(i,"popupChoseNumber",V,o(i)),n(i,"popupPurchaseOption",Q,o(i)),n(i,"txtRoundId",X,o(i)),n(i,"txtTimeCreate",Z,o(i)),n(i,"txtJackpot",$,o(i)),n(i,"txtTicket",tt,o(i)),n(i,"txtBuyLe",it,o(i)),n(i,"txtBuyTicket",et,o(i)),n(i,"scrollItem",nt,o(i)),n(i,"prefabItem",ot,o(i)),n(i,"btnBuyNowUnActive",rt,o(i)),n(i,"btnBuyNowActive",st,o(i)),i.ticketBuyingList=[],i.data=null,i}e(i,t);var r=i.prototype;return r.Show=function(){this.node.active=!0,g.GetRequest(m.LINK_API+m.get_current_lottery,null,this.onGetCurrentLotterySuccess.bind(this),this.onGetCurrentLotteryFail.bind(this)),this.reset(),this.scrollItem.content.position=new h(0,0,0)},r.reset=function(){this.uiPages.Init(100*m.DEFAULT_PAGE),this.uiPages.AddCbLeft(function(){this.UpdatePage()}.bind(this)),this.uiPages.AddCbRight(function(){this.UpdatePage()}.bind(this)),this.scrollItem.content.destroyAllChildren(),this.AddItemDefault(m.DEFAULT_PAGE),this.txtBuyLe.string="0",this.txtBuyTicket.string="0",this.txtTicket.string="0",this.ticketBuyingList=[],this.btnBuyNowActive.active=!1,this.btnBuyNowUnActive.active=!0},r.UpdatePage=function(){this.scrollItem.content.destroyAllChildren();for(var t=0;t<m.DEFAULT_PAGE;t++){var i=p(this.prefabItem),e=i.getComponent(f),n=t+(this.uiPages.currentPage-1)*m.DEFAULT_PAGE;i.parent=this.scrollItem.content,e.init(n,this);for(var o=0;o<this.ticketBuyingList.length;o++)if(this.ticketBuyingList[o].index==n){e.UpdateNumbers(this.ticketBuyingList[o].numbers);break}}},r.AddItemDefault=function(t){for(var i=0;i<t;i++){var e=p(this.prefabItem);e.parent=this.scrollItem.content,e.getComponent(f).init(i+(this.uiPages.currentPage-1)*m.DEFAULT_PAGE,this)}},r.AddTicketBuying=function(t){this.ticketBuyingList.push({index:t.index,numbers:t.numbers}),this.txtBuyLe.string=d.numberWithCommas(v.PRICE_BUY_TICKET_LE*this.ticketBuyingList.length),this.txtBuyTicket.string=d.numberWithCommas(this.ticketBuyingList.length),this.txtTicket.string=d.numberWithCommas(this.ticketBuyingList.length),this.btnBuyNowActive.active=!0,this.btnBuyNowUnActive.active=!1},r.RemoveTicketBuying=function(t){for(var i=0;i<this.ticketBuyingList.length;i++)if(this.ticketBuyingList[i].index==t.index){this.ticketBuyingList.splice(i,1);break}this.txtBuyLe.string=d.numberWithCommas(v.PRICE_BUY_TICKET_LE*this.ticketBuyingList.length),this.txtBuyTicket.string=d.numberWithCommas(this.ticketBuyingList.length),this.txtTicket.string=d.numberWithCommas(this.ticketBuyingList.length),0==this.ticketBuyingList.length&&(this.btnBuyNowActive.active=!1,this.btnBuyNowUnActive.active=!0)},r.Hide=function(){this.node.active=!1},r.ShowPopupChoseNumber=function(t){var i=this;this.popupChoseNumber.Show((function(e){t.UpdateNumbers(e),i.ticketBuyingList.push({index:t.index,numbers:e}),i.UpdateInfo()}),this)},r.CheckCreate=function(){g.PostRequest(m.LINK_API+m.create_lottery_for_testing,null,this.onCreateLotterySuccess.bind(this),this.onCreateLotteryFail.bind(this))},r.CheckEnd=function(){g.PostRequest(m.LINK_API+m.end_lottery_for_testing,{result:[24,12,3,20,48]},this.onCreateLotterySuccess.bind(this),this.onCreateLotteryFail.bind(this))},r.onCreateLotterySuccess=function(t){b("onCreateLOtterySuccess:"+JSON.stringify(t))},r.onCreateLotteryFail=function(t){b("onCreateLotteryFail:"+JSON.stringify(t))},r.onGetCurrentLotterySuccess=function(t){this.data=t=JSON.parse(t).data,this.txtRoundId.string="ROUND #"+t.lotteryId;var i=t.nextRound.split(":")[0]+":"+t.nextRound.split(":")[1];i=i.replace("T"," ")+" UTC",this.txtTimeCreate.string="DRAW "+i,this.initJackpot(t.jackpotPool)},r.initJackpot=function(t){this.txtJackpot.string=d.numberWithCommas(Math.floor(100*t/100))},r.onGetCurrentLotteryFail=function(t){b("onGetCurrentLotteryFail:"+JSON.stringify(t))},r.OnBtnTutorial=function(){},r.OnBtnRandomQuality=function(){},r.OnBtnBuyNow=function(){for(var t=this,i=[],e=0;e<this.ticketBuyingList.length;e++)i.push(this.ticketBuyingList[e].numbers);this.popupPurchaseOption.Show(this.data.lotteryId,i,(function(){t.OnBtnDeleteAll()}))},r.OnBtnDeleteAll=function(){this.reset()},r.ShowPanelRandom=function(){this.editRandom.string="0",this.btnRandom.active=!1,this.btnCloseRandom.active=!0},r.HidePanelRandom=function(){this.btnRandom.active=!0,this.btnCloseRandom.active=!1},r.OnEndEditRandom=function(){var t=parseInt(this.editRandom.string);t>1e3&&(t=1e3),this.editRandom.string=t+""},r.Random=function(){var t=parseInt(this.editRandom.string);if(!(t<=0)){t>1e3&&(t=1e3),this.scrollItem.content.destroyAllChildren(),this.txtBuyLe.string="0",this.txtBuyTicket.string="0";for(var i=0;i<t;i++){var e=i,n=d.RandomLottery(this.data.lotteryId,this.GetListNumbers());this.ticketBuyingList.push({index:e,numbers:n})}this.UpdateInfo(),this.UpdatePage(),this.HidePanelRandom()}},r.SaveListNumber=function(t){this.ticketBuyingList.length>=1e3&&(this.ticketBuyingList=[]);for(var i=0;i<t.length;i++)this.ticketBuyingList.push({index:this.ticketBuyingList.length,numbers:t[i]})},r.GetListNumbers=function(){for(var t=[],i=0;i<this.ticketBuyingList.length;i++)t.push(this.ticketBuyingList[i].numbers);return t},r.UpdateInfo=function(){this.txtBuyLe.string=d.numberWithCommas(v.PRICE_BUY_TICKET_LE*this.ticketBuyingList.length),this.txtBuyTicket.string=d.numberWithCommas(this.ticketBuyingList.length),this.txtTicket.string=d.numberWithCommas(this.ticketBuyingList.length),0==this.ticketBuyingList.length?(this.btnBuyNowActive.active=!1,this.btnBuyNowUnActive.active=!0):(this.btnBuyNowActive.active=!0,this.btnBuyNowUnActive.active=!1)},r.OnBtnPrize=function(){this.popupPrize.Show(this.data.jackpotPool)},i}(y)).prototype,"uiPages",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=i(K.prototype,"btnRandom",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=i(K.prototype,"btnCloseRandom",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(K.prototype,"editRandom",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=i(K.prototype,"popupPrize",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=i(K.prototype,"popupChoseNumber",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=i(K.prototype,"popupPurchaseOption",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=i(K.prototype,"txtRoundId",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=i(K.prototype,"txtTimeCreate",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=i(K.prototype,"txtJackpot",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=i(K.prototype,"txtTicket",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=i(K.prototype,"txtBuyLe",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=i(K.prototype,"txtBuyTicket",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=i(K.prototype,"scrollItem",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=i(K.prototype,"prefabItem",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=i(K.prototype,"btnBuyNowUnActive",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=i(K.prototype,"btnBuyNowActive",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=K))||J));r._RF.pop()}}}));

System.register("chunks:///_virtual/TabHistoryLottery.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResHttp.ts","./ConfigApi.ts","./UIItemRoundLottery.ts","./UIItemMyTicketLotteries.ts","./UIPages.ts"],(function(t){"use strict";var e,i,r,n,o,s,a,l,u,c,p,h,f,y,d,g,b,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,a=t.ScrollView,l=t.Node,u=t.Sprite,c=t.SpriteFrame,p=t.Label,h=t.instantiate,f=t.Component},function(t){y=t.ResHttp},function(t){d=t.ConfigApi},function(t){g=t.UIItemRoundLottery},function(t){b=t.UIItemMyTicketLottery},function(t){m=t.UIPages}],execute:function(){var L,R,v,I,A,w,P,E,T,x,C,D,U,_,k,z,G,F,H,M,O,S,N;o._RF.push({},"06a98/5bwxC8J+Pwirs+bI3","TabHistoryLottery",void 0);var J=s.ccclass,q=s.property;t("TabHistoryLottery",(L=J("TabHistoryLottery"),R=q(m),v=q(a),I=q(l),A=q(l),w=q(a),P=q(l),E=q(l),T=q([u]),x=q([c]),C=q([p]),L((_=e((U=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,r(e,"pages",_,n(e)),r(e,"scrollLeft",k,n(e)),r(e,"boxEmptyLeft",z,n(e)),r(e,"prefabLeft",G,n(e)),r(e,"scrollRight",F,n(e)),r(e,"boxEmptyRight",H,n(e)),r(e,"prefabRight",M,n(e)),r(e,"spriteList",O,n(e)),r(e,"sfList",S,n(e)),r(e,"txtResult",N,n(e)),e.myLotteriesData=null,e.nodeItemCurrent=null,e}i(e,t);var o=e.prototype;return o.Show=function(){this.node.active=!0,this.scrollLeft.node.active=!1,this.scrollRight.node.active=!1,this.boxEmptyLeft.active=!0,this.boxEmptyRight.active=!0,y.GetRequest(d.LINK_API+d.get_my_lotteries,{limit:d.DEFAULT_PAGE,offset:0},this.OnGetMyLotteries.bind(this),null)},o.initResult=function(t){var e=[0,1,2,3,4];t.result=t.result.sort((function(t,e){return t-e}));for(var i=0;i<this.txtResult.length;i++){var r=parseInt(Math.random()*e.length+""),n=e[r];e.splice(r,1),i<=t.result.length-1?this.txtResult[i].string=t.result[i]:this.txtResult[i].string="-",this.spriteList[i].spriteFrame=this.sfList[n]}},o.GotoPageRound=function(t){var e=this,i={limit:d.DEFAULT_PAGE,offset:(this.pages.currentPage-1)*d.DEFAULT_PAGE,lotteryId:t.data.lotteryId};y.GetRequest(d.LINK_API+d.get_my_tickets,i,(function(i){var r=JSON.parse(i);t.dataMyTickets=r,t.myTickets=r.data,e.UpdateRoundPage(t)}),null)},o.OpenRound=function(t){this.initResult(t.data),this.pages.Init(t.dataMyTickets.total),this.pages.AddCbLeft(function(e){this.GotoPageRound(t)}.bind(this)),this.pages.AddCbRight(function(e){this.GotoPageRound(t)}.bind(this)),this.UpdateRoundPage(t)},o.UpdateRoundPage=function(t){this.scrollRight.content.destroyAllChildren(),t.myTickets=t.myTickets.sort((function(t,e){return null==t.rewardAmount&&(t.rewardAmount=0),null==e.rewardAmount&&(e.rewardAmount=0),e.rewardAmount-t.rewardAmount}));for(var e=0;e<t.myTickets.length;e++){var i=h(this.prefabRight);i.parent=this.scrollRight.content,i.position.set(0,0,0),i.getComponent(b).Init(t.data,t.myTickets[e],e+(this.pages.currentPage-1)*d.DEFAULT_PAGE)}},o.OnGetMyLotteries=function(t){var e=this;this.scrollLeft.content.destroyAllChildren(),this.scrollRight.content.destroyAllChildren(),this.myLotteriesData=JSON.parse(t).data,this.myLotteriesData=this.myLotteriesData.sort((function(t,e){return e.lotteryId-t.lotteryId})),0==this.myLotteriesData.length?(this.scrollLeft.node.active=!1,this.scrollRight.node.active=!1,this.boxEmptyLeft.active=!0,this.boxEmptyRight.active=!0):(this.scrollLeft.node.active=!0,this.scrollRight.node.active=!0,this.boxEmptyLeft.active=!1,this.boxEmptyRight.active=!1);for(var i=0;i<this.myLotteriesData.length;i++){var r=h(this.prefabLeft);r.parent=this.scrollLeft.content,r.position.set(0,0,0),r.getComponent(g).Init(this.myLotteriesData[i],(function(t){null!=e.nodeItemCurrent&&e.nodeItemCurrent.UnActive(),e.nodeItemCurrent=t,e.OpenRound(t)})),0==i&&r.getComponent(g).OnBtnClick()}},o.Hide=function(){this.node.active=!1},e}(f)).prototype,"pages",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(U.prototype,"scrollLeft",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(U.prototype,"boxEmptyLeft",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(U.prototype,"prefabLeft",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(U.prototype,"scrollRight",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(U.prototype,"boxEmptyRight",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(U.prototype,"prefabRight",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(U.prototype,"spriteList",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=e(U.prototype,"sfList",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=e(U.prototype,"txtResult",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=U))||D));o._RF.pop()}}}));

System.register("chunks:///_virtual/TabResultLottery.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResHttp.ts","./ConfigApi.ts","./UIItemLotteryResult.ts"],(function(t){"use strict";var e,i,o,r,n,s,l,c,a,u,p,f,y,h,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,s=t._decorator,l=t.Node,c=t.ScrollView,a=t.instantiate,u=t.log,p=t.sys,f=t.Component},function(t){y=t.ResHttp},function(t){h=t.ConfigApi},function(t){b=t.UIItemLotteryResult}],execute:function(){var m,d,I,L,g,v,R,C,H;n._RF.push({},"95ca5PfIttM1LQqxjcxC4au","TabResultLottery",void 0);var x=s.ccclass,A=s.property;t("TabResultLottery",(m=x("TabResultLottery"),d=A(l),I=A(c),L=A(l),m((R=e((v=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n))||this,o(e,"prefabItem",R,r(e)),o(e,"scrollItem",C,r(e)),o(e,"boxEmpty",H,r(e)),e}i(e,t);var n=e.prototype;return n.Show=function(){this.node.active=!0,y.GetRequest(h.LINK_API+h.get_histories_lotteries,{limit:h.DEFAULT_PAGE,offset:0},this.onGetHistoryLotteriesSuccess.bind(this),this.onGetHistoryLotteriesFailed.bind(this))},n.onGetHistoryLotteriesSuccess=function(t){if(0==(t=JSON.parse(t).data).length)this.boxEmpty.active=!0,this.scrollItem.node.active=!1;else{this.boxEmpty.active=!1,this.scrollItem.node.active=!0,this.scrollItem.content.destroyAllChildren();for(var e=0;e<t.length;e++){var i=a(this.prefabItem);i.parent=this.scrollItem.content,i.getComponent(b).Init(e,t[e])}}u("onGetHistoryLotteriesSuccess:"+JSON.stringify(t))},n.onGetHistoryLotteriesFailed=function(t){},n.OnBtnClick=function(){p.openURL("https://bscscan.com/address/0x8697C654d11407109655C8841620D2110793338A#code")},n.Hide=function(){this.node.active=!1},e}(f)).prototype,"prefabItem",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(v.prototype,"scrollItem",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(v.prototype,"boxEmpty",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v))||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/UIAirDrop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts","./UserModel.ts","./Utility.ts"],(function(e){"use strict";var r,l,i,o,t,a,n,u,s,L,c;return{setters:[function(e){r=e.applyDecoratedDescriptor,l=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){t=e.cclegacy,a=e._decorator,n=e.RichText,u=e.Label},function(e){s=e.PopUpBase},function(e){L=e.UserModel},function(e){c=e.Utility}],execute:function(){var b,p,d,f,m,_,F,h,y,E,I,g,A,D,N;t._RF.push({},"549ecI1xNBLfKOKv2f2wksM","UIAirDrop",void 0);var U=a.ccclass,w=a.property;e("UIAirDrop",(b=U("UIAirDrop"),p=w(n),d=w(u),f=w(n),m=w(u),_=w(u),F=w(u),b((E=r((y=function(e){function r(){for(var r,l=arguments.length,t=new Array(l),a=0;a<l;a++)t[a]=arguments[a];return r=e.call.apply(e,[this].concat(t))||this,i(r,"Label_Fused",E,o(r)),i(r,"Label_Fused_LE",I,o(r)),i(r,"Label_Fused2",g,o(r)),i(r,"Label_Fused_LE2",A,o(r)),i(r,"Label_Normal",D,o(r)),i(r,"Label_Normal_LE",N,o(r)),r}l(r,e);var t=r.prototype;return t.Show=function(){try{var r="<outline color=black width=3>";this.Label_Fused.string=r+L.farmWorldInfo.numberFusedPlantAirDrop+" PLANTED <color=#FFCE4F>FUSED V1</color> NFTS WILL EQUALLY SPLIT</outline>",this.Label_Fused_LE.string=c.numberWithCommas(L.farmWorldInfo.fusedRewardLe),this.Label_Fused2.string=r+L.farmWorldInfo.numberFusedSecondPlantAirDrop+" PLANTED <color=#FFCE4F>FUSED V2</color> NFTS WILL EQUALLY SPLIT</outline>",this.Label_Fused_LE2.string=c.numberWithCommas(L.farmWorldInfo.fusedSecondRewardLe),this.Label_Normal.string=L.farmWorldInfo.numberNormalPlantAirDrop+" PLANTED NORMAL NFTS WILL EQUALLY SPLIT",this.Label_Normal_LE.string=c.numberWithCommas(L.farmWorldInfo.normalRewardLe),e.prototype.OnShow.call(this)}catch(e){}},t.Hide=function(){e.prototype.OnHide.call(this)},r}(s)).prototype,"Label_Fused",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=r(y.prototype,"Label_Fused_LE",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=r(y.prototype,"Label_Fused2",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=r(y.prototype,"Label_Fused_LE2",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=r(y.prototype,"Label_Normal",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=r(y.prototype,"Label_Normal_LE",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=y))||h));t._RF.pop()}}}));

System.register("chunks:///_virtual/UIButtonTab.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,o,n,a,c,l,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,c=t.Node,l=t.Sprite,u=t.Color,p=t.Component}],execute:function(){var s,d,h,f,b,g,y;n._RF.push({},"d4869T3CWNMMrgScr91Mf99","UIButtonTab",void 0);var v=a.ccclass,S=a.property;t("UIButtonTab",(s=v("UIButtonTab"),d=S(c),h=S(l),s((g=e((b=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,r(e,"nodeLight",g,o(e)),r(e,"nodeSprite",y,o(e)),e}i(e,t);var n=e.prototype;return n.Show=function(){this.nodeLight.active=!0,this.nodeSprite.color=new u(255,255,255,255)},n.Hide=function(){this.nodeLight.active=!1,this.nodeSprite.color=new u(255,255,255,100)},e}(p)).prototype,"nodeLight",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(b.prototype,"nodeSprite",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=b))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/UICrowKing.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts","./UserModel.ts","./ResHttp.ts","./ConfigApi.ts","./Utility.ts"],(function(e){"use strict";var i,t,r,n,l,o,a,s,u,c,m,_,b,g,p,h,f,w,d;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,a=e.Toggle,s=e.Node,u=e.Label,c=e.Sprite,m=e.SpriteFrame,_=e.RichText,b=e.assetManager,g=e.Texture2D},function(e){p=e.PopUpBase},function(e){h=e.UserModel},function(e){f=e.ResHttp},function(e){w=e.ConfigApi},function(e){d=e.Utility}],execute:function(){var C,T,R,v,K,z,N,y,x,P,I,H,M,A,E,S,G,U,k,L,O,W,X,D,Y,F,B,Q,q,J,j,V,Z,$,ee,ie,te,re,ne,le,oe,ae,se,ue,ce,me,_e;l._RF.push({},"d2155l6FJRMY51kFXXPOtqx","UICrowKing",void 0);var be,ge=o.ccclass,pe=o.property;!function(e){e[e.KingCrow=0]="KingCrow",e[e.Prize_1=1]="Prize_1",e[e.Prize_2=2]="Prize_2",e[e.Guide=3]="Guide"}(be||(be={}));e("UICrowKing",(C=ge("UICrowKing"),T=pe(a),R=pe(a),v=pe(a),K=pe(s),z=pe(s),N=pe(s),y=pe(u),x=pe(c),P=pe(m),I=pe(u),H=pe(u),M=pe(u),A=pe(u),E=pe(u),S=pe(_),G=pe(s),U=pe(s),k=pe(u),L=pe(u),O=pe(_),W=pe(s),X=pe(s),C((F=i((Y=function(e){function i(){for(var i,t=arguments.length,l=new Array(t),o=0;o<t;o++)l[o]=arguments[o];return i=e.call.apply(e,[this].concat(l))||this,r(i,"m_toggleKingCrow",F,n(i)),r(i,"m_togglePrize",B,n(i)),r(i,"m_toggleGuide",Q,n(i)),r(i,"m_panelContent",q,n(i)),r(i,"m_crowKing_Available",J,n(i)),r(i,"m_crowKing_NotAvailable",j,n(i)),r(i,"m_labelNextCrowKings",V,n(i)),r(i,"m_spriteQuestion",Z,n(i)),r(i,"m_spriteQuestionHolder",$,n(i)),r(i,"m_labelCoordinatesX",ee,n(i)),r(i,"m_labelCoordinatesY",ie,n(i)),r(i,"m_labelTitle",te,n(i)),r(i,"m_labelReward",re,n(i)),r(i,"m_labelMaxHP",ne,n(i)),r(i,"m_RichTextResults",le,n(i)),r(i,"m_resultNode",oe,n(i)),r(i,"m_noResultNode",ae,n(i)),r(i,"m_labelReward_1",se,n(i)),r(i,"m_labelMaxHP_1",ue,n(i)),r(i,"m_RichTextResults_1",ce,n(i)),r(i,"m_resultNode_1",me,n(i)),r(i,"m_noResultNode_1",_e,n(i)),i.m_question_cacheSpriteFrame={},i.m_currentTab=be.KingCrow,i.apearenceTime=-1,i}t(i,e);var l=i.prototype;return l.update=function(e){this.updateTime()},l.ResetTabs=function(){this.m_currentTab=be.KingCrow,this.m_panelContent.forEach((function(e){e.active=!1})),this.m_toggleKingCrow.isChecked=!0},l.ShowTab=function(e){void 0===e&&(e=be.KingCrow),this.ResetTabs(),this.m_panelContent[e].active=!0},i.LoadSpriteByUrl=function(e,i){void 0===i&&(i=null);var t=e.replace("pvu.sgp1","pvu.sgp1.cdn");b.loadRemote(t,{ext:".png"},(function(e,t){var r=new m,n=new g;n.image=t,r.texture=n,r.packable=!0,null==i||i(r)}))},l.Show=function(){var e=this;this.OnShow(),this.ResetTabs(),this.m_labelReward.string=d.numberWithCommas(h.farmWorldInfo.crowKingPrize),this.m_labelReward_1.string=d.numberWithCommas(h.farmWorldInfo.crowKing.luckyHitPrize),this.m_RichTextResults.forEach((function(e){e.string="                                                     "})),this.m_RichTextResults_1.forEach((function(e){e.string="                                                     "})),f.GetRequest(w.LINK_API+w.farm_winner_crow_king,null,(function(i){var t=JSON.parse(i).data;if(e.m_resultNode.active=!1,e.m_resultNode_1.active=!1,t.length>0){e.m_resultNode.active=!0;for(var r=[],n=0,l=0,o=0;o<t.length;o++){var a=t[o].ownerId;t[o].isLuckyHit&&r.push(a);for(var s=0;s<t[o].numberHitted;s++)e.m_RichTextResults[n].string+="<br/><color=#4E302C>"+(l+1)+".  </color><color=#9E5050>"+d.MinimnizeUserID(a)+"</color>",(n+=1)>=e.m_RichTextResults.length&&(n=0),l+=1}n=0,e.m_resultNode_1.active=r.length>0;for(var u=0;u<r.length;u++){var c=r[u];e.m_RichTextResults_1[n].string+="<br/><color=#4E302C>"+(u+1)+".  </color><color=#9E5050>"+d.MinimnizeUserID(c)+"</color>",(n+=1)>=e.m_RichTextResults_1.length&&(n=0)}}e.m_noResultNode.active=!e.m_resultNode.active,e.m_noResultNode_1.active=!e.m_resultNode_1.active}),null),this.ShowTab(be.KingCrow),this.m_toggleKingCrow.isChecked=!0,this.m_labelTitle.string="KING CROW",this.apearenceTime=-1,this.m_labelNextCrowKings[0].string="";var i=h.GetCrowKingData();if(null!=i){this.apearenceTime=i.apearenceTime,this.updateTime();var t=h.GetCrowKingLocationIndex();null!=i.landLocations&&t>=0&&t<i.landLocations.length?(this.m_labelCoordinatesX.string="X = "+i.landLocations[t][0],this.m_labelCoordinatesY.string="Y = "+i.landLocations[t][1]):(this.m_labelCoordinatesX.string="X = -",this.m_labelCoordinatesY.string="Y = -"),this.m_labelNextCrowKings[0].string="KING CROW NEXT APPEAR TIME AT "+d.TimeToString_v2(new Date(this.apearenceTime))+" UTC",this.m_labelMaxHP.string="(KING CROW HAS "+d.numberWithCommas(i.maxHp)+" HP)"}else this.m_labelMaxHP.string="";this.m_labelMaxHP_1.string=this.m_labelMaxHP.string;for(var r=1;r<this.m_labelNextCrowKings.length;r++)this.m_labelNextCrowKings[r].string=this.m_labelNextCrowKings[0].string;h.IsCrowKingOutOfTime()?(this.m_crowKing_Available.forEach((function(e){e.active=!1})),this.m_crowKing_NotAvailable.forEach((function(e){e.active=!0}))):(this.m_crowKing_Available.forEach((function(e){e.active=!0})),this.m_crowKing_NotAvailable.forEach((function(e){e.active=!1})))},l.updateTime=function(){if(-1!=this.apearenceTime){var e=this.apearenceTime+h.farmWorldInfo.crowKingLengthTime-h.serverTime,i=Math.floor(e/6e4),t=Math.floor(e%6e4/1e3);i>0&&t>0&&i<=60?this.m_labelTitle.string="KING CROW LEAVE IN: "+i+":"+t:(this.m_labelTitle.string="KING CROW",this.apearenceTime)}},l.toobleCrowKing_onClicked=function(){this.ShowTab(be.KingCrow)},l.togglePrize1_onClicked=function(){this.ShowTab(be.Prize_1)},l.togglePrize2_onClicked=function(){this.ShowTab(be.Prize_2)},l.toggleGuide_onClicked=function(){this.ShowTab(be.Guide)},l.btnClose_onClicked=function(){this.OnHide()},i}(p)).prototype,"m_toggleKingCrow",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(Y.prototype,"m_togglePrize",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=i(Y.prototype,"m_toggleGuide",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=i(Y.prototype,"m_panelContent",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=i(Y.prototype,"m_crowKing_Available",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=i(Y.prototype,"m_crowKing_NotAvailable",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=i(Y.prototype,"m_labelNextCrowKings",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=i(Y.prototype,"m_spriteQuestion",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=i(Y.prototype,"m_spriteQuestionHolder",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=i(Y.prototype,"m_labelCoordinatesX",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=i(Y.prototype,"m_labelCoordinatesY",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=i(Y.prototype,"m_labelTitle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=i(Y.prototype,"m_labelReward",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=i(Y.prototype,"m_labelMaxHP",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=i(Y.prototype,"m_RichTextResults",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oe=i(Y.prototype,"m_resultNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=i(Y.prototype,"m_noResultNode",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=i(Y.prototype,"m_labelReward_1",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=i(Y.prototype,"m_labelMaxHP_1",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=i(Y.prototype,"m_RichTextResults_1",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),me=i(Y.prototype,"m_resultNode_1",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=i(Y.prototype,"m_noResultNode_1",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=Y))||D));l._RF.pop()}}}));

System.register("chunks:///_virtual/UIDescriptionInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts"],(function(i){"use strict";var e,t,n,o,r,l,a,s,c,p;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){r=i.cclegacy,l=i._decorator,a=i.Node,s=i.Sprite,c=i.Label},function(i){p=i.PopUpBase}],execute:function(){var h,u,d,b,f,v,S,g,w,y,_;r._RF.push({},"94995kxdftNFrCdP3exKByF","UIDescriptionInfo",void 0);var B=l.ccclass,I=l.property;i("UIDescriptionInfo",(h=B("UIDescriptionInfo"),u=I(a),d=I(s),b=I(c),f=I(c),h((g=e((S=function(i){function e(){for(var e,t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return e=i.call.apply(i,[this].concat(r))||this,n(e,"BG",g,o(e)),n(e,"iconSprite",w,o(e)),n(e,"labelLong",y,o(e)),n(e,"labelShort",_,o(e)),e._onShow=void 0,e._onHide=void 0,e}t(e,i);var r=e.prototype;return r.Show=function(i,e,t,n,o){this._onShow=n,this._onHide=o,null!=e?(this.BG.active=!0,this._onShow&&this._onShow(),this.iconSprite.spriteFrame=e,this.iconSprite.node.active=!0,this.iconSprite.node.worldScale=t.worldScale):(this.BG.active=!1,this.iconSprite.spriteFrame=e,this.iconSprite.node.active=!1),(i.match(/\n/g)||[]).length>3&&(i=i.slice(0,i.indexOf("\n"))),this.labelLong.string=i,this.labelShort.string=i,this.labelLong.node.parent.active=i.length>28,this.labelShort.node.parent.active=!this.labelLong.node.parent.active,this.node.worldPosition=t.worldPosition,this.node.active=!0},r.Hide=function(){this.BG.active||(this.node.active=!1)},r.onHide=function(){this._onHide&&this._onHide(),this.node.active=!1},e}(p)).prototype,"BG",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(S.prototype,"iconSprite",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(S.prototype,"labelLong",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(S.prototype,"labelShort",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=S))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIFitWidthHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utility.ts"],(function(t){"use strict";var i,e,n,a,s,o,r,c,h,l,d;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){s=t.cclegacy,o=t._decorator,r=t.UITransform,c=t.CCFloat,h=t.view,l=t.Component},function(t){d=t.Utility}],execute:function(){var u,p,f,b,C,y,v;s._RF.push({},"dee8cysVPNH9bwuhCz8NzbB","UIFitWidthHelper",void 0);var z=o.ccclass,S=o.property;t("UIFitWidthHelper",(u=z("UIFitWidthHelper"),p=S(r),f=S(c),u((y=i((C=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s))||this,n(i,"canvasToFit",y,a(i)),i.baseScale=1,i.designWidth=2001,n(i,"HardCodeWidth",v,a(i)),i.callbacks=[],i.frameCount=0,i}e(i,t);var s=i.prototype;return s.start=function(){this.designWidth=h.getDesignResolutionSize().width,-1==this.HardCodeWidth&&(this.HardCodeWidth=this.getComponent(r).width),d.addResizeCallBack(this.node,function(){this.UpdateSize(200)}.bind(this)),this.baseScale=this.node.scale.x},s.onEnable=function(){this.frameCount=2},s.update=function(t){this.frameCount<=0||(this.frameCount--,this.frameCount<=0&&this._updateSize())},s.UpdateSize=function(t){d.AsyncDelay(t).then(this._updateSize.bind(this))},s._updateSize=function(){if(null!=this.canvasToFit){if(this.HardCodeWidth>this.canvasToFit.width){var t=this.baseScale*(this.canvasToFit.width/this.designWidth);this.node.setScale(t,t,1)}else this.node.setScale(this.baseScale,this.baseScale,1);this.callbacks.forEach((function(t){t()}))}},s.onDestroy=function(){d.removeResizeCallBack(this.node)},i}(l)).prototype,"canvasToFit",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=i(C.prototype,"HardCodeWidth",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),b=C))||b));s._RF.pop()}}}));

System.register("chunks:///_virtual/UIIconCrowHunting.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,n,o,s,c,r,a,l,h,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,c=e._decorator,r=e.Sprite,a=e.sp,l=e.SpriteFrame,h=e.Node,u=e.Component}],execute:function(){var p,f,S,_,m,v,d,w,k,C,y;e("IconType",void 0),s._RF.push({},"d63e5HM+jVLGKq+zULAMHdU","UIIconCrowHunting",void 0);var U,g,b=c.ccclass,I=c.property;!function(e){e[e.Normal_1=0]="Normal_1",e[e.Normal_2=1]="Normal_2",e[e.Unlock_1=2]="Unlock_1",e[e.Unlock_2=3]="Unlock_2",e[e.Prize_1=4]="Prize_1",e[e.Prize_2=5]="Prize_2",e[e.Special_1=6]="Special_1",e[e.Special_2=7]="Special_2"}(U||(U=e("IconType",{}))),function(e){e[e.Select=0]="Select",e[e.UnSelect=1]="UnSelect",e[e.Result=2]="Result"}(g||(g={}));e("UIIconCrowHunting",(p=b("UIIconCrowHunting"),f=I(r),S=I(a.Skeleton),_=I([l]),m=I([h]),p((w=t((d=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return t=e.call.apply(e,[this].concat(s))||this,n(t,"icon",w,o(t)),n(t,"ske",k,o(t)),n(t,"iconFrames",C,o(t)),n(t,"effCrowVip",y,o(t)),t.id=-1,t.parent=null,t.iconType=U.Normal_1,t.iconStatus=g.Select,t}i(t,e);var s=t.prototype;return s.onLoad=function(){this.SetIcon(U.Normal_1),this.ske.setCompleteListener(this.onSpineCompleteListener.bind(this))},s.onSpineCompleteListener=function(){"select_crow_reveal"==this.ske.animation?this.ske.setAnimation(0,"select_crow_win",!0):"select_vip_reveal"==this.ske.animation&&this.ske.setAnimation(0,"select_vip_win",!0)},s.init=function(e,t){this.id=e,this.parent=t,this.SetIcon(U.Normal_1),this.icon.node.active=!0,this.ske.node.active=!1,this.iconStatus=g.Select,this.ske.setAnimation(0,"select_X_reveal",!1)},s.PlayAnim=function(e){if(this.icon.node.active=!1,this.ske.node.active=!0,this.iconStatus=g.Result,this.ske.setAnimation(0,e,!1),"select_vip_reveal"==e)this.scheduleOnce(function(){for(var e=0;e<this.effCrowVip.length;e++)this.effCrowVip[e].active=!0}.bind(this),.5);else for(var t=0;t<this.effCrowVip.length;t++)this.effCrowVip[t].active=!1},s.Select=function(){this.icon.node.active=!1,this.ske.node.active=!0,this.iconStatus=g.UnSelect,this.ske.setAnimation(0,"select",!1)},s.UnSelect=function(){this.icon.node.active=!0,this.ske.node.active=!1,this.iconStatus=g.Select,this.SetIcon(U.Normal_1)},s.SetIcon=function(e){if(this.iconType=e,this.icon.spriteFrame=this.iconFrames[e],this.iconType==U.Special_2)for(var t=0;t<this.effCrowVip.length;t++)this.effCrowVip[t].active=!0;else for(t=0;t<this.effCrowVip.length;t++)this.effCrowVip[t].active=!1},s.OnBtnClick=function(){this.iconStatus==g.Select?this.parent.ChoseSlot(this.id+1)&&this.Select():this.iconStatus==g.UnSelect?this.parent.UnChoseSlot(this.id+1)&&this.UnSelect():this.iconStatus==g.Result&&(this.parent.ResetData(),this.iconStatus=g.Select)},t}(u)).prototype,"icon",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(d.prototype,"ske",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(d.prototype,"iconFrames",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=t(d.prototype,"effCrowVip",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=d))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/UIInputAddSub.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,n,r,u,a,o,l,s,c,b;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){u=t.cclegacy,a=t._decorator,o=t.CCInteger,l=t.Button,s=t.SpriteFrame,c=t.EditBox,b=t.Component}],execute:function(){var p,d,h,m,f,A,S,y,v,C,U,g,w,I,z,x,B,Q,V;u._RF.push({},"b5689pcHdlDC6KS9+jFZp4r","UIInputAddSub",void 0);var D=a.ccclass,F=a.property;t("UIInputAddSub",(p=D("UIInputAddSub"),d=F(o),h=F(l),m=F(s),f=F(s),A=F(l),S=F(s),y=F(s),v=F(c),p((g=i((U=function(t){function i(){for(var i,e=arguments.length,u=new Array(e),a=0;a<e;a++)u[a]=arguments[a];return i=t.call.apply(t,[this].concat(u))||this,n(i,"maxQuality",g,r(i)),n(i,"btnAdd",w,r(i)),n(i,"sfAddActive",I,r(i)),n(i,"sfAddUnActive",z,r(i)),n(i,"btnSub",x,r(i)),n(i,"sfSubActive",B,r(i)),n(i,"sfSubUnActive",Q,r(i)),n(i,"editAmount",V,r(i)),i.amountCur=1,i.callbackUpdate=null,i}e(i,t);var u=i.prototype;return u.onEnable=function(){this.amountCur=1,this.UpdateView()},u.OnBtnAdd=function(){this.amountCur>=this.maxQuality||(this.amountCur++,this.UpdateView())},u.OnBtnSub=function(){this.amountCur<=1||(this.amountCur--,this.UpdateView())},u.OnBtnEditAmount=function(){this.amountCur=parseInt(this.editAmount.string),this.amountCur=Math.min(this.amountCur,this.maxQuality),this.amountCur=Math.max(this.amountCur,1),this.UpdateView()},u.UpdateView=function(){var t;this.editAmount.string=this.amountCur.toString(),this.amountCur<=1?this.btnSub.normalSprite=this.sfSubUnActive:this.btnSub.normalSprite=this.sfSubActive,this.amountCur>=this.maxQuality?this.btnAdd.normalSprite=this.sfAddUnActive:this.btnAdd.normalSprite=this.sfAddActive,null==(t=this.callbackUpdate)||t.call(this,this.amountCur)},i}(b)).prototype,"maxQuality",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),w=i(U.prototype,"btnAdd",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=i(U.prototype,"sfAddActive",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(U.prototype,"sfAddUnActive",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(U.prototype,"btnSub",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(U.prototype,"sfSubActive",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=i(U.prototype,"sfSubUnActive",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=i(U.prototype,"editAmount",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=U))||C));u._RF.pop()}}}));

System.register("chunks:///_virtual/UIItemChoseNumber.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){"use strict";var e,t,r,s,o,n,p,u,h,l;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,r=i.initializerDefineProperty,s=i.assertThisInitialized},function(i){o=i.cclegacy,n=i._decorator,p=i.Label,u=i.Sprite,h=i.SpriteFrame,l=i.Component}],execute:function(){var a,b,c,g,m,S,C,f,F,v,y;o._RF.push({},"44755SZcwdBLKATDBY+Gyzq","UIItemChoseNumber",void 0);var N=n.ccclass,d=n.property;i("UIItemChoseNumber",(a=N("UIItemChoseNumber"),b=d(p),c=d(u),g=d(h),m=d(h),a((f=e((C=function(i){function e(){for(var e,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return e=i.call.apply(i,[this].concat(o))||this,r(e,"txtNumber",f,s(e)),r(e,"bgSprite",F,s(e)),r(e,"bgActiveSF",v,s(e)),r(e,"bgNormalSF",y,s(e)),e.number=-1,e.isChosing=!1,e.popup=null,e}t(e,i);var o=e.prototype;return o.Init=function(i,e){this.popup=e,this.number=i,this.isChosing=!1,this.txtNumber.string=i+""},o.Chose=function(i){void 0===i&&(i=!0),5!=this.popup.numberChosingList.length&&(this.isChosing=!0,this.isChosing?this.bgSprite.spriteFrame=this.bgActiveSF:this.bgSprite.spriteFrame=this.bgNormalSF,i&&this.popup.AddNumber(this))},o.UnChose=function(i){void 0===i&&(i=!0),this.isChosing=!1,this.isChosing?this.bgSprite.spriteFrame=this.bgActiveSF:this.bgSprite.spriteFrame=this.bgNormalSF,i&&this.popup.RemoveNumber(this)},o.OnBtnToggle=function(){this.isChosing?this.UnChose():this.Chose()},e}(l)).prototype,"txtNumber",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(C.prototype,"bgSprite",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(C.prototype,"bgActiveSF",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(C.prototype,"bgNormalSF",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=C))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIItemDondCase.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,n,i,o,a,c,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Label,s=e.Component}],execute:function(){var l,u,p,d,f;o._RF.push({},"9db1erWCZRPzraKJcM5wRDW","UIItemDondCase",void 0);var I=a.ccclass,y=a.property;e("UIItemDondCase",(l=I("UIItemDondCase"),u=y(c),l((f=t((d=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"txtStt",f,i(t)),t}return r(t,e),t}(s)).prototype,"txtStt",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=d))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIItemDondCaseValue.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,n,l,a,o,u,c,s,b,p,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,o=e.Node,u=e.Sprite,c=e.SpriteFrame,s=e.Color,b=e.Label,p=e.LabelOutline,m=e.Component}],execute:function(){var f,h,v,g,N,y,D,F,d,w,z,C,I,A,S,x,O,B,U,T,V,L,_,P,k,H,R,j,q;e("UIItemDondCaseValueState",void 0),l._RF.push({},"287d0rQ0UhIE4GVH3vPAqxo","UIItemDondCaseValue",void 0);var E,G=a.ccclass,M=a.property;!function(e){e[e.Open=0]="Open",e[e.Close=1]="Close"}(E||(E=e("UIItemDondCaseValueState",{})));e("UIItemDondCaseValue",(f=G("UIItemDondCaseValue"),h=M(o),v=M(u),g=M(c),N=M(c),y=M(u),D=M(c),F=M(s),d=M(s),w=M(c),z=M(s),C=M(s),I=M(b),A=M(b),f((O=t((x=function(e){function t(){for(var t,r=arguments.length,l=new Array(r),a=0;a<r;a++)l[a]=arguments[a];return t=e.call.apply(e,[this].concat(l))||this,i(t,"boxNumber",O,n(t)),i(t,"spriteBgNumber",B,n(t)),i(t,"spriteFrameActiveNumber",U,n(t)),i(t,"spriteFrameDisableNumber",T,n(t)),i(t,"spriteBg",V,n(t)),i(t,"spriteFrameActive",L,n(t)),i(t,"colorTextActive",_,n(t)),i(t,"colorOutlineActive",P,n(t)),i(t,"spriteFrameDeactive",k,n(t)),i(t,"colorTextDeactive",H,n(t)),i(t,"colorOutlineDeactive",R,n(t)),i(t,"labelStt",j,n(t)),i(t,"labelNumber",q,n(t)),t.caseNumberServer=-1,t.index=-1,t.state=E.Open,t}r(t,e);var l=t.prototype;return l.Init=function(e,t){this.index=e,this.state=E.Open,this.labelStt.string=e.toString(),this.labelNumber.string=t},l.CheatCaseNumber=function(e){this.caseNumberServer=e,this.labelStt.string=e.toString()},l.UpdateState=function(e){switch(this.state=e,this.state){case E.Open:this.spriteBgNumber.spriteFrame=this.spriteFrameActiveNumber,this.boxNumber.active=!0,this.spriteBg.spriteFrame=this.spriteFrameActive,this.labelNumber.color=this.colorTextActive,this.labelNumber.getComponent(p).color=this.colorOutlineActive;break;case E.Close:this.spriteBgNumber.spriteFrame=this.spriteFrameDisableNumber,this.spriteBg.spriteFrame=this.spriteFrameDeactive,this.labelNumber.color=this.colorTextDeactive,this.labelNumber.getComponent(p).color=this.colorOutlineDeactive}},t}(m)).prototype,"boxNumber",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(x.prototype,"spriteBgNumber",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(x.prototype,"spriteFrameActiveNumber",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(x.prototype,"spriteFrameDisableNumber",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(x.prototype,"spriteBg",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(x.prototype,"spriteFrameActive",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(x.prototype,"colorTextActive",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(x.prototype,"colorOutlineActive",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(x.prototype,"spriteFrameDeactive",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(x.prototype,"colorTextDeactive",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(x.prototype,"colorOutlineDeactive",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(x.prototype,"labelStt",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(x.prototype,"labelNumber",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=x))||S));l._RF.pop()}}}));

System.register("chunks:///_virtual/UIItemDondCaseVote.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dealOrNoDealConfig.ts","./DealOrNoDealMiniGame.ts","./DondSoundController.ts"],(function(e){"use strict";var t,i,s,n,o,r,a,c,l,S,h,u,A,_,p,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,s=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,a=e.Label,c=e.CCInteger,l=e.Sprite,S=e.SpriteFrame,h=e.Color,u=e.Component},function(e){A=e.dealOrNoDealConfig},function(e){_=e.DealOrNoDealMiniGame},function(e){p=e.DondSoundController,C=e.DondSoundEnum}],execute:function(){var E,d,T,V,I,f,v,m,x,P,D,G,N;e("UIItemDondCaseVoteState",void 0),o._RF.push({},"97691ETBUlH3KDhSJuFHUeo","UIItemDondCaseVote",void 0);var b,O=r.ccclass,g=r.property;!function(e){e[e.Close_Deactive=0]="Close_Deactive",e[e.Close_Lock=1]="Close_Lock",e[e.Close_Select=2]="Close_Select",e[e.Close_Active=3]="Close_Active",e[e.Open_Active=4]="Open_Active"}(b||(b=e("UIItemDondCaseVoteState",{})));e("UIItemDondCaseVote",(E=O("UIItemDondCaseVote"),d=g(a),T=g(c),V=g(l),I=g([S]),f=g(a),E((x=t((m=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,s(t,"txtPercentVote",x,n(t)),s(t,"index",P,n(t)),s(t,"spriteCase",D,n(t)),s(t,"spriteFrameList",G,n(t)),s(t,"txt",N,n(t)),t.state=b.Close_Deactive,t}i(t,e);var o=t.prototype;return o.onLoad=function(){this.txt.color=new h(255,255,255,255),this.SetActivePercentVote(!1),this.txt.string=A.CASE_NAMES[this.index]},o.Show=function(){this.SetActivePercentVote(!1),this.spriteCase.node.active=!0},o.Hide=function(){this.spriteCase.node.active=!1},o.SetIndexCase=function(e){this.index=e,this.txt.string=A.CASE_NAMES[this.index]},o.UpdatePercentVote=function(e,t){switch(_.Instance.GetState()){case A.GAME_STATE.VOTING_PHASE:case A.GAME_STATE.VOTING_SECOND_PHASE:case A.GAME_STATE.VOTING_THIRD_PHASE:case A.GAME_STATE.VOTING_FOURTH_PHASE:case A.GAME_STATE.VOTING_LAST_PHASE:this.state==b.Open_Active?this.SetActivePercentVote(!1):(this.SetActivePercentVote(!0),this.UpdateValuePercentVote(e,t));break;default:this.SetActivePercentVote(!1)}},o.UpdateState=function(e){this.SetActivePercentVote(!1),e.isRemoved?this.ShowCaseNumber(e.caseNumber):e.isHighestVoted?this.Hide():this.Show()},o.UpdateSprite=function(e){switch(this.state=e,e){case b.Close_Deactive:this.txt.color=new h(255,255,255,255),this.txt.string=A.CASE_NAMES[this.index],this.spriteCase.spriteFrame=this.spriteFrameList[e];break;case b.Close_Lock:this.txt.color=new h(255,255,255,100),this.txt.string=A.CASE_NAMES[this.index],this.spriteCase.spriteFrame=this.spriteFrameList[e];break;case b.Close_Select:case b.Close_Active:this.txt.color=new h(255,255,255,255),this.txt.string=A.CASE_NAMES[this.index],this.spriteCase.spriteFrame=this.spriteFrameList[e];break;default:this.txt.color=new h(255,255,255,255)}},o.ShowCaseNumber=function(e){this.state=b.Open_Active,this.spriteCase.spriteFrame=this.spriteFrameList[b.Open_Active],this.txt.color=new h(255,255,255,255),this.txt.string=e+"",this.SetActivePercentVote(!1)},o.UpdateValuePercentVote=function(e,t){if(t>0){var i=e/t*100;this.txtPercentVote.string=parseInt(i+"")+"%"}else this.txtPercentVote.string="0%"},o.SetActivePercentVote=function(e){this.txtPercentVote.node.parent.active=e},o.OnBtnClick=function(){if(0!=_.Instance.CanVoting()&&(!_.Instance.IsViewer()&&!(_.Instance.GetState()==A.GAME_STATE.VOTING_PHASE&&_.Instance.isVoted||1==_.Instance.isVotedRemove||this.state!=b.Close_Deactive&&this.state!=b.Close_Select)))switch(p.Instance.PlaySound(C.SFX_Select_Case),_.Instance.GetState()){case A.GAME_STATE.VOTING_PHASE:_.Instance.panelVoteCases.ChoseCaseToKeep(A.CASE_NAMES[this.index].toLocaleLowerCase());break;case A.GAME_STATE.VOTING_SECOND_PHASE:case A.GAME_STATE.VOTING_THIRD_PHASE:case A.GAME_STATE.VOTING_FOURTH_PHASE:case A.GAME_STATE.VOTING_LAST_PHASE:_.Instance.panelVoteCases.ChoseCaseToRemove(A.CASE_NAMES[this.index].toLocaleLowerCase())}},t}(u)).prototype,"txtPercentVote",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(m.prototype,"index",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=t(m.prototype,"spriteCase",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(m.prototype,"spriteFrameList",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=t(m.prototype,"txt",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=m))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIItemElementMyAsset.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,r,o,s,c,l,a,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,c=t.Label,l=t.Sprite,a=t.SpriteFrame,u=t.Component}],execute:function(){var p,m,y,f,h,I,d,b,g;t("UIItemElementMyAssetType",void 0),o._RF.push({},"3cf45d4sIRMf72VmE608zcO","UIItemElementMyAsset",void 0);var M,P=s.ccclass,v=s.property;!function(t){t[t.Position=0]="Position",t[t.Slot=1]="Slot",t[t.Bidding=2]="Bidding",t[t.Plant=3]="Plant",t[t.MotherTree=4]="MotherTree"}(M||(M=t("UIItemElementMyAssetType",{})));t("UIItemElementMyAsset",(p=P("UIItemElementMyAsset"),m=v(c),y=v(l),f=v([a]),p((d=e((I=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,n(e,"txt",d,r(e)),n(e,"icon",b,r(e)),n(e,"iconList",g,r(e)),e}return i(e,t),e.prototype.Init=function(t,e){switch(this.icon.spriteFrame=this.iconList[t],t){case M.Position:this.txt.string=e[0]+","+e[1];break;case M.Slot:case M.Bidding:case M.Plant:case M.MotherTree:this.txt.string=e}},e}(u)).prototype,"txt",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(I.prototype,"icon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(I.prototype,"iconList",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=I))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIItemLottery.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIItemNumberLottery.ts","./Utility.ts","./LotteryMiniGame.ts"],(function(t){"use strict";var e,i,n,r,o,a,u,s,l,b,c,m,p,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,u=t.Sprite,s=t.SpriteFrame,l=t.Label,b=t.Node,c=t.Component},function(t){m=t.UIItemNumberLottery},function(t){p=t.Utility},function(t){h=t.LotteryMiniGame}],execute:function(){var y,f,g,d,v,I,L,R,B,w,N,S,z,U,x,_,k,A,F;o._RF.push({},"77134Ds1G9L6I/Of3hhaHYw","UIItemLottery",void 0);var T=a.ccclass,D=a.property;t("UIItemLottery",(y=T("UIItemLottery"),f=D(u),g=D(s),d=D(s),v=D(l),I=D(b),L=D(b),R=D(b),B=D([m]),y((S=e((N=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"bgSprite",S,r(e)),n(e,"bgEmpty",z,r(e)),n(e,"bgActive",U,r(e)),n(e,"txtStt",x,r(e)),n(e,"btnRandom",_,r(e)),n(e,"btnRemove",k,r(e)),n(e,"contentNumber",A,r(e)),n(e,"uiItemList",F,r(e)),e.index=0,e.numbers=[],e.tabBuy=void 0,e}i(e,t);var o=e.prototype;return o.init=function(t,e){this.tabBuy=e,this.index=t,this.txtStt.string="#"+(this.index+1),this.reset()},o.onBtnChosePopup=function(){this.tabBuy.ShowPopupChoseNumber(this)},o.RandomNumbers=function(t){this.UpdateNumbers(t),this.tabBuy.AddTicketBuying(this)},o.UpdateNumbers=function(t){t=t.sort((function(t,e){return t-e})),this.numbers=t,this.btnRandom.active=!1,this.btnRemove.active=!0,this.bgSprite.spriteFrame=this.bgActive;for(var e=0;e<this.uiItemList.length;e++)this.uiItemList[e].init(t[e])},o.onBtnRandom=function(){this.RandomNumbers(p.RandomLottery(h.Instance._tabBuyTicket.data.lotteryId,h.Instance._tabBuyTicket.GetListNumbers()))},o.onBtnRemove=function(){this.reset(),this.tabBuy.RemoveTicketBuying(this)},o.reset=function(){this.btnRandom.active=!0,this.btnRemove.active=!1,this.bgSprite.spriteFrame=this.bgEmpty;for(var t=0;t<this.uiItemList.length;t++)this.uiItemList[t].init(null);this.numbers=[]},e}(c)).prototype,"bgSprite",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(N.prototype,"bgEmpty",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=e(N.prototype,"bgActive",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(N.prototype,"txtStt",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(N.prototype,"btnRandom",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(N.prototype,"btnRemove",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(N.prototype,"contentNumber",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(N.prototype,"uiItemList",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=N))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIItemLotteryResult.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResHttp.ts","./ConfigApi.ts","./Utility.ts"],(function(t){"use strict";var e,i,n,r,o,a,s,l,p,c,u,h,b,d,f,g,y,w,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Node,l=t.Label,p=t.Sprite,c=t.SpriteFrame,u=t.log,h=t.instantiate,b=t.Vec3,d=t.UITransform,f=t.Size,g=t.Component},function(t){y=t.ResHttp},function(t){w=t.ConfigApi},function(t){m=t.Utility}],execute:function(){var k,J,z,x,I,R,v,D,L,S,C,O,T,U,F,W,A,B,G,H,N,_,P,V,K,M,Y,j,q,Z,E,Q,X;o._RF.push({},"a8350V7uDVAuYZ6Y7kTu9Pc","UIItemLotteryResult",void 0);var $=a.ccclass,tt=a.property;t("UIItemLotteryResult",(k=$("UIItemLotteryResult"),J=tt(s),z=tt(l),x=tt(l),I=tt(l),R=tt(l),v=tt([p]),D=tt([c]),L=tt([l]),S=tt(s),C=tt(s),O=tt(s),T=tt(s),U=tt(s),F=tt(s),W=tt(s),k((G=e((B=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"nodeArrow",G,r(e)),n(e,"txtHeader",H,r(e)),n(e,"txtJackpot1",N,r(e)),n(e,"txtJackpot2",_,r(e)),n(e,"txtJackpot3",P,r(e)),n(e,"spriteList",V,r(e)),n(e,"sfList",K,r(e)),n(e,"txtResult",M,r(e)),n(e,"prefabItemUserWin",Y,r(e)),n(e,"nodeJackpot1",j,r(e)),n(e,"nodeJackpot2",q,r(e)),n(e,"nodeJackpot3",Z,r(e)),n(e,"nodeLastest",E,r(e)),n(e,"nodeBox2",Q,r(e)),n(e,"contentBox2",X,r(e)),e.data=null,e.winners=null,e.isFirstOpenDetail=!1,e.isOpenDetail=!1,e}i(e,t);var o=e.prototype;return o.Init=function(t,e){this.nodeLastest.active=0==t,this.data=e,this.txtHeader.string="ROUND #"+e.lotteryId+"\n"+e.nextRound.split("T")[0],this.initResult(),y.GetRequest(w.LINK_API+w.get_winners,{lotteryId:this.data.lotteryId},this.onGetWinnerSuccess.bind(this),this.onGetWinnerFailed.bind(this))},o.onGetWinnerSuccess=function(t){this.winners=JSON.parse(t).data;for(var e=0,i=0,n=0,r=0;r<this.winners.length;r++)3==this.winners[r].winType&&n++,4==this.winners[r].winType&&i++,5==this.winners[r].winType&&e++;this.txtJackpot1.string="JACKPOT: "+e,this.txtJackpot2.string="2ND: "+i,this.txtJackpot3.string="3RD: "+n,u("onGetWinnerSuccess 1:"+JSON.stringify(this.winners))},o.onGetWinnerFailed=function(t){},o.initResult=function(){var t=[0,1,2,3,4],e=this.data.lotteryResult;e=e.sort((function(t,e){return t-e}));for(var i=0;i<this.txtResult.length;i++){var n=parseInt(Math.random()*t.length+""),r=t[n];t.splice(n,1),i<=e.length-1?this.txtResult[i].string=e[i]:this.txtResult[i].string="-",this.spriteList[i].spriteFrame=this.sfList[r]}},o.OnBtnClickDetail=function(){0==this.isFirstOpenDetail&&(this.isFirstOpenDetail=!0,this.initDetail()),this.isOpenDetail=!this.isOpenDetail,this.nodeBox2.active=this.isOpenDetail},o.initDetail=function(){for(var t=0;t<this.winners.length;t++){var e=this.winners[t],i=h(this.prefabItemUserWin);i.position=new b(0,0,0),i.getComponent(l).string=m.reduceWallet(e.ownerId),3==e.winType?i.parent=this.nodeJackpot3:4==e.winType?i.parent=this.nodeJackpot2:5==e.winType&&(i.parent=this.nodeJackpot1)}this.scheduleOnce((function(){var t=0;t<this.nodeJackpot1.getComponent(d).contentSize.height&&(t=this.nodeJackpot1.getComponent(d).contentSize.height),t<this.nodeJackpot2.getComponent(d).contentSize.height&&(t=this.nodeJackpot2.getComponent(d).contentSize.height),t<this.nodeJackpot3.getComponent(d).contentSize.height&&(t=this.nodeJackpot3.getComponent(d).contentSize.height);var e=this.contentBox2.getComponent(d);t+=50,e.setContentSize(new f(e.contentSize.width,t))}),0)},e}(g)).prototype,"nodeArrow",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(B.prototype,"txtHeader",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(B.prototype,"txtJackpot1",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(B.prototype,"txtJackpot2",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(B.prototype,"txtJackpot3",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(B.prototype,"spriteList",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=e(B.prototype,"sfList",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=e(B.prototype,"txtResult",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=e(B.prototype,"prefabItemUserWin",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(B.prototype,"nodeJackpot1",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(B.prototype,"nodeJackpot2",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e(B.prototype,"nodeJackpot3",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(B.prototype,"nodeLastest",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(B.prototype,"nodeBox2",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=e(B.prototype,"contentBox2",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=B))||A));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIItemMyAsset.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIItemElementMyAsset.ts","./UserModel.ts","./ResHttp.ts","./ConfigApi.ts","./UIPopupManager.ts","./UIToast.ts","./AdsBannerController.ts"],(function(t){"use strict";var n,e,i,o,a,r,s,l,c,u,d,p,h,f,I,m,b,A,y;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Sprite,l=t.Node,c=t.instantiate,u=t.Component},function(t){d=t.UIItemElementMyAsset,p=t.UIItemElementMyAssetType},function(t){h=t.UserModel,f=t.FarmWorldState},function(t){I=t.ResHttp},function(t){m=t.ConfigApi},function(t){b=t.UIPopupManager},function(t){A=t.TypeNoticeToast},function(t){y=t.AdsBannerController}],execute:function(){var g,v,B,P,M,L,S,U,C,N,E;a._RF.push({},"f92de7jaQtK8ZsUbL+0cgR9","UIItemMyAsset",void 0);var T=r.ccclass,_=r.property;t("UIItemMyAsset",(g=T("UIItemMyAsset"),v=_(s),B=_(s),P=_(l),M=_(l),g((U=n((S=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,i(n,"iconLand",U,o(n)),i(n,"iconAd",C,o(n)),i(n,"prefabElement",N,o(n)),i(n,"content",E,o(n)),n.data=null,n.root=null,n}e(n,t);var a=n.prototype;return a.Init=function(t,n){this.data=n,this.root=t,this.InitAdBanner(),this.InitLocation(),null!=n.numberBiddingSlots&&this.InitBidding(),null!=n.numberSlots&&this.InitNumberSlots(),null!=n.numberMotherTrees&&this.InitNumberMotherTrees(),null!=n.numberPlants&&this.InitNumberPlants()},a.InitNumberPlants=function(){var t=c(this.prefabElement);t.setParent(this.content),t.getComponent(d).Init(p.Plant,this.data.numberPlants)},a.InitNumberMotherTrees=function(){var t=c(this.prefabElement);t.setParent(this.content),t.getComponent(d).Init(p.MotherTree,this.data.numberMotherTrees)},a.InitAdBanner=function(){this.iconAd.node.active=!1,this.iconLand.node.active=!0,this.root.GetLandAdsBanner(this.data.location[0],this.data.location[1],this.ApplyAdBanner.bind(this))},a.ApplyAdBanner=function(t,n){var e=this;if(this.data.location[0]+","+this.data.location[1]==n){var i=this;y.LoadSpriteAdByUrl(t,(function(t){null!=i&&null!=i.iconLand&&null!=i.iconAd&&null!=t&&(i.iconAd.spriteFrame=t,e.iconAd.node.active=!0,e.iconLand.node.active=!1)}))}},a.InitBidding=function(){var t=c(this.prefabElement);t.setParent(this.content),t.getComponent(d).Init(p.Bidding,this.data.numberBiddingSlots)},a.InitNumberSlots=function(){var t=c(this.prefabElement);t.setParent(this.content),t.getComponent(d).Init(p.Slot,this.data.numberSlots)},a.InitLocation=function(){var t=c(this.prefabElement);t.setParent(this.content),t.getComponent(d).Init(p.Position,this.data.location)},a.onBtnVisit=function(){b.Instance.Loading(!0);var t={x:this.data.location[0],y:this.data.location[1]},n=this;I.GetRequest(m.LINK_API+m.lands_get_by_coordinate,t,(function(t){var e=JSON.parse(t).data[0];h.currentLandData=e,h.GetFarmWorldState()==f.PRE_BIDDING||1==e.isCenter?b.Instance.ShowToast("INFO","Can not join this land",A.Info):n.root.Hide((function(){b.Instance.LoadScene("3.Farm")}))}),null)},a.onBtnRentAd=function(){b.Instance.ShowUIPopupBidAd(this.data.location[0],this.data.location[1],this.data._id)},n}(u)).prototype,"iconLand",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(S.prototype,"iconAd",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(S.prototype,"prefabElement",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(S.prototype,"content",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=S))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIItemMyAssetPlant.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIItemElementMyAsset.ts","./UserModel.ts","./ResHttp.ts","./ConfigApi.ts","./UIPopupManager.ts","./UIToast.ts","./AdsBannerController.ts"],(function(t){"use strict";var n,e,i,r,o,a,l,s,u,c,p,d,b,h,f,m,g,I,A,y,v;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Sprite,s=t.SpriteFrame,u=t.Label,c=t.Node,p=t.instantiate,d=t.Component},function(t){b=t.UIItemElementMyAsset,h=t.UIItemElementMyAssetType},function(t){f=t.UserModel,m=t.FarmWorldState},function(t){g=t.ResHttp},function(t){I=t.ConfigApi},function(t){A=t.UIPopupManager},function(t){y=t.TypeNoticeToast},function(t){v=t.AdsBannerController}],execute:function(){var S,P,w,B,D,L,M,N,x,z,C,U,E,T,F,_,H,R,W,G,j,q,J,O,k,K,V,X,Q;o._RF.push({},"7dc27L6Xh9NxLcqxRzBnfJR","UIItemMyAssetPlant",void 0);var Y=a.ccclass,Z=a.property;t("UIItemMyAssetPlant",(S=Y("UIItemMyAssetPlant"),P=Z(l),w=Z(s),B=Z(s),D=Z(u),L=Z(u),M=Z(u),N=Z(u),x=Z(c),z=Z(c),C=Z(l),U=Z(l),E=Z(c),T=Z(c),S((H=n((_=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,i(n,"bg",H,r(n)),i(n,"bgNormal",R,r(n)),i(n,"bgAirDrop",W,r(n)),i(n,"txtHarvest",G,r(n)),i(n,"txtScareCrow",j,r(n)),i(n,"txtWatering",q,r(n)),i(n,"txtAirDrop",J,r(n)),i(n,"nodeStats",O,r(n)),i(n,"nodeAirDrop",k,r(n)),i(n,"iconLand",K,r(n)),i(n,"iconAd",V,r(n)),i(n,"prefabElement",X,r(n)),i(n,"content",Q,r(n)),n.data=null,n.root=null,n}e(n,t);var o=n.prototype;return o.Init=function(t,n){this.data=n,this.root=t,this.InitAdBanner(),this.InitLocation(),null!=n.numberBiddingSlots&&this.InitBidding(),null!=n.numberSlots&&this.InitNumberSlots(),null!=n.numberMotherTrees&&this.InitNumberMotherTrees(),null!=n.numberPlants&&this.InitNumberPlants(),n.numberAirDrop?(this.bg.spriteFrame=this.bgAirDrop,this.nodeAirDrop.active=!0,this.nodeStats.active=!1,this.txtAirDrop.string="Airdrop receive:"+n.numberAirDrop):(this.bg.spriteFrame=this.bgNormal,this.nodeAirDrop.active=!1,this.nodeStats.active=!0,this.txtHarvest.string=n.numberHavest,this.txtScareCrow.string=n.numberHaveCrow,this.txtWatering.string=n.numberNeedWater)},o.InitNumberPlants=function(){var t=p(this.prefabElement);t.setParent(this.content),t.getComponent(b).Init(h.Plant,this.data.numberPlants)},o.InitNumberMotherTrees=function(){var t=p(this.prefabElement);t.setParent(this.content),t.getComponent(b).Init(h.MotherTree,this.data.numberMotherTrees)},o.InitAdBanner=function(){this.iconAd.node.active=!1,this.iconLand.node.active=!0,this.root.GetLandAdsBanner(this.data.location[0],this.data.location[1],this.ApplyAdBanner.bind(this))},o.ApplyAdBanner=function(t,n){var e=this;if(this.data.location[0]+","+this.data.location[1]==n){var i=this;v.LoadSpriteAdByUrl(t,(function(t){null!=i&&null!=i.iconLand&&null!=i.iconAd&&null!=t&&(i.iconAd.spriteFrame=t,e.iconAd.node.active=!0,e.iconLand.node.active=!1)}))}},o.InitBidding=function(){var t=p(this.prefabElement);t.setParent(this.content),t.getComponent(b).Init(h.Bidding,this.data.numberBiddingSlots)},o.InitNumberSlots=function(){var t=p(this.prefabElement);t.setParent(this.content),t.getComponent(b).Init(h.Slot,this.data.numberSlots)},o.InitLocation=function(){var t=p(this.prefabElement);t.setParent(this.content),t.getComponent(b).Init(h.Position,this.data.location)},o.onBtnVisit=function(){A.Instance.Loading(!0);var t={x:this.data.location[0],y:this.data.location[1]},n=this;g.GetRequest(I.LINK_API+I.lands_get_by_coordinate,t,(function(t){var e=JSON.parse(t).data[0];f.currentLandData=e,f.GetFarmWorldState()==m.PRE_BIDDING||1==e.isCenter?A.Instance.ShowToast("INFO","Can not join this land",y.Info):n.root.Hide((function(){A.Instance.LoadScene("3.Farm")}))}),null)},o.onBtnRentAd=function(){A.Instance.ShowUIPopupBidAd(this.data.location[0],this.data.location[1],this.data._id)},n}(d)).prototype,"bg",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(_.prototype,"bgNormal",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(_.prototype,"bgAirDrop",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(_.prototype,"txtHarvest",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=n(_.prototype,"txtScareCrow",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=n(_.prototype,"txtWatering",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=n(_.prototype,"txtAirDrop",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(_.prototype,"nodeStats",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(_.prototype,"nodeAirDrop",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=n(_.prototype,"iconLand",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=n(_.prototype,"iconAd",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=n(_.prototype,"prefabElement",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=n(_.prototype,"content",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=_))||F));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIItemMyAssetsBidding.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserModel.ts","./ResHttp.ts","./ConfigApi.ts","./UIPopupManager.ts","./UIToast.ts","./UIPopupMyAssets.ts","./AdsBannerController.ts"],(function(t){"use strict";var i,n,e,o,a,r,d,l,s,c,u,h,p,b,L,f,g,B,I;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,d=t.Sprite,l=t.Label,s=t.Node,c=t.EditBox,u=t.Component},function(t){h=t.UserModel,p=t.FarmWorldState},function(t){b=t.ResHttp},function(t){L=t.ConfigApi},function(t){f=t.UIPopupManager},function(t){g=t.TypeNoticeToast},function(t){B=t.MyAssetSortType},function(t){I=t.AdsBannerController}],execute:function(){var y,A,v,m,N,S,U,P,M,w,x,_,E,z,O,R,D,C,F;a._RF.push({},"aedc1EiHPRJxLyNGYZUZ7lU","UIItemMyAssetsBidding",void 0);var T=r.ccclass,G=r.property;t("UIItemMyAssetsBidding",(y=T("UIItemMyAssetsBidding"),A=G(d),v=G(d),m=G(l),N=G(l),S=G(s),U=G(s),P=G(l),M=G(c),y((_=i((x=function(t){function i(){for(var i,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return i=t.call.apply(t,[this].concat(a))||this,e(i,"iconLand",_,o(i)),e(i,"iconAd",E,o(i)),e(i,"LandLocationLabel",z,o(i)),e(i,"SlotLocationLabel",O,o(i)),e(i,"OutBidNode",R,o(i)),e(i,"BiddingNode",D,o(i)),e(i,"currentBidLabel",C,o(i)),e(i,"bidEditBox",F,o(i)),i.data=null,i.root=null,i}n(i,t);var a=i.prototype;return a.Init=function(t,i){this.root=t,this.InitData(i),this.InitAdBanner()},a.InitData=function(t){this.data=t,this.LandLocationLabel.string=t.landLocation[0]+","+t.landLocation[1],null==t.location&&(t.location=t.slotLocation),this.SlotLocationLabel.string=t.location[0]+","+t.location[1],this.currentBidLabel.string=t.highestPrice,this.bidEditBox.string=this.bidValue(t.highestPrice).toString(),this.OutBidNode.active=t.highestUser!=h.ownerId,this.BiddingNode.active=!this.OutBidNode.active,this.root.curSortType==B.OutBid?this.node.active=this.OutBidNode.active:this.node.active=!0},a.InitAdBanner=function(){this.iconAd.node.active=!1,this.iconLand.node.active=!0,this.root.GetLandAdsBanner(this.data.landLocation[0],this.data.landLocation[1],this.ApplyAdBanner.bind(this))},a.ApplyAdBanner=function(t,i){var n=this;if(this.LandLocationLabel.string==i){var e=this;I.LoadSpriteAdByUrl(t,(function(t){null!=e&&null!=e.iconLand&&null!=e.iconAd&&null!=t&&(e.iconAd.spriteFrame=t,n.iconAd.node.active=!0,n.iconLand.node.active=!1)}))}},a.onBtnVisit=function(){var t={x:this.data.landLocation[0],y:this.data.landLocation[1]},i=this;b.GetRequest(L.LINK_API+L.lands_get_by_coordinate,t,(function(t){var n=JSON.parse(t).data[0];h.currentLandData=n,h.GetFarmWorldState()==p.PRE_BIDDING||1==n.isCenter?f.Instance.ShowToast("INFO","Can not join this land",g.Info):i.root.Hide((function(){f.Instance.LoadScene("3.Farm")}))}),null)},a.onBtnRentAd=function(){f.Instance.ShowUIPopupBidAd(this.data.landLocation[0],this.data.landLocation[1],this.data._id)},a.onBid=function(){var t={price:this.bidValue(this.bidEditBox.string)};b.PostRequest(L.LINK_API+L.farm_bidding+this.data.slotId,t,(function(t){var i=JSON.parse(t);h.LE=i.data.leAmount}),null)},a.onbidEditBox=function(){this.bidEditBox.string=this.bidValue(this.bidEditBox.string).toString()},a.bidValue=function(t){var i=+t;return i=Math.max(this.data.highestPrice+1,i),i=10*Math.ceil(i/10)},i}(u)).prototype,"iconLand",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(x.prototype,"iconAd",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(x.prototype,"LandLocationLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=i(x.prototype,"SlotLocationLabel",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(x.prototype,"OutBidNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(x.prototype,"BiddingNode",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=i(x.prototype,"currentBidLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(x.prototype,"bidEditBox",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=x))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIItemMyTicketLotteries.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utility.ts"],(function(t){"use strict";var e,i,r,o,n,l,a,s,c,u,p,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,l=t._decorator,a=t.Label,s=t.Sprite,c=t.SpriteFrame,u=t.Color,p=t.Component},function(t){b=t.Utility}],execute:function(){var h,g,m,f,k,y,J,w,x,d,R,T,v,L,I,z,C,U,D;n._RF.push({},"54112C3oLFFQID/qjUirpd5","UIItemMyTicketLotteries",void 0);var F=l.ccclass,A=l.property;t("UIItemMyTicketLottery",(h=F("UIItemMyTicketLottery"),g=A(a),m=A(a),f=A(s),k=A(a),y=A([a]),J=A([s]),w=A(c),x=A(c),h((T=e((R=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n))||this,r(e,"txtRound",T,o(e)),r(e,"txtJackpot",v,o(e)),r(e,"bgJackpot",L,o(e)),r(e,"txtTitleJackpot",I,o(e)),r(e,"txtResultList",z,o(e)),r(e,"bgResultList",C,o(e)),r(e,"sfResult1",U,o(e)),r(e,"sfResult2",D,o(e)),e}i(e,t);var n=e.prototype;return n.Init=function(t,e,i){this.txtRound.string="#"+(i+1),this.initNumbers(t.result,e),null==e.winType?this.bgJackpot.node.active=!1:3==e.winType?(this.txtJackpot.string=b.numberWithCommas(e.rewardAmount),this.bgJackpot.node.active=!0,this.bgJackpot.color=new u(193,229,183,255),this.txtTitleJackpot.string="3RD",this.txtTitleJackpot.color=new u(43,144,65,255)):4==e.winType?(this.txtJackpot.string=b.numberWithCommas(e.rewardAmount),this.bgJackpot.node.active=!0,this.bgJackpot.color=new u(193,229,183,255),this.txtTitleJackpot.string="2ND",this.txtTitleJackpot.color=new u(43,144,65,255)):5==e.winType?(this.txtJackpot.string=b.numberWithCommas(e.rewardAmount),this.bgJackpot.node.active=!0,this.bgJackpot.color=new u(255,185,80,255),this.txtTitleJackpot.string="JACKPOT",this.txtTitleJackpot.color=new u(158,80,80,255)):this.bgJackpot.node.active=!1},n.initNumbers=function(t,e){var i=e.choiceNumbers;i=i.sort((function(t,e){return t-e}));for(var r=0;r<i.length;r++){this.txtResultList[r].string=i[r];var o=t.indexOf(i[r]);this.bgResultList[r].spriteFrame=o>=0?this.sfResult1:this.sfResult2}},e}(p)).prototype,"txtRound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(R.prototype,"txtJackpot",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(R.prototype,"bgJackpot",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(R.prototype,"txtTitleJackpot",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(R.prototype,"txtResultList",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=e(R.prototype,"bgResultList",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=e(R.prototype,"sfResult1",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(R.prototype,"sfResult2",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=R))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/UIItemNumberLottery.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,n,o,u,l,a,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,u=e._decorator,l=e.Label,a=e.Node,c=e.Component}],execute:function(){var s,b,d,p,m,y,h,f,N;o._RF.push({},"ce5bdYoJQhEkqkyslpnvy+K","UIItemNumberLottery",void 0);var v=u.ccclass,I=u.property;e("UIItemNumberLottery",(s=v("UIItemNumberLottery"),b=I(l),d=I(a),p=I(a),s((h=t((y=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return t=e.call.apply(e,[this].concat(o))||this,i(t,"txtNumber",h,n(t)),i(t,"nodeAdd",f,n(t)),i(t,"nodeNumber",N,n(t)),t.number=null,t}return r(t,e),t.prototype.init=function(e){this.number=e,null==e?(this.nodeAdd.active=!0,this.nodeNumber.active=!1):(this.nodeAdd.active=!1,this.nodeNumber.active=!0,this.txtNumber.string=e)},t}(c)).prototype,"txtNumber",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=t(y.prototype,"nodeAdd",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(y.prototype,"nodeNumber",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=y))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIItemRoundLottery.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResHttp.ts","./ConfigApi.ts"],(function(t){"use strict";var i,e,r,n,s,l,o,a,c,u,p,y,d;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,o=t.Sprite,a=t.SpriteFrame,c=t.Label,u=t.log,p=t.Component},function(t){y=t.ResHttp},function(t){d=t.ConfigApi}],execute:function(){var h,g,b,f,m,k,I,v,R,T,A;s._RF.push({},"89b760Cth1HspQY+boavGgV","UIItemRoundLottery",void 0);var C=l.ccclass,L=l.property;t("UIItemRoundLottery",(h=C("UIItemRoundLottery"),g=L(o),b=L(a),f=L(a),m=L(c),h((v=i((I=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),l=0;l<e;l++)s[l]=arguments[l];return i=t.call.apply(t,[this].concat(s))||this,r(i,"bg",v,n(i)),r(i,"spriteBgNormal",R,n(i)),r(i,"spriteBgActive",T,n(i)),r(i,"txtRound",A,n(i)),i.isClicked=!1,i.cbClick=null,i.data=null,i.dataMyTickets=null,i.myTickets=null,i}e(i,t);var s=i.prototype;return s.Init=function(t,i){this.data=t,this.cbClick=i,this.isClicked=!1,this.bg.spriteFrame=this.spriteBgNormal,this.txtRound.string="Round #"+t.lotteryId+"\n"+t.nextRound.split("T")[0]},s.OnBtnClick=function(){this.isClicked=!0,this.bg.spriteFrame=this.spriteBgActive,this.requestMyTickets(1)},s.requestMyTickets=function(t){void 0===t&&(t=1),y.GetRequest(d.LINK_API+d.get_my_tickets,{limit:d.DEFAULT_PAGE,offset:(t-1)*d.DEFAULT_PAGE,lotteryId:this.data.lotteryId},this.OnGetMyTicket.bind(this),null)},s.UnActive=function(){this.isClicked=!1,this.bg.spriteFrame=this.spriteBgNormal},s.OnGetMyTicket=function(t){var i;this.dataMyTickets=JSON.parse(t),this.myTickets=JSON.parse(t).data,u("OnGetMyTicket:"+JSON.stringify(JSON.parse(t))),null==(i=this.cbClick)||i.call(this,this)},i}(p)).prototype,"bg",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(I.prototype,"spriteBgNormal",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=i(I.prototype,"spriteBgActive",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=i(I.prototype,"txtRound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=I))||k));s._RF.pop()}}}));

System.register("chunks:///_virtual/UIItemShop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIInputAddSub.ts","./ConfigGame.ts","./Utility.ts","./ResHttp.ts","./ConfigApi.ts","./UserModel.ts","./UIPopupManager.ts","./UIToast.ts"],(function(t){"use strict";var e,n,o,i,r,a,u,s,c,p,l,S,h,m,y,f,C,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,u=t.Label,s=t.log,c=t.Component},function(t){p=t.UIInputAddSub},function(t){l=t.ConfigGame},function(t){S=t.Utility},function(t){h=t.ResHttp},function(t){m=t.ConfigApi},function(t){y=t.UserModel},function(t){f=t.UIPopupManager},function(t){C=t.TypeNoticeToast,I=t.SubIconNoticeToast}],execute:function(){var b,d,g,P,w,T,U,B,F;t("ItemTypeShop",void 0),r._RF.push({},"94b06rAdY9C6o1iMD9Ogzg/","UIItemShop",void 0);var L,W=a.ccclass,v=a.property;!function(t){t[t.ScareCrow=1]="ScareCrow",t[t.Water=2]="Water",t[t.PetFood=3]="PetFood"}(L||(L=t("ItemTypeShop",{})));t("UIItemShop",(b=W("UIItemShop"),d=v(typeof L),g=v(p),P=v(u),b((U=e((T=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,o(e,"itemType",U,i(e)),o(e,"input",B,i(e)),o(e,"txtPrice",F,i(e)),e}n(e,t);var r=e.prototype;return r.onEnable=function(){this.input.callbackUpdate=this.updatePrice.bind(this)},r.updatePrice=function(t){switch(this.itemType){case L.Water:this.txtPrice.string=S.numberWithCommas(t*l.PriceBuyWater);break;case L.ScareCrow:this.txtPrice.string=S.numberWithCommas(t*l.PriceBuyScareCrow);break;case L.PetFood:this.txtPrice.string=S.numberWithCommas(t*l.PriceBuyPetFood)}},r.OnBtnBuy=function(){var t=this;if(this.input.amountCur*l.PriceBuyWater>y.LE)f.Instance.ShowToast("FAIL!","Not enough LE to buy!",C.Error);else{var e={toolType:this.itemType,quantity:this.input.amountCur};s("OnBtnBuy:"+JSON.stringify(e)),h.PostRequest(m.LINK_API+m.shop_buy_tools,e,(function(e){switch(s("OnBtnBuy success::"+JSON.stringify(e)),e=JSON.parse(e).data,y.LE=parseInt(e.remainLeAmount+""),t.itemType){case L.Water:y.Watering+=t.input.amountCur,f.Instance.ShowToast("SUCCESS!",t.input.amountCur+"",C.Success,!0,I.Water);break;case L.ScareCrow:y.ScareCrow+=t.input.amountCur,f.Instance.ShowToast("SUCCESS!",t.input.amountCur+"",C.Success,!0,I.ScareCrow);break;case L.PetFood:y.PetFood+=t.input.amountCur,f.Instance.ShowToast("SUCCESS!",t.input.amountCur+"",C.Success,!0,I.PetFood)}}),(function(t){f.Instance.ShowToast("FAIL!","Not enough to LE!",C.Error),s("OnBtnBuy failed::"+JSON.stringify(t))}))}},e}(c)).prototype,"itemType",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.ScareCrow}}),B=e(T.prototype,"input",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(T.prototype,"txtPrice",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=T))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIMinigameMenu.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts","./UIPopupManager.ts","./UserModel.ts"],(function(n){"use strict";var e,i,t,c,a,o;return{setters:[function(n){e=n.inheritsLoose},function(n){i=n.cclegacy,t=n._decorator},function(n){c=n.PopUpBase},function(n){a=n.UIPopupManager},function(n){o=n.UserModel}],execute:function(){var d;i._RF.push({},"3733frnY3pOd7m3Pbd9MxqT","UIMinigameMenu",void 0);var s=t.ccclass;t.property,n("UIMinigameMenu",s("UIMinigameMenu")(d=function(n){function i(){for(var e,i=arguments.length,t=new Array(i),c=0;c<i;c++)t[c]=arguments[c];return(e=n.call.apply(n,[this].concat(t))||this).whiteListDond=["0x3f81f2a9b6b78c520186693a0c6b9ee44004202e","0x9f380a0d79ff738429afdd84e9db432dbb75ccbe","0x052920b33ccdeb143e8d316a4110cbb65f0dcfd0","0x706dd398c4bc5659c4f41be63939a93dcd4aa912","0x83d82e9c7b2804b14d97a68bd5b1668c3b38c6f6","0x2662dfd58d0442c9960675a0cf8cf1649a8eece6"],e}e(i,n);var t=i.prototype;return t.Show=function(){n.prototype.OnShow.call(this)},t.Hide=function(){n.prototype.OnHide.call(this)},t.onBack=function(){this.Hide(),a.Instance.ShowUIScreenMain()},t.onBtnBetting=function(){o.minigameSceneType="0",a.Instance.LoadScene("1.MiniGame",this.Hide.bind(this))},t.onBtnLottery=function(){o.minigameSceneType="1",a.Instance.LoadScene("1.MiniGame",this.Hide.bind(this))},t.onBtnCrowHunt=function(){o.minigameSceneType="2",a.Instance.LoadScene("1.MiniGame",this.Hide.bind(this))},t.onBtnDond=function(){a.Instance.Loading(!0),o.minigameSceneType="3",a.Instance.LoadScene("1.MiniGame",this.Hide.bind(this))},t.onBtnKingGamebit=function(){a.Instance.LoadScene("4.KingGamebit",this.Hide.bind(this))},t.onBtnSetting=function(){a.Instance.ShowUISetting(this.onBack.bind(this))},i}(c))||d);i._RF.pop()}}}));

System.register("chunks:///_virtual/UIPages.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConfigApi.ts"],(function(t){"use strict";var e,i,n,a,r,s,c,o,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,c=t.Label,o=t.Component},function(t){g=t.ConfigApi}],execute:function(){var l,u,h,P,f;r._RF.push({},"950c4fGNfJEy7+lTfmC5yf5","UIPages",void 0);var p=s.ccclass,d=s.property;t("UIPages",(l=p("UIPages"),u=d(c),l((f=e((P=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(e,"txtPage",f,a(e)),e.currentPage=1,e.totalPage=1,e.cbLeft=null,e.cbRight=null,e}i(e,t);var r=e.prototype;return r.Init=function(t){this.currentPage=1,this.totalPage=Math.ceil(t/g.DEFAULT_PAGE),this.UpdateUI()},r.AddCbLeft=function(t){this.cbLeft=t},r.AddCbRight=function(t){this.cbRight=t},r.UpdateUI=function(){this.txtPage.string=this.currentPage+"/"+this.totalPage},r.AddNewPage=function(){this.totalPage++,this.currentPage=this.totalPage,this.txtPage.string=this.currentPage+"/"+this.totalPage},r.OnBtnLeft=function(){var t;this.currentPage--,this.currentPage<1&&(this.currentPage=1),this.UpdateUI(),null==(t=this.cbLeft)||t.call(this,this.currentPage)},r.OnBtnRight=function(){var t;this.currentPage++,this.currentPage>this.totalPage&&(this.currentPage=this.totalPage),this.UpdateUI(),null==(t=this.cbRight)||t.call(this,this.currentPage)},e}(o)).prototype,"txtPage",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=P))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIPopupBidAd.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts","./ResHttp.ts","./ConfigApi.ts","./EventSystem.ts","./UserModel.ts","./ConfigGame.ts","./UIPopupManager.ts","./UIToast.ts"],(function(t){"use strict";var e,i,n,r,o,a,l,s,u,c,p,f,h,b,d,g,m,y,v,A,R;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Label,s=t.Node,u=t.Sprite,c=t.sys,p=t.SpriteFrame,f=t.log},function(t){h=t.PopUpBase},function(t){b=t.ResHttp},function(t){d=t.ConfigApi},function(t){g=t.GlobalEvents,m=t.EventType},function(t){y=t.UserModel},function(t){v=t.ConfigGame},function(t){A=t.UIPopupManager},function(t){R=t.TypeNoticeToast}],execute:function(){var x,E,I,B,P,w,N,L,U,S,T,z,D,F,_,O,M,C,H,G,K;o._RF.push({},"7d715c6gExPgrSyRRUf8Kmc","UIPopupBidAd",void 0);var k=a.ccclass,q=a.property;t("UIPopupBidAd",(x=k("UIPopupBidAd"),E=q(l),I=q(l),B=q(l),P=q(l),w=q(s),N=q(s),L=q(u),U=q(s),S=q(l),x((D=e((z=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"txtBotLeft",D,r(e)),n(e,"txtTopLeft",F,r(e)),n(e,"txtTopRight",_,r(e)),n(e,"txtBotRight",O,r(e)),n(e,"btnDisable",M,r(e)),n(e,"btnAcive",C,r(e)),n(e,"imgAd",H,r(e)),n(e,"nodeEmpty",G,r(e)),n(e,"priceLabels",K,r(e)),e.x=-1,e.y=-1,e.landId="",e.file="",e}i(e,t);var o=e.prototype;return o.start=function(){this.priceLabels.forEach((function(t){t.string=v.PRICE_BANNER.toString()}))},o.Show=function(t,e,i){if(c.platform==c.Platform.ANDROID||c.platform==c.Platform.IOS)return A.Instance.ShowToast("INFO","Not available on Mobile app.",2),void(this.node.active=!1);this.OnShow(),this.x=t,this.y=e,this.landId=i,this.imgAd.node.active=!1,this.imgAd.spriteFrame=null,this.nodeEmpty.active=!0,this.txtBotLeft.string=this.x+","+this.y,this.txtTopLeft.string=this.x+","+this.y,this.txtTopRight.string=this.x+","+this.y,this.txtBotRight.string=this.x+","+this.y,this.btnDisable.active=!0,this.btnAcive.active=!1},o.Hide=function(){this.OnHide()},o.OnBtnUpdate=function(){var t=this,e=document.createElement("input");e.type="file",e.accept="image/*",e.onchange=function(e){var i=e.target.files[0];if(t.file=i,i.size>v.SIZE_BANNER)A.Instance.ShowToast("Error","Picture size must be less than 100KB!",R.Error);else{var n=new FileReader;n.onload=function(e){var i=new Image;i.src=e.target.result,i.onload=function(){t.imgAd.spriteFrame=p.createWithImage(i),t.imgAd.node.active=!0,t.nodeEmpty.active=!1,t.btnDisable.active=!1,t.btnAcive.active=!0}},n.readAsDataURL(i)}},e.click()},o.OnBtnBid=function(){var t=this,e=[this.x,this.y],i=new FormData;i.append("file",this.file);for(var n=0;n<e.length;n++)i.append("location",e[n]);b.PostRequestForm(d.LINK_API+d.ads_rent,i,"location=",(function(e){JSON.parse(e);g.publish(m.FARM_BANNER_UPDATE,{x:t.x,y:t.y}),y.LE-=v.PRICE_BANNER,t.Hide()}),(function(t){f("PostRequestFormError : "+JSON.stringify(t))}))},e}(h)).prototype,"txtBotLeft",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(z.prototype,"txtTopLeft",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(z.prototype,"txtTopRight",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(z.prototype,"txtBotRight",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(z.prototype,"btnDisable",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(z.prototype,"btnAcive",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(z.prototype,"imgAd",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(z.prototype,"nodeEmpty",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(z.prototype,"priceLabels",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=z))||T));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIPopupLobbyManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var e,t,r,o,a;return{setters:[function(n){e=n.inheritsLoose,t=n.createClass},function(n){r=n.cclegacy,o=n._decorator,a=n.Component}],execute:function(){var c;r._RF.push({},"ef712asx9xDJbv2MRgqxvbJ","UIPopupLobbyManager",void 0);var s=o.ccclass;o.property,n("UIPopupLobbyManager",s("UIPopupLobbyManager")(c=function(n){function r(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))||this)._instance=null,e}return e(r,n),t(r,[{key:"Instance",get:function(){return this._instance}}]),r}(a))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/UIPopupManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConfigApi.ts","./UserModel.ts","./LoginManager.ts","./FarmingServicesApi.ts","./EventSystem.ts","./UIToast.ts","./Utility.ts","./SocketFarmHandler.ts","./ConfigGame.ts"],(function(o){"use strict";var t,e,i,n,a,r,p,s,u,c,l,d,h,f,g,S,I,U,m,P,v,L,w,M,T,b,F,k,A,_;return{setters:[function(o){t=o.applyDecoratedDescriptor,e=o.inheritsLoose,i=o.initializerDefineProperty,n=o.assertThisInitialized},function(o){a=o.cclegacy,r=o._decorator,p=o.Node,s=o.Sprite,u=o.UIOpacity,c=o.director,l=o.game,d=o.Game,h=o.tween,f=o.color,g=o.Tween,S=o.resources,I=o.Prefab,U=o.instantiate,m=o.Component},function(o){P=o.ConfigApi},function(o){v=o.UserModel},function(o){L=o.LoginManager},function(o){w=o.FarmingServicesApi},function(o){M=o.GlobalEvents,T=o.EventType},function(o){b=o.SubIconNoticeToast},function(o){F=o.Utility},function(o){k=o.SocketFarmHandler,A=o.TYPE_NOTIFICATION},function(o){_=o.ConfigGame}],execute:function(){var C,N,y,D,E,R,W,O,q,H,z,G,B,K,V,J;o("LoadingType",void 0),a._RF.push({},"3036ek40DJGiaiK4+dmYVo5","UIPopupManager",void 0);var Y,x=r.ccclass,j=r.property;!function(o){o[o.normal=0]="normal",o[o.noAnim=1]="noAnim",o[o.loadScene=2]="loadScene"}(Y||(Y=o("LoadingType",{})));o("UIPopupManager",(C=x("UIPopupManager"),N=j(p),y=j(s),D=j(p),E=j(p),R=j(u),W=j(p),C(((J=function(o){function t(){for(var t,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t=o.call.apply(o,[this].concat(a))||this,i(t,"loadingNode",H,n(t)),i(t,"loadingNodeSprite",z,n(t)),i(t,"popupParent",G,n(t)),i(t,"popupParentTop",B,n(t)),i(t,"LoadingLong",K,n(t)),i(t,"HighlightNode",V,n(t)),t.popUpMap=new Map,t.popUpArray=[],t.timePause=0,t.timePauseDelta=0,t._LoginManager=void 0,t.isloadFarmWorld=!1,t.Socket_onChatAllCallback=void 0,t.Socket_onNotice=void 0,t.Socket_onErr=void 0,t.loadingTimeOut=void 0,t}e(t,o);var a=t.prototype;return a.onLoad=function(){null==t.Instance?(t.Instance=this,c.addPersistRootNode(this.node)):this.destroy()},a.start=function(){var o=this;l.on(d.EVENT_HIDE,(function(){o.timePause=Date.now()}),this,!1),l.on(d.EVENT_SHOW,(function(){if(""!=v.Token){var t=Date.now()-o.timePause;o.timePauseDelta+=t,v.serverTime+=t,o.timePauseDelta>3e4&&(o.timePauseDelta=0,o.RequestUserInfo(null))}}),this,!1),F.PreLoadPopup("UIDescriptionInfo"),F.PreLoadPopup("FarmToastSpeakerUI"),this._LoginManager=this.getComponentInChildren(L),this._LoginManager&&this._LoginManager.ShowLogin(),h(this.LoadingLong).delay(.8).to(.3,{opacity:0}).call((function(){o.LoadingLong.node.active=!1})).start(),this.Socket_onChatAllCallback=M.subscribe(T.Socket_onChatAllCallback,this.onSocket_onChatAllCallback.bind(this)),this.Socket_onNotice=M.subscribe(T.Socket_onNotice,this.onSocket_Notice.bind(this)),this.Socket_onErr=M.subscribe(T.Socket_onErr,this.onSocket_onErr.bind(this))},a.onDestroy=function(){M.unsubscribe(T.Socket_onChatAllCallback,this.Socket_onChatAllCallback),M.unsubscribe(T.Socket_onNotice,this.Socket_onNotice),M.unsubscribe(T.Socket_onErr,this.Socket_onErr)},a.OnLoginSuccess=function(){t.Instance.ShowUIScreenMain(),this.RequestUserInfo(this.RequestFarmWorld.bind(this)),k.Connect()},a.onSocket_onChatAllCallback=function(o){for(var t in o)if(null!=o[t]){this.FarmToastSpeakerUIAddMsg({address:t,msg:o[t],time:o.time});break}},a.onSocket_onErr=function(o){this.ShowToast("Error",o.data,0)},a.onSocket_Notice=function(o){o.type==A.TRANSFER_LE&&o.ownerId==v.ownerId&&(v.LE+=o.amount)},a.ReturnToLoginScreen=function(){v.Token="",this._LoginManager&&this._LoginManager.ShowLogin(),k.Disconnect()},a.update=function(o){v.serverTime+=1e3*o,this.updateFarmWorld()},a.RequestUserInfo=function(o){w.RequestUserInfo((function(t){var e=JSON.parse(t);v.serverTime=e.data.serverTime,null!=e.data.stealFailLatestTime&&(v.stealFailLatestTime=e.data.stealFailLatestTime),v.LE=e.data.leAmount,v.GEM=e.data.gemAmount,e.data.wateringTools&&(v.Watering=e.data.wateringTools),e.data.chaseCrowTools&&(v.ScareCrow=e.data.chaseCrowTools),e.data.foods&&(v.PetFood=e.data.foods),v.FreeTicket=e.data.numberOfLotteryTickets,v.ownerId=e.data.publicAddress,null!=e.data.totalStealLe&&(v.TotalStealLe=e.data.totalStealLe),null!=o&&o()}),this.ReturnToLoginScreen.bind(this))},a.RequestFarmWorld=function(){var o=this;this.isloadFarmWorld=!1,w.RequestFarmWorld((function(t){v.farmWorldInfo=JSON.parse(t).data,M.publish(T.FARM_WORLD_UPDATE,null),o.isloadFarmWorld=!0}),this.ReturnToLoginScreen.bind(this))},a.updateFarmWorld=function(){if(null!=v.farmWorldInfo&&this.isloadFarmWorld&&P.IS_PRODUCT)if(v.serverTime>v.farmWorldInfo.endDate+_.YearBreakDuration)this.RequestFarmWorld();else{var o=v.GetCrowKingData();null!=o&&v.serverTime>o.apearenceTime+15e3&&(null==o.landLocations||null==o.urls)&&this.RequestFarmWorld()}},a.RequestPetStealLand=function(){w.RequestPetStealLand((function(o){v.petStealLand=JSON.parse(o).data}),(function(o){}))},a.CheckUpgradeVersion=function(o){var t=o.split("."),e=P.VERSION.split(".");return!(parseInt(e[0])>parseInt(t[0]))&&(parseInt(e[0])<parseInt(t[0])||!(parseInt(e[1])>parseInt(t[1]))&&(parseInt(e[1])<parseInt(t[1])||!(parseInt(e[2])>parseInt(t[2]))&&parseInt(e[2])<parseInt(t[2])))},a.Loading=function(o,t){var e=this;void 0===t&&(t=Y.noAnim);if(o){switch(t){case Y.normal:this.loadingNodeSprite.color=f(0,0,0,170),this.loadingNodeSprite.node.active=!0;break;case Y.noAnim:this.loadingNodeSprite.node.active=!1;break;case Y.loadScene:this.loadingNodeSprite.color=f(0,0,0,255),this.loadingNodeSprite.node.active=!0}this.loadingNode.active=!0,this.loadingTimeOut=setTimeout((function(){e.loadingNode.active=!1}),1e4)}else this.loadingNode.active=!1,clearTimeout(this.loadingTimeOut)},a.LoadScene=function(o,t){var e=this;void 0===t&&(t=null),g.stopAll(),this.HideToast(),this.Loading(!0),c.loadScene(o,(function(){e.Loading(!1),null!=t&&t()}))},a.LoadPopup=function(o,t,e){void 0===e&&(e=!1),this.popUpMap.has(o)?t():(this.Loading(!0,Y.noAnim),S.load("ui_prefab/"+o,I,function(i,n){var a=U(n);a.setParent(e?this.popupParentTop:this.popupParent);var r=a.getComponent(o);this.popUpMap.set(o,r),e||this.popUpArray.push(r),this.SortPopup(),this.Loading(!1,Y.noAnim),t()}.bind(this)))},a.SortPopup=function(){this.popUpArray.sort((function(o,t){return t.order-o.order}));for(var o=0;o<this.popUpArray.length;o++)this.popUpArray[o].node.setSiblingIndex(0)},a.ShowToast=function(o,t,e,i,n){var a=this;void 0===i&&(i=!0),void 0===n&&(n=b.None),this.LoadPopup("UIToast",(function(){a.popUpMap.get("UIToast").Show(o,t,e,i,n)}),!0)},a.HideToast=function(){this.popUpMap.has("UIToast")&&this.popUpMap.get("UIToast").HideToast()},a.ShowPopupConfirmUI=function(o,t,e,i,n,a,r,p){var s=this;void 0===n&&(n="Confirm"),void 0===a&&(a=!1),void 0===r&&(r=!0),void 0===p&&(p=!0),this.LoadPopup("PopupConfirmUI",(function(){s.popUpMap.get("PopupConfirmUI").Show(o,t,e,i,n,a,r,p)}),!0)},a.ShowUIScreenMain=function(){var o=this;this.LoadPopup("UIScreenMain",(function(){o.popUpMap.get("UIScreenMain").Show()}))},a.ShowUISetting=function(o,t){var e=this;void 0===t&&(t="quit"),this.LoadPopup("UISetting",(function(){e.popUpMap.get("UISetting").Show(o,t)}))},a.ShowUIPopupMyAssets=function(){var o=this;this.LoadPopup("UIPopupMyAssets",(function(){o.popUpMap.get("UIPopupMyAssets").Show()}))},a.ShowUIPopupShop=function(o,t){var e=this;void 0===o&&(o=null),void 0===t&&(t="farm"),this.LoadPopup("UIPopupShop",(function(){e.popUpMap.get("UIPopupShop").Show(o,t)}))},a.ShowUIPopupBidAd=function(o,t,e){var i=this;this.LoadPopup("UIPopupBidAd",(function(){i.popUpMap.get("UIPopupBidAd").Show(o,t,e)}))},a.ShowFarmPopupFilterPlantUI=function(o){var t=this;this.LoadPopup("FarmPopupFilterPlantUI",(function(){t.popUpMap.get("FarmPopupFilterPlantUI").Show(o)}))},a.ShowFarmPopupFilterDecorUI=function(o){var t=this;this.LoadPopup("FarmPopupFilterDecorUI",(function(){t.popUpMap.get("FarmPopupFilterDecorUI").Show(o)}))},a.ShowFarmPopupFilterPetUI=function(o){var t=this;this.LoadPopup("FarmPopupFilterPetUI",(function(){t.popUpMap.get("FarmPopupFilterPetUI").Show(o)}))},a.ShowNotification=function(o,t){var e=this;this.LoadPopup("UIPopupNotification",(function(){e.popUpMap.get("UIPopupNotification").Show(o,t)}),!0)},a.ShowUIWeather=function(){var o=this;this.LoadPopup("UIWeather",(function(){o.popUpMap.get("UIWeather").Show()}))},a.ShowUICrowKing=function(){var o=this;this.LoadPopup("UICrowKing",(function(){o.popUpMap.get("UICrowKing").Show()}))},a.ShowUIDescriptionInfo=function(o,t,e,i,n){var a=this;this.LoadPopup("UIDescriptionInfo",(function(){a.popUpMap.get("UIDescriptionInfo").Show(o,t,e,i,n)}),!0)},a.HideUIDescriptionInfo=function(){this.popUpMap.has("UIDescriptionInfo")&&this.popUpMap.get("UIDescriptionInfo").Hide()},a.FarmToastSpeakerUIAddMsg=function(o){var t=this,e=c.getScene().name;"3.Farm"!=e&&"2.WorldMap"!=e||this.LoadPopup("FarmToastSpeakerUI",(function(){t.popUpMap.get("FarmToastSpeakerUI").AddMsg(o)}))},a.ShowUIAirDrop=function(){var o=this;this.LoadPopup("UIAirDrop",(function(){o.popUpMap.get("UIAirDrop").Show()}))},a.ShowUIMinigameMenu=function(){var o=this;this.LoadPopup("UIMinigameMenu",(function(){o.popUpMap.get("UIMinigameMenu").Show()}))},t}(m)).Instance=void 0,H=t((q=J).prototype,"loadingNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(q.prototype,"loadingNodeSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(q.prototype,"popupParent",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(q.prototype,"popupParentTop",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(q.prototype,"LoadingLong",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(q.prototype,"HighlightNode",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=q))||O));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIPopupMyAssets.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts","./UIPages.ts","./ResHttp.ts","./ConfigApi.ts","./UserModel.ts","./UIItemMyAsset.ts","./ConfigGame.ts","./UIItemMyAssetPlant.ts","./UIItemMyAssetsBidding.ts","./EventSystem.ts"],(function(t){"use strict";var e,n,i,s,o,a,r,l,c,d,u,h,I,p,g,f,y,B,b,m,A,S,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,r=t.Node,l=t.ScrollView,c=t.Toggle,d=t.Label,u=t.instantiate},function(t){h=t.PopUpBase},function(t){I=t.UIPages},function(t){p=t.ResHttp},function(t){g=t.ConfigApi},function(t){f=t.UserModel,y=t.FarmWorldState},function(t){B=t.UIItemMyAsset},function(t){b=t.ConfigGame},function(t){m=t.UIItemMyAssetPlant},function(t){A=t.UIItemMyAssetsBidding},function(t){S=t.GlobalEvents,L=t.EventType}],execute:function(){var M,v,P,k,w,_,U,T,N,C,O,z,G,F,W,x,D,R,H,E,q,J,K;t("MyAssetSortType",void 0),o._RF.push({},"40b3ajSolhACrh0WeCG7IkZ","UIPopupMyAssets",void 0);var j,V,Z=a.ccclass,Q=a.property;!function(t){t[t.None=0]="None",t[t.Bidding=1]="Bidding",t[t.Slot=2]="Slot",t[t.Plant=3]="Plant"}(j||(j={})),function(t){t[t.OutBid=0]="OutBid",t[t.Land=1]="Land"}(V||(V=t("MyAssetSortType",{})));t("UIPopupMyAssets",(M=Z("UIPopupMyAssets"),v=Q(r),P=Q(r),k=Q(r),w=Q(r),_=Q(l),U=Q(c),T=Q(c),N=Q(c),C=Q(I),O=Q(d),M((F=e((G=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"emptyBox",F,s(e)),i(e,"prefabItem",W,s(e)),i(e,"prefabItemPlant",x,s(e)),i(e,"prefabItemBidding",D,s(e)),i(e,"scrollLIst",R,s(e)),i(e,"toggleBidding",H,s(e)),i(e,"togglePlant",E,s(e)),i(e,"toggleSlot",q,s(e)),i(e,"pages",J,s(e)),i(e,"sortBtnLabel",K,s(e)),e.curTab=j.None,e.isConnectSocket=!1,e.uIItemMyAssetsBiddings=[],e.uIItemMyAssets=[],e.uIItemMyAssetPlant=[],e.curSortType=V.OutBid,e._Socket_onNewBidding=void 0,e.cachesAdsBannerLink={},e}n(e,t);var o=e.prototype;return o.Show=function(){this.OnShow(),this.curTab=j.None,f.GetFarmWorldState()==y.BIDDING?(this.ShowTab(j.Bidding),this.toggleBidding.isChecked=!0):(this.ShowTab(j.Plant),this.togglePlant.isChecked=!0)},o.ShowTab=function(t){var e=this;if(void 0===t&&(t=j.Bidding),this.curTab!=t)switch(this.curTab=t,this.uIItemMyAssetsBiddings=[],this.uIItemMyAssetPlant=[],this.uIItemMyAssets=[],this.sortBtnLabel.node.parent.active=!1,t){case j.Bidding:this.loadListBidding();break;case j.Slot:this.disconnectSocket(),p.GetRequest(g.LINK_API+g.lands_my_slots,null,(function(t){t=JSON.parse(t).data,e.loadList(t)}),null);break;case j.Plant:this.disconnectSocket(),p.GetRequest(g.LINK_API+g.lands_my_plants,null,(function(t){t=JSON.parse(t).data,e.loadList(t)}),null)}},o.loadListBidding=function(){var t=this;if(f.GetFarmWorldState()!=y.BIDDING)return this.scrollLIst.node.active=!1,void(this.emptyBox.active=!0);this.scrollLIst.content.destroyAllChildren(),this.scrollLIst.node.active=!0,this.emptyBox.active=!1,p.GetRequest(g.LINK_API+g.lands_my_bidding,null,(function(e){for(var n=JSON.parse(e).data,i=0;i<n.length;i++)t.loadUIItemMyAssetsBidding(n[i]);t.sortUIItemMyAssetsBiddings(),t.sortBtnLabel.node.parent.active=!0,t.connectSocket()}),null)},o.loadUIItemMyAssetsBidding=function(t){var e=u(this.prefabItemBidding);e.setParent(this.scrollLIst.content);var n=e.getComponent(A);return this.uIItemMyAssetsBiddings.push(n),n.Init(this,t),n},o.connectSocket=function(){this.isConnectSocket||(this.isConnectSocket=!0,this._Socket_onNewBidding=S.subscribe(L.Socket_onNewBidding,this.Socket_onNewBidding.bind(this)))},o.disconnectSocket=function(){this.isConnectSocket&&(this.isConnectSocket=!1,S.unsubscribe(L.Socket_onNewBidding,this._Socket_onNewBidding))},o.Socket_onNewBidding=function(t){for(var e=null,n=0;n<this.uIItemMyAssetsBiddings.length;n++)if(this.uIItemMyAssetsBiddings[n].data.slotId==t.slotId){(e=this.uIItemMyAssetsBiddings[n]).InitData(t);break}null==e&&(e=this.loadUIItemMyAssetsBidding(t)),this.sortUIItemMyAssetsBiddings()},o.sortUIItemMyAssetsBiddings=function(){this.uIItemMyAssetsBiddings=this.uIItemMyAssetsBiddings.sort(function(t,e){if(this.curSortType==V.Land||t.data.highestUser==f.ownerId==(e.data.highestUser==f.ownerId)){var n=t.data.landLocation[0]*b.FarmWorldMapSize-e.data.landLocation[0]*b.FarmWorldMapSize-(e.data.landLocation[1]-t.data.landLocation[1]);return 0==n&&(n=t.data.location[0]*b.FarmWorldMapSize-e.data.location[0]*b.FarmWorldMapSize-(e.data.location[1]-t.data.location[1])),n}return t.data.highestUser==f.ownerId?1:-1}.bind(this));for(var t=0;t<this.uIItemMyAssetsBiddings.length;t++)this.uIItemMyAssetsBiddings[t].node.setSiblingIndex(t)},o.loadList=function(t){if(this.scrollLIst.content.destroyAllChildren(),t.length>0){this.scrollLIst.node.active=!0,this.emptyBox.active=!1,t=t.sort((function(t,e){return t.location[0]*b.FarmWorldMapSize-e.location[0]*b.FarmWorldMapSize-(e.location[1]-t.location[1])}));for(var e=0;e<t.length;e++)if(this.curTab==j.Plant){var n=u(this.prefabItemPlant);n.setParent(this.scrollLIst.content);var i=n.getComponent(m);i.Init(this,t[e]),this.uIItemMyAssetPlant.push(i)}else if(this.curTab==j.Slot){var s=u(this.prefabItem);s.setParent(this.scrollLIst.content);var o=s.getComponent(B);o.Init(this,t[e]),this.uIItemMyAssets.push(o)}}else this.scrollLIst.node.active=!1,this.emptyBox.active=!0},o.onBtnClose=function(){this.Hide()},o.Hide=function(t){void 0===t&&(t=null),this.disconnectSocket(),this.OnHide(t)},o.SetCallbackHide=function(t){},o.OnBtnOpenBidding=function(){this.ShowTab(j.Bidding)},o.OnBtnOpenSlot=function(){this.ShowTab(j.Slot)},o.OnBtnOpenPlant=function(){this.ShowTab(j.Plant)},o.OnSortBtnClick=function(){switch(this.curSortType){case V.OutBid:this.curSortType=V.Land,this.sortBtnLabel.string="ALL";break;case V.Land:this.curSortType=V.OutBid,this.sortBtnLabel.string="OUT-BID"}this.loadListBidding()},o.GetLandAdsBanner=function(t,e,n){var i=this,s=t+","+e;if(null==this.cachesAdsBannerLink[s]){this.cachesAdsBannerLink[s]=!0;var o={x:t,y:e};p.GetRequest(g.LINK_API+g.lands_get_banner_by_coordinate,o,(function(t){var e=JSON.parse(t).data;i.cachesAdsBannerLink[s]=e,i.uIItemMyAssetsBiddings.forEach((function(t){t.ApplyAdBanner(e,s)})),i.uIItemMyAssetPlant.forEach((function(t){t.ApplyAdBanner(e,s)})),i.uIItemMyAssets.forEach((function(t){t.ApplyAdBanner(e,s)}))}),null)}else{if(1==this.cachesAdsBannerLink[s])return;n(this.cachesAdsBannerLink[s],s)}},e}(h)).prototype,"emptyBox",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(G.prototype,"prefabItem",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(G.prototype,"prefabItemPlant",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(G.prototype,"prefabItemBidding",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(G.prototype,"scrollLIst",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(G.prototype,"toggleBidding",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(G.prototype,"togglePlant",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(G.prototype,"toggleSlot",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(G.prototype,"pages",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(G.prototype,"sortBtnLabel",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=G))||z));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIPopupNotification.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts"],(function(t){"use strict";var i,e,o,r,n,a,p,c;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,p=t.Label},function(t){c=t.PopUpBase}],execute:function(){var l,s,u,f,h,b,y;n._RF.push({},"8bf63j8CEZMboDLpQDhg9+l","UIPopupNotification",void 0);var g=a.ccclass,P=a.property;t("UIPopupNotification",(l=g("UIPopupNotification"),s=P(p),u=P(p),l((b=i((h=function(t){function i(){for(var i,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return i=t.call.apply(t,[this].concat(n))||this,o(i,"txtTitle",b,r(i)),o(i,"txtNoti",y,r(i)),i}e(i,t);var n=i.prototype;return n.Show=function(t,i){this.OnShow(),this.txtTitle.string=t.toUpperCase(),this.txtNoti.string=i},n.Hide=function(){this.OnHide()},i}(c)).prototype,"txtTitle",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=i(h.prototype,"txtNoti",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=h))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/UIPopupShop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts"],(function(e){"use strict";var t,o,n,i,r,c,a,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,a=e.Node},function(e){p=e.PopUpBase}],execute:function(){var s,u,l,f,h,d,S;r._RF.push({},"db161k7wo1FkonUvmbWhQN7","UIPopupShop",void 0);var v=c.ccclass,b=c.property;e("UIPopupShop",(s=v("UIPopupShop"),u=b(a),l=b(a),s((d=t((h=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,n(t,"farmSceneNodes",d,i(t)),n(t,"petSceneNodes",S,i(t)),t}o(t,e);var r=t.prototype;return r.Show=function(e,t){void 0===e&&(e=null),this.OnShow(),this.SetCallbackHide(e);var o="farm"==t;this.farmSceneNodes.forEach((function(e){e.active=o})),this.petSceneNodes.forEach((function(e){e.active=!o}))},r.Hide=function(){this.OnHide()},t}(p)).prototype,"farmSceneNodes",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=t(h.prototype,"petSceneNodes",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=h))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIPrizeCrowHunting.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,i,e,r,o,u,a,l,c;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,u=t._decorator,a=t.Label,l=t.Node,c=t.Component}],execute:function(){var s,p,f,g,h,d,y,P,b;o._RF.push({},"fa61dgVlgJBGJOy3uN/7ZeO","UIPrizeCrowHunting",void 0);var m=u.ccclass,v=u.property;t("UIPrizeCrowHunting",(s=m("UIPrizeCrowHunting"),p=v(a),f=v(a),g=v(l),s((y=n((d=function(t){function n(){for(var n,i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return n=t.call.apply(t,[this].concat(o))||this,e(n,"txtNum",y,r(n)),e(n,"txtX",P,r(n)),e(n,"nodePoint",b,r(n)),n.num=0,n}i(n,t);var o=n.prototype;return o.Init=function(t,n){this.num=t,this.txtNum.string=t.toString(),this.txtX.string="x"+n.toString(),this.nodePoint.active=!1},o.ShowPoint=function(t){this.num==t?this.nodePoint.active=!0:this.nodePoint.active=!1},n}(c)).prototype,"txtNum",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=n(d.prototype,"txtX",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=n(d.prototype,"nodePoint",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=d))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/UIScreenMain.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts","./UIPopupManager.ts","./UserModel.ts"],(function(n){"use strict";var t,e,i,o,a,r,c,s,u,l;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,c=n.Node},function(n){s=n.PopUpBase},function(n){u=n.UIPopupManager},function(n){l=n.UserModel}],execute:function(){var p,d,f,h,I,M,g;a._RF.push({},"b70c55M2m1LNaeVoMHiifvC","UIScreenMain",void 0);var y=r.ccclass,B=r.property;n("UIScreenMain",(p=y("UIScreenMain"),d=B(c),f=B(c),p((M=t((I=function(n){function t(){for(var t,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t=n.call.apply(n,[this].concat(a))||this,i(t,"leLabel",M,o(t)),i(t,"adBtns",g,o(t)),t}e(t,n);var a=t.prototype;return a.Show=function(){n.prototype.OnShow.call(this),this.updateAdsBtn()},a.updateAdsBtn=function(){this.adBtns[1].active=l.IsHideAds,this.adBtns[0].active=!this.adBtns[1].active},a.onAdBtnClick=function(){l.IsHideAds=!l.IsHideAds,this.updateAdsBtn()},a.OnFarmClick=function(){var t=this;u.Instance.LoadScene("2.WorldMap",(function(){n.prototype.OnHide.call(t)}))},a.OnMiniGameClick=function(){n.prototype.OnHide.call(this),u.Instance.ShowUIMinigameMenu()},a.onBtnSetting=function(){u.Instance.ShowUISetting(this.onQuit,"Logout")},a.onQuit=function(){u.Instance.ReturnToLoginScreen()},t}(s)).prototype,"leLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=t(I.prototype,"adBtns",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=I))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/UISetting.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts","./UserModel.ts","./EventSystem.ts","./UIPopupManager.ts"],(function(t){"use strict";var e,n,i,o,a,u,l,r,s,c,p,g,b,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,u=t._decorator,l=t.Toggle,r=t.Node,s=t.Label},function(t){c=t.PopUpBase},function(t){p=t.UserModel},function(t){g=t.GlobalEvents,b=t.EventType},function(t){f=t.UIPopupManager}],execute:function(){var h,d,S,U,D,L,y,B,O,v,M;a._RF.push({},"262b7D+ZiVDpqYxZO7J2oy+","UISetting",void 0);var m=u.ccclass,I=u.property;t("UISetting",(h=m("UISetting"),d=I(l),S=I(l),U=I(r),D=I(s),h((B=e((y=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];return e=t.call.apply(t,[this].concat(a))||this,i(e,"toggleMusic",B,o(e)),i(e,"toggleSound",O,o(e)),i(e,"BtnQuit",v,o(e)),i(e,"BtnQuitLabel",M,o(e)),e.onBtnQuitCB=null,e}n(e,t);var a=e.prototype;return a.Show=function(t,e){this.OnShow(),this.toggleMusic.isChecked=p.userLocalData.musicOn,this.toggleSound.isChecked=p.userLocalData.soundOn,this.onBtnQuitCB=t,this.BtnQuit.active=null!=t,this.BtnQuitLabel.string="LOGOUT"},a.onMusicToggle=function(){p.userLocalData.musicOn=!p.userLocalData.musicOn,p.SaveUserLocalData(),g.publish(b.UPDATE_MUSIC,null)},a.onSoundToggle=function(){p.userLocalData.soundOn=!p.userLocalData.soundOn,p.SaveUserLocalData(),g.publish(b.UPDATE_SOUND,null)},a.OnBtnSave=function(){this.OnHide()},a.OnBtnQuit=function(){f.Instance.ReturnToLoginScreen(),this.OnHide()},e}(c)).prototype,"toggleMusic",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(y.prototype,"toggleSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(y.prototype,"BtnQuit",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(y.prototype,"BtnQuitLabel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=y))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIToast.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,o,i,r,n,s,l,a,u,c,p,h,f,b,w,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,s=e._decorator,l=e.Sprite,a=e.SpriteFrame,u=e.CCInteger,c=e.Label,p=e.Node,h=e.UITransform,f=e.Vec3,b=e.Color,w=e.tween,v=e.Component}],execute:function(){var I,m,d,S,T,g,C,O,y,x,M,N,z,F,E,D,P,B,U,W,k,_,H,R,L,K,V;e({SubIconNoticeToast:void 0,TypeNoticeToast:void 0}),n._RF.push({},"50b62ihIp9P+rV9JIo/K0Kp","UIToast",void 0);var Z,j,A=s.ccclass,G=s.property;!function(e){e[e.Error=0]="Error",e[e.Success=1]="Success",e[e.Info=2]="Info"}(Z||(Z=e("TypeNoticeToast",{}))),function(e){e[e.None=0]="None",e[e.ScareCrow=1]="ScareCrow",e[e.Water=2]="Water",e[e.PetFood=3]="PetFood"}(j||(j=e("SubIconNoticeToast",{})));e("UIToast",(I=A("UIToast"),m=G(l),d=G(a),S=G(a),T=G(a),g=G(u),C=G(c),O=G(c),y=G(l),x=G(a),M=G(a),N=G(a),z=G(p),I((D=t((E=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n))||this,i(t,"spriteSubIcon",D,r(t)),i(t,"sfWater",P,r(t)),i(t,"sfScareCrow",B,r(t)),i(t,"sfPetFood",U,r(t)),i(t,"order",W,r(t)),i(t,"txtTitle",k,r(t)),i(t,"txtDes",_,r(t)),i(t,"imgIcon",H,r(t)),i(t,"spriteError",R,r(t)),i(t,"spriteInfo",L,r(t)),i(t,"spriteSuccess",K,r(t)),i(t,"BoxNode",V,r(t)),t.autoCloseTimeOut=void 0,t.tweenMoveIn=void 0,t.tweenMoveOut=void 0,t}o(t,e);var n=t.prototype;return n.Show=function(e,t,o,i,r){var n=this;switch(void 0===r&&(r=j.None),r){case j.Water:this.txtDes.overflow=c.Overflow.NONE,this.spriteSubIcon.node.parent.active=!0,this.spriteSubIcon.spriteFrame=this.sfWater;break;case j.ScareCrow:this.txtDes.overflow=c.Overflow.NONE,this.spriteSubIcon.node.parent.active=!0,this.spriteSubIcon.spriteFrame=this.sfScareCrow;break;case j.PetFood:this.txtDes.overflow=c.Overflow.NONE,this.spriteSubIcon.node.parent.active=!0,this.spriteSubIcon.spriteFrame=this.sfPetFood;break;default:this.txtDes.overflow=c.Overflow.RESIZE_HEIGHT,this.txtDes.getComponent(h).setContentSize(440,0),this.spriteSubIcon.node.parent.active=!1}this.node.active=!0,this.txtDes.string=t,this.txtTitle.string=e.toUpperCase(),i?this.MoveIn():this.BoxNode.setPosition(f.ZERO),o==Z.Error?(this.imgIcon.spriteFrame=this.spriteError,this.txtTitle.color=new b(234,55,55,255)):o==Z.Success?(this.imgIcon.spriteFrame=this.spriteSuccess,this.txtTitle.color=new b(43,144,65,255)):(this.txtTitle.color=new b(43,144,65,255),this.imgIcon.spriteFrame=this.spriteInfo),clearTimeout(this.autoCloseTimeOut);this.autoCloseTimeOut=setTimeout((function(){n.Close()}),5e3)},n.setSubIcon=function(e){},n.MoveIn=function(){null!=this.tweenMoveIn&&this.tweenMoveIn.stop(),null!=this.tweenMoveOut&&this.tweenMoveOut.stop(),this.BoxNode.setPosition(new f(1e3,-150,0)),this.tweenMoveIn=w(this.BoxNode).to(.2,{position:new f(-50,-150,0)}),this.tweenMoveIn.start()},n.OnBtnCloseClick=function(){clearTimeout(this.autoCloseTimeOut),this.Close()},n.Close=function(){var e=this;null!=this.tweenMoveIn&&this.tweenMoveIn.stop(),null!=this.tweenMoveOut&&this.tweenMoveOut.stop(),this.tweenMoveOut=w(this.BoxNode).to(.2,{position:new f(1e3,-150,0)}).call((function(){e.node.active=!1})),this.tweenMoveOut.start()},n.HideToast=function(){clearTimeout(this.autoCloseTimeOut),null!=this.tweenMoveIn&&this.tweenMoveIn.stop(),null!=this.tweenMoveOut&&this.tweenMoveOut.stop(),this.node.active=!1},t}(v)).prototype,"spriteSubIcon",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(E.prototype,"sfWater",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(E.prototype,"sfScareCrow",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(E.prototype,"sfPetFood",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(E.prototype,"order",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),k=t(E.prototype,"txtTitle",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(E.prototype,"txtDes",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(E.prototype,"imgIcon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(E.prototype,"spriteError",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(E.prototype,"spriteInfo",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(E.prototype,"spriteSuccess",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(E.prototype,"BoxNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=E))||F));n._RF.pop()}}}));

System.register("chunks:///_virtual/UIToggle.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,o,r,l,n,s,c,h,a,u,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,l=e.createClass},function(e){n=e.cclegacy,s=e._decorator,c=e.Sprite,h=e.Label,a=e.Color,u=e.Toggle,g=e.Component}],execute:function(){var p,f,b,d,y,C,k,_,T,L,v;n._RF.push({},"b775d9EyclFYqWZN2IGf7wU","UIToggle",void 0);var m=s.ccclass,D=s.property,E=s.executeInEditMode;e("UIToggle",(p=m("UIToggle"),f=D([c]),b=D([h]),d=D(a),y=D(a),p(C=E((_=t((k=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),n=0;n<i;n++)l[n]=arguments[n];return t=e.call.apply(e,[this].concat(l))||this,o(t,"spriteList",_,r(t)),o(t,"labelList",T,r(t)),o(t,"colorEnable",L,r(t)),o(t,"colorDisable",v,r(t)),t._toggle=null,t._otherToggle=null,t._isChecked=null,t}i(t,e);var n=t.prototype;return n.start=function(){this.isChecked=this.toggle.isChecked},n.updateStatus=function(){for(var e=0;e<this.spriteList.length;e++)this.spriteList[e]&&(this.spriteList[e].color=this.isChecked?this.colorEnable:this.colorDisable);for(var t=0;t<this.labelList.length;t++)this.labelList[t]&&(this.labelList[t].color=this.isChecked?this.colorEnable:this.colorDisable)},n.Check=function(){this.isChecked=!0,this.otherToggle.forEach((function(e){e.UnCheck()}))},n.UnCheck=function(){this.isChecked=!1},l(t,[{key:"toggle",get:function(){return null==this._toggle&&(this._toggle=this.node.getComponent(u)),this._toggle}},{key:"otherToggle",get:function(){var e=this;return null==this._otherToggle&&(this._otherToggle=[],this.node.parent.children.forEach((function(i){var o=i.getComponent(t);i!=e.node&&null!=o&&e._otherToggle.push(o)}))),this._otherToggle}},{key:"isChecked",get:function(){return this._isChecked},set:function(e){e!==this._isChecked&&(this._isChecked=e,this.toggle.isChecked=e,this.updateStatus())}}]),t}(g)).prototype,"spriteList",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(k.prototype,"labelList",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=t(k.prototype,"colorEnable",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(k.prototype,"colorDisable",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(k.prototype,"otherToggle",[D],Object.getOwnPropertyDescriptor(k.prototype,"otherToggle"),k.prototype),C=k))||C)||C));n._RF.pop()}}}));

System.register("chunks:///_virtual/UIWeather.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts","./IconInfo.ts","./UserModel.ts","./ResourcesManager.ts","./ConfigGame.ts","./Utility.ts"],(function(e){"use strict";var t,n,i,r,o,a,s,l,f,c,u,p,d,g,h,b,m,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Widget,l=e.Label,f=e.Sprite,c=e.SpriteFrame,u=e.tween},function(e){p=e.PopUpBase},function(e){d=e.IconInfo},function(e){g=e.UserModel,h=e.FarmWorldState},function(e){b=e.ResourcesManager},function(e){m=e.ConfigGame},function(e){y=e.Utility}],execute:function(){var _,S,v,F,I,W,w,U,z,T,L,C,D,M,P,R,A,B,E,x,G;o._RF.push({},"74890sevZtPPLfB+3dktfjF","UIWeather",void 0);var H=a.ccclass,O=a.property;e("UIWeather",(_=H("UIWeather"),S=O(s),v=O(l),F=O(l),I=O(l),W=O(f),w=O(l),U=O(c),z=O(d),T=O(d),_((D=t((C=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"panelWidget",D,r(t)),i(t,"year",M,r(t)),i(t,"year_dayleft",P,r(t)),i(t,"season",R,r(t)),i(t,"season_icons",A,r(t)),i(t,"season_timeleft",B,r(t)),i(t,"season_iconSpriteFrame",E,r(t)),i(t,"icon_buff",x,r(t)),i(t,"icon_debuff",G,r(t)),t}n(t,e);var o=t.prototype;return o.Show=function(){var t=this;e.prototype.OnShow.call(this),u(this.panelWidget).to(.2,{right:0}).start(),this.year.string="YEAR - "+(g.farmWorldInfo.yearOrder+1).toString();var n=g.GetFarmWorldState();if(n==h.Spring||n==h.Summer||n==h.Autumn||n==h.Winter){this.year_dayleft.node.active=this.season_timeleft.node.active=!0;var i=Math.floor((g.farmWorldInfo.endDate-g.serverTime)/864e5);this.year_dayleft.string=1==i?i+" DAY LEFT":i+" DAYS LEFT";var r=g.farmWorldInfo.startSeasons[n-3],o=g.farmWorldInfo.endDate;n-2<g.farmWorldInfo.startSeasons.length&&(o=g.farmWorldInfo.startSeasons[n-2]);var a=g.serverTime;this.season_timeleft.string=y.ConvertSecondsToTimeSecond((o-a)/1e3).toUpperCase()+" LEFT",this.season_icons[1].fillRange=-(o-a)/(o-r)}else this.year_dayleft.node.active=this.season_timeleft.node.active=!1,n=h.Spring;this.season.string=h[n].toString().toUpperCase(),this.season_icons[0].spriteFrame=this.season_iconSpriteFrame[n-3],this.season_icons[1].spriteFrame=this.season_icons[0].spriteFrame;for(var s=g.plantConfig.support.season[h[n]],l=function(e){e<s.length?b.Instance.LoadFactionSprite(s[e],(function(n){t.icon_buff[e].Init(n,"Faction: "+m.FactionText[s[e]],!0,s[e])})):t.icon_buff[e].Init(null)},f=0;f<this.icon_buff.length;f++)l(f);for(var c=g.plantConfig.sabotage.season[h[n]],p=function(e){e<c.length?b.Instance.LoadFactionSprite(c[e],(function(n){t.icon_debuff[e].Init(n,"Faction: "+m.FactionText[c[e]],!0,c[e])})):t.icon_debuff[e].Init(null)},d=0;d<this.icon_debuff.length;d++)p(d)},o.Hide=function(){e.prototype.OnHide.call(this),this.panelWidget.right=0,u(this.panelWidget).to(.2,{right:-800}).start()},t}(p)).prototype,"panelWidget",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(C.prototype,"year",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(C.prototype,"year_dayleft",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(C.prototype,"season",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(C.prototype,"season_icons",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=t(C.prototype,"season_timeleft",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(C.prototype,"season_iconSpriteFrame",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=t(C.prototype,"icon_buff",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=t(C.prototype,"icon_debuff",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=C))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/UserModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventSystem.ts"],(function(e){"use strict";var t,n,r,o,i;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy,r=e.sys},function(e){o=e.GlobalEvents,i=e.EventType}],execute:function(){e("FarmWorldState",void 0),n._RF.push({},"e48c9TptIdAr6xS8ya3acrW","UserModel",void 0);var a,s=e("UserModel",function(){function e(){}return e.SaveUserLocalData=function(){r.localStorage.setItem("userLocalData",JSON.stringify(this.userLocalData))},e.GetFarmWorldState=function(){return null==e.farmWorldInfo||e.serverTime>=e.farmWorldInfo.endDate||e.serverTime<e.farmWorldInfo.startBidding?a.PRE_BIDDING:e.serverTime<e.farmWorldInfo.startDemo?a.BIDDING:e.serverTime<e.farmWorldInfo.startDate?a.DEMO:e.serverTime<e.farmWorldInfo.startSeasons[1]?a.Spring:e.serverTime<e.farmWorldInfo.startSeasons[2]?a.Summer:e.serverTime<e.farmWorldInfo.startSeasons[3]?a.Autumn:e.serverTime<e.farmWorldInfo.endDate?a.Winter:a.PRE_BIDDING},e.GetCrowKingData=function(){return null!=e.farmWorldInfo.crowKing&&null!=e.farmWorldInfo.crowKing?e.farmWorldInfo.crowKing:null},e.GetCrowKingAppearanceInMS=function(){return null==e.GetCrowKingData()?-1:e.serverTime-e.GetCrowKingData().apearenceTime},e.IsCrowKingOutOfTime=function(){var t=e.GetCrowKingAppearanceInMS();return t<0||t>e.farmWorldInfo.crowKingLengthTime},e.GetCrowKingLocationIndex=function(){return null==e.GetCrowKingData().landLocations?-1:Math.floor(e.GetCrowKingAppearanceInMS()/(e.farmWorldInfo.crowKingLengthTime/e.GetCrowKingData().landLocations.length))},t(e,null,[{key:"Token",get:function(){return this._token||(this._token=r.localStorage.getItem("token")),this._token},set:function(e){this._token=e,r.localStorage.setItem("token",e)}},{key:"userLocalData",get:function(){if(!this._userLocalData){var e=r.localStorage.getItem("userLocalData");this._userLocalData=e?JSON.parse(e):{musicOn:!0,soundOn:!0,change_log_version:""}}return this._userLocalData}},{key:"LE",get:function(){return this._le},set:function(e){this._le=e,o.publish(i.LE_INFO_UPDATED,e)}},{key:"GEM",get:function(){return this._gem},set:function(e){this._gem=e,o.publish(i.GEM_INFO_UPDATED,e)}},{key:"FreeTicket",get:function(){return this._freeTicket},set:function(e){this._freeTicket=e,o.publish(i.FREETICKET_INFO_UPDATED,e)}},{key:"Watering",get:function(){return this._watering},set:function(e){this._watering=e,o.publish(i.WATERING_INFO_UPDATED,e)}},{key:"ScareCrow",get:function(){return this._scareCrow},set:function(e){this._scareCrow=e,o.publish(i.SCARECROW_INFO_UPDATED,e)}},{key:"PetFood",get:function(){return this._PetFood},set:function(e){this._PetFood=e,o.publish(i.PETFOOD_INFO_UPDATED,e)}},{key:"TotalStealLe",get:function(){return this._TotalStealLe},set:function(e){this._TotalStealLe=e,o.publish(i.TOTALSTEALLE_INFO_UPDATED,e)}},{key:"IsHideAds",get:function(){return!1},set:function(e){this._isHideAds=e,r.localStorage.setItem("IsHideAds",e?"true":"false")}},{key:"isLoadAdsSingle",get:function(){return"true"==r.localStorage.getItem("isLoadAdsSingle")},set:function(e){this._isHideAds=e,r.localStorage.setItem("isLoadAdsSingle",e?"true":"false")}}]),e}());s._token="",s._userLocalData=null,s.timeSendSpeaker=null,s.serverTime=void 0,s.farmWorldInfo=null,s.plantConfig=null,s.petConfig=null,s.ownerId="0xc6686f77b1886cb736ba6f9f533398b1ee99788f",s.stealFailLatestTime=void 0,s._le=0,s._gem=0,s._freeTicket=0,s._watering=0,s._scareCrow=0,s._PetFood=0,s._TotalStealLe=0,s.currentLandData=void 0,s.petStealLand=null,s.isShowAirDropBanner=!0,s.minigameSceneType="0",s._isHideAds=null,function(e){e[e.PRE_BIDDING=0]="PRE_BIDDING",e[e.BIDDING=1]="BIDDING",e[e.DEMO=2]="DEMO",e[e.Spring=3]="Spring",e[e.Summer=4]="Summer",e[e.Autumn=5]="Autumn",e[e.Winter=6]="Winter"}(a||(a=e("FarmWorldState",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/Utility.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var r,e,n,o,a,i,u,c,l,s,f,h,p;return{setters:[function(t){r=t.createClass,e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t.sys,i=t.game,u=t.view,c=t.tween,l=t.ParticleSystem,s=t.Animation,f=t.log,h=t.resources,p=t.Prefab}],execute:function(){o._RF.push({},"e73f879pn1EOpwpVVSeMUdM","Utility",void 0);var v=t("Utility",function(){function t(){}return t.reduceWallet=function(t){return t.slice(0,4)+"..."+t.slice(t.length-4,t.length)},t.keepUpdateWhenChangeTab=function(){a.isBrowser&&(i.frameRate=59,i.pause=function(){},i.resume=function(){})},t.addResizeCallBack=function(r,e){t.isSetCallBack||u.setResizeCallback((function(){null!=t.ResizeCallback&&clearTimeout(t.ResizeCallback),t.ResizeCallback=setTimeout((function(){t.ResizeCbMap.forEach((function(t,r){t()}),t)}),200)})),t.ResizeCbMap.set(r,e)},t.removeResizeCallBack=function(r){t.ResizeCbMap.has(r)&&t.ResizeCbMap.delete(r)},t.shuffleArray=function(t){if(!Array.isArray(t))return[];for(var r=t.length,e=-1,n=-1;0!==r;)n=Math.floor(Math.random()*r),e=t[r-=1],t[r]=t[n],t[n]=e;return t},t.tweenNumber=function(t,r,e,n,o){void 0===o&&(o=0);var a=new d(t),i=c(a).delay(o).to(e,{n:r},{progress:function(t,r,e,o){var a=Math.floor(t+(r-t)*o);return n(a),a}}).call((function(){n(r)}));return i.start(),i},t.tweenSpriteColor=function(t,r,e){var n={r:t.r,g:t.g,b:t.b,a:t.a};return c(r).to(e,{color:n})},t.UpperCaseFirstCharOfWord=function(t){return t.toLowerCase().replace(/(^\w{1})|(\s{1}\w{1})/g,(function(t){return t.toUpperCase()}))},t.PlayParticle=function(t){var r=this;t.active=!0;var e=t.getComponent(l);null!=e&&(e.isPlaying&&e.stop(),e.play()),t.children.length>0&&t.children.forEach((function(t){return r.PlayParticle(t)}))},t.StopParticle=function(t){var r=t.getComponent(l);null!=r&&r.isPlaying&&r.stop();for(var e=t.getComponentsInChildren(l),n=0;n<e.length;n++)e[n].isPlaying&&e[n].stop();t.active=!1},t.PlayAnimation=function(t){t.active=!0,t.getComponent(s).play()},t.AsyncDelay=function(){var t=e(n().mark((function t(r){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){setTimeout(t,r)})));case 1:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}(),t.numberWithCommas=function(t){return null==t&&(t=0),t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},t.AddZeroInNumber=function(t){return t<10?"0"+t:t},t.numberWithCommasToInt=function(t){return parseInt(t.toString().replace(/\,/g,""))},t.ConvertSecondsToTime=function(t,r){if(void 0===r&&(r=!1),t<=0)return"00:00";var e="",n=Math.floor(t/3600);t-=3600*n;var o=Math.floor(t/60);return t-=60*o,r&&n>24&&(e=Math.floor(n/24)+"D ",n%=24),e+=n>=10?n+":":"0"+n+":",e+=o>=10?o:"0"+(o>1?o:t>0?1:0)},t.TimeToString_v1=function(t){if(t<=0)return"00 : 00";t/=1e3;var r="",e=Math.floor(t/3600);t-=3600*e;var n=Math.floor(t/60);return t-=60*n,r+=e>=10?e+":":"0"+e+":",r+=n>=10?n:"0"+n},t.TimeToString_v2=function(t){var r="",e=t.getUTCHours(),n=t.getUTCMinutes();return r+=e>=10?e+":":"0"+e+":",r+=n>=10?n:"0"+n},t.TimeToString_v3=function(t){if(t<=0)return"00:00";t/=1e3;var r="",e=Math.floor(t/60);return t-=60*e,r+=e>=10?e:"0"+e,r+=":",r+=(t=Math.floor(t))>=10?t:"0"+t},t.GetRandomInt=function(t){return Math.floor(Math.random()*Math.floor(t))+1},t.RandomLottery=function(r,e){var n=function(){for(var r=[];r.length<5;){var e=t.GetRandomInt(60);-1===r.indexOf(e)&&r.push(e)}return r=r.sort((function(t,r){return t-r}))},o=[];do{o=n()}while(this.CheckExistLottery(r,o,e));return o},t.CheckExistLottery=function(t,r,e){var n=a.localStorage.getItem("tickets_"+t);null!=n?(n=JSON.parse(n),e=e.concat(n),f("CheckExistLottery:"+n.length)):a.localStorage.clear();for(var o=0;o<e.length;o++){for(var i=e[o],u=!0,c=0;c<i.length;c++)if(i[c]!=r[c]){u=!1;break}if(1==u)return!0}return!1},t.ConvertMiliSecond=function(t){var r=t%864e5,e=t%36e5,n=t%6e4;return[Math.floor(t/864e5),Math.floor(r/36e5),Math.floor(e/6e4),Math.floor(n/1e3)]},t.ConvertSecondsToTimeSecond=function(t){var r="",e=Math.floor(t/86400);t-=86400*e;var n=Math.floor(t/3600);t-=3600*n;var o=Math.floor(t/60);return t-=60*o,e>0&&(r+=1==e?"1 day, ":e+" days, "),r+=n>=10?n+":":"0"+n+":",r+=o>=10?o:"0"+o},t.SecondsToTime_ver1=function(t){var r="",e=Math.floor(t/86400);t-=86400*e;var n=Math.floor(t/3600);t-=3600*n;var o=Math.floor(t/60);return t-=60*o,e>0&&(r+=e+"d:"),r+=n>=10?n+"h:":"0"+n+"h:",r+=o>=10?o+"m":"0"+o+"m"},t.SecondsToTime_ver2=function(t){var r="",e=Math.floor(t/86400);t-=86400*e;var n=Math.floor(t/3600);t-=3600*n;var o=Math.floor(t/60);t-=60*o;var a=Math.floor(t);return e>0&&(r+=e+"d:"),n<=0||(r+=n>=10?n+"h:":"0"+n+"h:"),r+=o>=10?o+":":"0"+o+":",r+=a>=10?a+"":"0"+a},t.CheckUpgradeVersion=function(t,r){var e=t.split("."),n=r.split(".");return!(parseInt(n[0])>parseInt(e[0]))&&(parseInt(n[0])<parseInt(e[0])||!(parseInt(n[1])>parseInt(e[1]))&&(parseInt(n[1])<parseInt(e[1])||!(parseInt(n[2])>parseInt(e[2]))&&parseInt(n[2])<parseInt(e[2])))},t.PreLoadPopup=function(t){h.preload("ui_prefab/"+t,p)},t.MinimnizeUserID=function(t){return t.slice(0,4)+"..."+t.slice(t.length-4)},t}());v.ResizeCallback=0,v.ResizeCbMap=new Map,v.isSetCallBack=!1;var d=t("NumberToTween",(function(t){this.n=void 0,this.n=t})),g=(t("ProtectedInt",function(){function t(t){this.str=void 0,this.value=t}return r(t,[{key:"value",get:function(){return parseInt(m.decrypt(this.str))},set:function(t){this.str=g.encrypt(t.toString())}}]),t}()),t("ProtectedFloat",function(){function t(t){this.str=void 0,this.value=t}return r(t,[{key:"value",get:function(){return parseFloat(m.decrypt(this.str))},set:function(t){this.str=g.encrypt(t.toString())}}]),t}()),t("ProtectedString",function(){function t(t){this.str=void 0,this.value=t}return r(t,[{key:"value",get:function(){return m.decrypt(this.str)},set:function(t){this.str=g.encrypt(t)}}]),t}()),t("GuidEncrypt",function(){function t(){}return t.encrypt=function(r){for(var e=[],n=r.split("-"),o=n.length,a=0;a<o;a++)e.push(t.handleString(n[a]));return e.join("-")},t.handleString=function(t){for(var r=t.length,e="",n=0;n<t.length;n++){var o=t.charCodeAt(n),a=o+r;o>57?(a=o+r%26)>122&&(a-=26):(a=o+r%10)>57&&(a-=10),e+=String.fromCharCode(a)}return e},t}())),m=t("GuidDecrypt",function(){function t(){}return t.decrypt=function(r){for(var e=[],n=r.split("-"),o=n.length,a=0;a<o;a++)e.push(t.handleString(n[a]));return e.join("-")},t.handleString=function(t){for(var r=t.length,e="",n=0;n<t.length;n++){var o=t.charCodeAt(n),a=0;o>57?(a=o-r%26)<97&&(a+=26):(a=o-r%10)<48&&(a+=10),e+=String.fromCharCode(a)}return e},t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/VFXminigameBetting.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utility.ts"],(function(i){"use strict";var e,t,n,s,a,o,r,l,c,p,u,h;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,s=i.assertThisInitialized},function(i){a=i.cclegacy,o=i._decorator,r=i.Node,l=i.sp,c=i.Vec3,p=i.tween,u=i.Component},function(i){h=i.Utility}],execute:function(){var b,f,w,y,g,m,P,T,v,F,d;a._RF.push({},"d4b48MGi01PKrFFz9YGa1PR","VFXminigameBetting",void 0);var V=o.ccclass,z=o.property;i("VFXminigameBetting",(b=V("VFXminigameBetting"),f=z(r),w=z(r),y=z({type:l.Skeleton}),g=z(r),b((T=e((P=function(i){function e(){for(var e,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return e=i.call.apply(i,[this].concat(a))||this,n(e,"winPanels",T,s(e)),n(e,"btnToss",v,s(e)),n(e,"spineToss",F,s(e)),n(e,"winVFX",d,s(e)),e}t(e,i);var a=e.prototype;return a.start=function(){this.spineToss.setCompleteListener(this.tweenWinPanel.bind(this))},a.OnToss=function(){this.btnToss.active=!1,this.winPanels.active=!1,this.playSpineToss()},a.tweenWinPanel=function(){this.winPanels.active=!0,this.btnToss.active=!0,this.winPanels.scale=c.ZERO,p(this.winPanels).to(.8,{scale:c.ONE},{easing:"elasticOut"}).start(),h.PlayParticle(this.winVFX)},a.playSpineToss=function(){this.spineToss.node.active=!0,this.spineToss.setAnimation(0,"crow",!1)},e}(u)).prototype,"winPanels",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(P.prototype,"btnToss",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(P.prototype,"spineToss",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=e(P.prototype,"winVFX",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=P))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/WateringInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventSystem.ts","./UserModel.ts","./Utility.ts","./UIPopupManager.ts"],(function(n){"use strict";var t,e,i,r,o,s,a,c,l,u,h,b,p;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){o=n.cclegacy,s=n._decorator,a=n.Label,c=n.Component},function(n){l=n.GlobalEvents,u=n.EventType},function(n){h=n.UserModel},function(n){b=n.Utility},function(n){p=n.UIPopupManager}],execute:function(){var f,g,m,I,y;o._RF.push({},"c6135eXIWlLnaBUYRL0lPZl","WateringInfo",void 0);var v=s.ccclass,W=s.property;n("WateringInfo",(f=v("WateringInfo"),g=W(a),f((y=t((I=function(n){function t(){for(var t,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return t=n.call.apply(n,[this].concat(o))||this,i(t,"label",y,r(t)),t.current=-1,t.cb=void 0,t}e(t,n);var o=t.prototype;return o.onEnable=function(){this.cb=l.subscribe(u.WATERING_INFO_UPDATED,this.onChange.bind(this)),this.current=h.Watering,this.label.string=b.numberWithCommas(h.Watering)},o.onChange=function(n){this.current!=n&&(this.current=n,this.node.activeInHierarchy?this.Tween(n):this.label.string=b.numberWithCommas(n))},o.onDisable=function(){l.unsubscribe(u.WATERING_INFO_UPDATED,this.cb)},o.Tween=function(n){var t=this,e=b.numberWithCommasToInt(this.label.string);b.tweenNumber(e,n,.5,(function(n){t.label.string=b.numberWithCommas(n)})).start()},o.onBtnOpen=function(){p.Instance.ShowUIPopupShop()},t}(c)).prototype,"label",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=I))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/WorldMapBannerUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){"use strict";var e,n,t,i,o,a,c,l;return{setters:[function(r){e=r.applyDecoratedDescriptor,n=r.inheritsLoose,t=r.initializerDefineProperty,i=r.assertThisInitialized},function(r){o=r.cclegacy,a=r._decorator,c=r.Sprite,l=r.Component}],execute:function(){var p,s,u,f,d;o._RF.push({},"aec130fjvVJhrgCck37U9Qm","WorldMapBannerUI",void 0);var h=a.ccclass,y=a.property;r("WorldMapBannerUI",(p=h("WorldMapBannerUI"),s=y(c),p((d=e((f=function(r){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=r.call.apply(r,[this].concat(o))||this,t(e,"icon",d,i(e)),e}return n(e,r),e.prototype.Load=function(r){this.icon.spriteFrame=r},e}(l)).prototype,"icon",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=f))||u));o._RF.pop()}}}));

System.register("chunks:///_virtual/WorldMapClickPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserModel.ts","./UIPopupManager.ts","./ResHttp.ts","./ConfigApi.ts","./AdsBannerController.ts"],(function(e){"use strict";var i,t,n,a,r,o,l,s,c,d,u,b,p,h,f,v,g,I,y;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,l=e.UITransform,s=e.Node,c=e.Sprite,d=e.Label,u=e.view,b=e.Vec3,p=e.Component},function(e){h=e.UserModel,f=e.FarmWorldState},function(e){v=e.UIPopupManager},function(e){g=e.ResHttp},function(e){I=e.ConfigApi},function(e){y=e.AdsBannerController}],execute:function(){var L,w,m,D,z,P,F,C,S,T,V,x,M,U,_,A,B,N,W,R,G;r._RF.push({},"60c68UwQsVPjbpzGttPq/iV","WorldMapClickPanel",void 0);var k=o.ccclass,O=o.property;e("WorldMapClickPanel",(L=k("WorldMapClickPanel"),w=O(l),m=O(s),D=O(c),z=O(d),P=O(d),F=O(d),C=O(d),S=O(s),T=O(s),L((M=i((x=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return i=e.call.apply(e,[this].concat(r))||this,n(i,"canvasToFit",M,a(i)),n(i,"landIcon",U,a(i)),n(i,"adsIcon",_,a(i)),n(i,"locationLabel",A,a(i)),n(i,"treeLabel",B,a(i)),n(i,"mTreeLabel",N,a(i)),n(i,"bidLabel",W,a(i)),n(i,"DisableNode",R,a(i)),n(i,"btnVisits",G,a(i)),i.x=void 0,i.y=void 0,i.designWidth=2001,i.isFirstInit=!0,i}t(i,e);var r=i.prototype;return r.LoadBanner=function(e){if(null!=e.ads){var i=this;y.LoadSpriteAdByUrl(e.ads,(function(e){null!=i&&null!=e&&null!=i.adsIcon&&null!=i.landIcon&&(i.adsIcon.spriteFrame=e,i.landIcon.active=!1,i.adsIcon.node.active=!0)}))}},r.Show=function(e,i,t,n,a){var r=this;this.isFirstInit&&(this.isFirstInit=!1,this.designWidth=u.getDesignResolutionSize().width),this.landIcon.active=!0,this.adsIcon.node.active=!1,this.x=e,this.y=i,this.locationLabel.string=e+", "+i;var o=1/a;2001>this.canvasToFit.width&&(o*=this.canvasToFit.width/this.designWidth),this.node.scale=new b(o,o,1);var l=440*o,s=105*o,c=new b;c.z=0,t.x<0?c.x=n.position.x+l+3*a:c.x=n.position.x-l-.5*a,t.y>0?c.y=n.position.y-s+a:c.y=n.position.y+s+a,this.node.setPosition(c),this.node.active=!0,this.treeLabel.node.parent.active=!1,this.bidLabel.node.parent.active=!1,this.DisableNode.active=!1,this.btnVisits[0].active=!1,this.btnVisits[1].active=!1;var d={x:e,y:i};g.GetRequest(I.LINK_API+I.lands_get_by_coordinate,d,(function(e){var i=JSON.parse(e).data[0];h.currentLandData=i,r.LoadBanner(i);var t=h.GetFarmWorldState();if(t==f.PRE_BIDDING||1==i.isCenter)r.DisableNode.active=!0,r.btnVisits[1].active=!0;else if(t==f.BIDDING){r.btnVisits[0].active=!0,r.bidLabel.node.parent.active=!0;var n=0;i.slots.forEach((function(e){1!=e.type||e.ownerId||null==e.prices.biddingUser||(n+=e.prices.biddingUser.length)})),r.bidLabel.string=n.toString()}else{r.btnVisits[0].active=!0,r.treeLabel.node.parent.active=!0;var a=0;i.slots.forEach((function(e){null!=e.plantInfos.plantId&&a++})),i.isGrowthMotherTree?(r.mTreeLabel.string="1",a-=1):r.mTreeLabel.string="0",r.treeLabel.string=a.toString()}}),(function(e){r.OnClose()}))},r.OnClose=function(){this.node.active=!1},r.OnVisit=function(){v.Instance.LoadScene("3.Farm")},r.OnRentAd=function(){null!=h.currentLandData&&v.Instance.ShowUIPopupBidAd(this.x,this.y,h.currentLandData._id)},i}(p)).prototype,"canvasToFit",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=i(x.prototype,"landIcon",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(x.prototype,"adsIcon",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=i(x.prototype,"locationLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(x.prototype,"treeLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=i(x.prototype,"mTreeLabel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=i(x.prototype,"bidLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(x.prototype,"DisableNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=i(x.prototype,"btnVisits",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=x))||V));r._RF.pop()}}}));

System.register("chunks:///_virtual/WorldMapControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WorldMapClickPanel.ts","./ConfigGame.ts","./ConfigApi.ts","./EventSystem.ts","./UserModel.ts","./AdsBannerController.ts","./ResHttp.ts","./WorldMapBannerUI.ts"],(function(t){"use strict";var i,e,o,s,n,a,r,l,h,u,c,m,p,d,f,g,D,y,S,T,M,v,C,P,w,b,I,z;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,r=t.UITransform,l=t.Node,h=t.CCFloat,u=t.Sprite,c=t.EditBox,m=t.v3,p=t.gfx,d=t.Vec3,f=t.instantiate,g=t.math,D=t.Vec2,y=t.v2,S=t.Component},function(t){T=t.WorldMapClickPanel},function(t){M=t.ConfigGame},function(t){v=t.ConfigApi},function(t){C=t.GlobalEvents,P=t.EventType},function(t){w=t.UserModel},function(t){b=t.AdsBannerController},function(t){I=t.ResHttp},function(t){z=t.WorldMapBannerUI}],execute:function(){var Z,x,E,U,_,F,A,O,k,L,H,B,G,W,N,Y,R,X,V,j,q,K,J,Q,$,tt,it,et,ot,st,nt,at,rt,lt,ht;n._RF.push({},"1fc99Gg0WxHzqgsj4pCjP+7","WorldMapControl",void 0);var ut=a.ccclass,ct=a.property;t("WorldMapControl",(Z=ut("WorldMapControl"),x=ct(r),E=ct(l),U=ct(h),_=ct(h),F=ct(h),A=ct(h),O=ct(l),k=ct(l),L=ct(l),H=ct(l),B=ct(u),G=ct(l),W=ct(c),N=ct(l),Y=ct(l),R=ct(T),Z((j=i((V=function(t){function i(){for(var i,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return i=t.call.apply(t,[this].concat(n))||this,o(i,"Canvas",j,s(i)),o(i,"Zoom",q,s(i)),o(i,"MaxZoom",K,s(i)),o(i,"MinZoom",J,s(i)),o(i,"DefaultZoom",Q,s(i)),o(i,"ZoomSpeed",$,s(i)),i.lerpSpeed=15,i.TargetZoom=1.5,i.ismouseDown0=!1,i.ismouseDown1=!1,i.mouseDownPos0=void 0,i.mouseDownPos1=void 0,i.mouscePosDistance=0,i.zoomTargetpos=m(0,0,0),i.TouchIDArray=[],i.touch0ID=-1,i.touch1ID=-1,i.touch0DownTime=void 0,i.touchDownPos0_detectclick=void 0,i.maxx=void 0,i.minx=void 0,i.maxy=void 0,i.miny=void 0,i.MapSize=0,i.GirdSize=0,o(i,"FilterItemHolder",tt,s(i)),o(i,"FilterItemPrefab",it,s(i)),o(i,"BannerItemHolder",et,s(i)),o(i,"BannerItemPrefab",ot,s(i)),o(i,"fullAdsSprite",st,s(i)),i.filterTtemPrefabs=[],o(i,"FilterXYGo",nt,s(i)),o(i,"FilterXYinput",at,s(i)),o(i,"ClickMap",rt,s(i)),o(i,"ClickIcon",lt,s(i)),o(i,"worldMapClickPanel",ht,s(i)),i.isPause=!0,i.isDoneInit=!1,i.worldMapUI=void 0,i.onFarmBannerUpdateCallBack=null,i.adload_current=0,i.adData=null,i}e(i,t);var n=i.prototype;return n.onLoad=function(){this.node.on(l.EventType.MOUSE_WHEEL,this.onMOUSE_WHEEL,this),this.node.on(l.EventType.TOUCH_START,this.onMOUSE_DOWN,this),this.node.on(l.EventType.TOUCH_END,this.onMOUSE_UP,this),this.node.on(l.EventType.TOUCH_CANCEL,this.onMOUSE_UP,this),this.node.on(l.EventType.TOUCH_MOVE,this.onMOUSE_MOVE,this),this.onFarmBannerUpdateCallBack=C.subscribe(P.FARM_BANNER_UPDATE,this.onFarmBannerUpdate.bind(this)),this.MapSize=this.Zoom.getComponent(r).width,this.GirdSize=this.MapSize/M.FarmWorldMapSize},n.onFarmBannerUpdate=function(t){},n.Show=function(t){this.worldMapUI=t,this.Init(300,-300,300,-300)},n.Init=function(t,i,e,o){this.maxx=t,this.minx=i,this.maxy=e,this.miny=o,this.TargetZoom=this.DefaultZoom,this.Zoom.setScale(this.DefaultZoom,this.DefaultZoom,1),this.ResetCamera(),this.isDoneInit=!0,this.isPause=!1,this.GetAds()},n.get2D=function(t){return t<10?"0"+t:t.toString()},n.GetAds=function(){var t=this;if(this.adData=null,this.adload_current=0,this.fullAdsSprite.node.active=!1,!w.IsHideAds)if(p.deviceManager.gfxDevice.capabilities.maxTextureSize<6400||w.isLoadAdsSingle)w.isLoadAdsSingle=!0,I.GetRequest(v.LINK_API+v.get_ads,null,(function(i){t.adData=JSON.parse(i).data}),null);else{var i=v.LINK_FULL_ADS,e=new Date,o=i+"?time="+(""+e.getFullYear()+this.get2D(e.getMonth())+this.get2D(e.getDate())+this.get2D(e.getHours())+Math.round(e.getMinutes()/v.FULL_ADS_SERVER_CACHE));b.LoadSpriteByUrl(o,(function(i){null!=i&&(t.fullAdsSprite.node.active=!0,t.fullAdsSprite.spriteFrame=i)}))}},n.updateLoadAds=function(){null==this.adData||this.adload_current>=this.adData.length||(this.ShowAdsBanner(this.adData[this.adload_current].location[0],this.adData[this.adload_current].location[1],this.adData[this.adload_current].ads),this.adload_current++)},n.ShowAdsBanner=function(t,i,e){var o=this;b.LoadSpriteAdByUrl(e,(function(e){if(null!=e&&null!=o.BannerItemPrefab){var s=new d(t*o.GirdSize,i*o.GirdSize,0),n=f(o.BannerItemPrefab);n.setParent(o.BannerItemHolder),n.setScale(d.ONE),n.setPosition(s),n.active=!0,n.getComponent(z).Load(e)}}))},n.Pause=function(t){this.isPause=t,t&&(this.TouchIDArray=[],this.ismouseDown0=!1,this.ismouseDown1=!1)},n.update=function(t){this.updateZoomPos(t),this.updateLoadAds()},n.updateZoomPos=function(t){if(this.isDoneInit&&t>0){var i=this.lerpSpeed*t;i>.5&&(i=.5);var e=new d(0,0,0);d.lerp(e,this.Zoom.position,this.zoomTargetpos,i),this.Zoom.setPosition(e);var o=g.lerp(this.Zoom.scale.x,this.TargetZoom,i);this.Zoom.setScale(o,o,1),1==this.ClickMap.active&&(this.ClickMap.setPosition(this.Zoom.position),this.ClickMap.setScale(this.Zoom.scale))}},n.onMOUSE_DOWN=function(t){if(!(this.isPause||this.TouchIDArray.length>=2)){var i=t.getID();this.TouchIDArray.push(i),1==this.TouchIDArray.length&&(this.ismouseDown0=!0,this.mouseDownPos0=t.getUILocation(),this.touch0ID=i,this.touch0DownTime=(new Date).getTime(),this.touchDownPos0_detectclick=t.getUILocation()),2==this.TouchIDArray.length&&(this.ismouseDown1=!0,this.mouseDownPos1=t.getUILocation(),this.touch1ID=i),this.ismouseDown1&&this.ismouseDown0&&(this.mouscePosDistance=D.distance(this.mouseDownPos0,this.mouseDownPos1))}},n.onMOUSE_UP=function(t){if(!(this.isPause||this.TouchIDArray.length<=0)){if(this.ismouseDown0=!1,this.touch0ID=-1,this.ismouseDown1=!1,this.touch1ID=-1,1==this.TouchIDArray.length){this.SetCamPos(y(this.zoomTargetpos.x,this.zoomTargetpos.y));var i=(new Date).getTime()-this.touch0DownTime,e=D.distance(this.touchDownPos0_detectclick,t.getUILocation());i<400&&e<45&&this.OnClickMap(t)}this.TouchIDArray=[]}},n.onMOUSE_MOVE=function(t){if(this.ismouseDown0)if(this.ismouseDown1){var i=t.getID();i==this.touch0ID&&(this.mouseDownPos0=t.getUILocation()),i==this.touch1ID&&(this.mouseDownPos1=t.getUILocation());var e=D.distance(this.mouseDownPos0,this.mouseDownPos1),o=e-this.mouscePosDistance,s=this.TargetZoom+.01*o;s<this.MinZoom&&(s=this.MinZoom),s>this.MaxZoom&&(s=this.MaxZoom);var n=s/this.TargetZoom;this.TargetZoom=s,this.SetCamPos(y(this.zoomTargetpos.x*n,this.zoomTargetpos.y*n)),this.mouscePosDistance=e,this.onCloseClick()}else{var a=t.getUILocation(),r=new D(this.zoomTargetpos.x,this.zoomTargetpos.y);D.subtract(a,a,this.mouseDownPos0),D.multiplyScalar(a,a,1),D.add(r,r,a),this.SetCamPos(r),this.mouseDownPos0=t.getUILocation(),this.onCloseClick()}},n.onMOUSE_WHEEL=function(t){this.isPause||this.onZoom(null,t.getScrollY()<0?"0":"1",1)},n.onZoom=function(t,i,e){if(void 0===e&&(e=2),!this.ismouseDown0||!this.ismouseDown1){var o=e*(1+this.TargetZoom/3),s=this.TargetZoom-("1"==i?-this.ZoomSpeed:this.ZoomSpeed)*o;s<this.MinZoom&&(s=this.MinZoom),s>this.MaxZoom&&(s=this.MaxZoom);var n=s/this.TargetZoom;this.TargetZoom=s,this.SetCamPos(y(this.zoomTargetpos.x*n,this.zoomTargetpos.y*n)),this.onCloseClick()}},n.SetCamPos=function(t,i){void 0===i&&(i=!1);var e=this.maxx-this.minx,o=this.maxy-this.miny,s=this.TargetZoom-this.MinZoom;if(o*=s,e*=s,o+=this.ismouseDown0||this.ismouseDown1?300:100,e+=this.ismouseDown0||this.ismouseDown1?300:100,t.x>e&&(t.x=e),t.x<-e&&(t.x=-e),t.y>o&&(t.y=o),t.y<-o&&(t.y=-o),i){var n=y(this.zoomTargetpos.x,this.zoomTargetpos.y);return this.zoomTargetpos=new d(t.x,t.y,0),y(this.zoomTargetpos.x-n.x,this.zoomTargetpos.y-n.y)}return this.zoomTargetpos=new d(t.x,t.y,0),t},n.MoveCam=function(t){return this.SetCamPos(y(t.x+this.zoomTargetpos.x,t.y+this.zoomTargetpos.y),!0)},n.ResetCamera=function(){this.SetCamPos(y(0,0)),this.Zoom.setPosition(this.zoomTargetpos)},n.onDestroy=function(){this.node.off(l.EventType.MOUSE_WHEEL,this.onMOUSE_WHEEL,this),this.node.off(l.EventType.TOUCH_START,this.onMOUSE_DOWN,this),this.node.off(l.EventType.TOUCH_END,this.onMOUSE_UP,this),this.node.off(l.EventType.TOUCH_CANCEL,this.onMOUSE_UP,this),this.node.off(l.EventType.TOUCH_MOVE,this.onMOUSE_MOVE,this),C.unsubscribe(P.FARM_BANNER_UPDATE,this.onFarmBannerUpdateCallBack)},n.OnClickMap=function(t){var i=t.getUILocation();i.x=i.x-this.Canvas.width/2,i.y=i.y-this.Canvas.height/2;var e=new D(i),o=this.MapSize/2*this.Zoom.scale.x;i.x=i.x-this.Zoom.position.x+o,i.y=i.y-this.Zoom.position.y+o,i.x=Math.floor(i.x/(this.GirdSize*this.Zoom.scale.x)),i.y=Math.floor(i.y/(this.GirdSize*this.Zoom.scale.x)),i.x<0||i.x>=M.FarmWorldMapSize||i.y<0||i.y>=M.FarmWorldMapSize||(this.ClickMap.active=!0,this.ClickMap.setPosition(this.Zoom.position),this.ClickMap.setScale(this.Zoom.scale),this.ClickIcon.setPosition(i.x*this.GirdSize,i.y*this.GirdSize,0),this.worldMapClickPanel.Show(i.x,i.y,e,this.ClickIcon,this.Zoom.scale.x))},n.onCloseClick=function(){this.worldMapClickPanel.OnClose()},n.OnFilterXY=function(){this.TargetZoom=this.DefaultZoom,this.zoomTargetpos=d.ZERO;var t=+this.FilterXYinput[0].string,i=+this.FilterXYinput[1].string;this.ClickMap.active=!0,this.ClickMap.setPosition(this.zoomTargetpos),this.ClickMap.setScale(new d(this.TargetZoom,this.TargetZoom,1));var e=new D(t*this.GirdSize,i*this.GirdSize);this.ClickIcon.setPosition(m(e.x,e.y,0));var o=this.MapSize/2;e.x=e.x-o,e.y=e.y-o,this.worldMapClickPanel.Show(t,i,e,this.ClickIcon,this.TargetZoom)},n.OnFilterXYinput=function(){for(var t=0;t<this.FilterXYinput.length;t++)if(!this.FilterXYinput[t].string||+this.FilterXYinput[t].string>=M.FarmWorldMapSize)return this.FilterXYGo[0].active=!1,void(this.FilterXYGo[1].active=!0);this.FilterXYGo[1].active=!1,this.FilterXYGo[0].active=!0},n.ApplyFilter=function(t){if(null!=t){this.FilterItemHolder.parent.active=!0,this.disableFilterItemPrefabs();for(var i=0;i<t.data.length;i++){var e=t.data[i],o=new d(e.x*this.GirdSize,e.y*this.GirdSize,0);this.getFilterIemPrefabs(i).setPosition(o)}}else this.FilterItemHolder.parent.active=!1},n.disableFilterItemPrefabs=function(){for(var t=0;t<this.filterTtemPrefabs.length;t++)this.filterTtemPrefabs[t].active=!1},n.getFilterIemPrefabs=function(t){var i;return t<this.filterTtemPrefabs.length?i=this.filterTtemPrefabs[t]:((i=f(this.FilterItemPrefab)).setParent(this.FilterItemHolder),i.setScale(d.ONE),this.filterTtemPrefabs.push(i)),i.active=!0,i},i}(S)).prototype,"Canvas",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=i(V.prototype,"Zoom",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=i(V.prototype,"MaxZoom",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),J=i(V.prototype,"MinZoom",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.8}}),Q=i(V.prototype,"DefaultZoom",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),$=i(V.prototype,"ZoomSpeed",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),tt=i(V.prototype,"FilterItemHolder",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=i(V.prototype,"FilterItemPrefab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=i(V.prototype,"BannerItemHolder",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=i(V.prototype,"BannerItemPrefab",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=i(V.prototype,"fullAdsSprite",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=i(V.prototype,"FilterXYGo",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),at=i(V.prototype,"FilterXYinput",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),rt=i(V.prototype,"ClickMap",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=i(V.prototype,"ClickIcon",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ht=i(V.prototype,"worldMapClickPanel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=V))||X));n._RF.pop()}}}));

System.register("chunks:///_virtual/WorldMapFilterUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopUpBase.ts"],(function(t){"use strict";var e,r,i,l,o,n,a,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){o=t.cclegacy,n=t._decorator,a=t.Node},function(t){s=t.PopUpBase}],execute:function(){var c,p,h,g,u;o._RF.push({},"7c6e0A+hb1OF4zoVK0xlYFB","WorldMapFilterUI",void 0);var F=n.ccclass,d=n.property;t("WorldMapFilterUI",(c=F("WorldMapFilterUI"),p=d(a),c((u=e((g=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return e=t.call.apply(t,[this].concat(o))||this,i(e,"toggleFilter",u,l(e)),e.currentFilterOnIndex=-1,e.worldMapUI=void 0,e}r(e,t);var o=e.prototype;return o.Show=function(e){this.worldMapUI=e;for(var r=0;r<this.toggleFilter.length;r++)this.toggleFilter[r].active=this.currentFilterOnIndex==r;t.prototype.OnShow.call(this)},o.Hide=function(){t.prototype.OnHide.call(this)},o.onFilterClick=function(t,e){var r=parseInt(e);if(1==this.toggleFilter[r].active)this.toggleFilter[r].active=!1;else for(var i=0;i<this.toggleFilter.length;i++)this.toggleFilter[i].active=r==i},o.onApply=function(){this.Hide(),this.currentFilterOnIndex=-1;for(var t=0;t<this.toggleFilter.length;t++)if(1==this.toggleFilter[t].active){this.currentFilterOnIndex=t;break}if(-1!=this.currentFilterOnIndex){var e={data:[{x:0,y:0},{x:1,y:0},{x:2,y:0},{x:1,y:1},{x:0,y:1},{x:10,y:10},{x:10,y:20},{x:10,y:21},{x:63,y:63}]};e.data.length<=0?this.worldMapUI.ApplyFilter(null):this.worldMapUI.ApplyFilter(e)}else this.worldMapUI.ApplyFilter(null)},o.onClear=function(){for(var t=0;t<this.toggleFilter.length;t++)this.toggleFilter[t].active=!1;this.onApply()},e}(s)).prototype,"toggleFilter",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=g))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/WorldMapUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIPopupManager.ts","./WorldMapFilterUI.ts","./WorldMapControl.ts","./FarmInfoUI.ts","./UserModel.ts","./FarmingServicesApi.ts","./Utility.ts"],(function(t){"use strict";var e,n,i,r,o,a,l,c,u,s,p,f,h,I,b,g,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Node,c=t.Label,u=t.Component},function(t){s=t.UIPopupManager},function(t){p=t.WorldMapFilterUI},function(t){f=t.WorldMapControl},function(t){h=t.FarmInfoUI},function(t){I=t.UserModel,b=t.FarmWorldState},function(t){g=t.FarmingServicesApi},function(t){d=t.Utility}],execute:function(){var w,m,y,U,S,C,v,M,F,L,W,A,D,B,z,P,R,T,_,K,N,q,O;o._RF.push({},"665eax6QY5Lfo4GO+8a6RCy","WorldMapUI",void 0);var Y=a.ccclass,k=a.property;t("WorldMapUI",(w=Y("WorldMapUI"),m=k(l),y=k(f),U=k(p),S=k(l),C=k(h),v=k(l),M=k(c),F=k(c),L=k(c),W=k(l),w((B=e((D=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"overlayUI",B,r(e)),i(e,"worldMapControl",z,r(e)),i(e,"worldMapFilterUI",P,r(e)),i(e,"FilterIndicator",R,r(e)),i(e,"farmInfoUI",T,r(e)),i(e,"weatherBtn",_,r(e)),i(e,"clockLabel",K,r(e)),e.currentDate=void 0,i(e,"yearLabel",N,r(e)),i(e,"dayLabel",q,r(e)),i(e,"m_iconNoticeCrowKing",O,r(e)),e}n(e,t);var o=e.prototype;return o.start=function(){this.worldMapControl.Show(this),this.farmInfoUI.Init(this.onWeatherTimeUpdate.bind(this)),null==I.plantConfig&&this.RequestPlantConfig(),null==I.petConfig&&this.RequestPetConfig(),this.showAirDropBanner(),this.showYearLabel(),0==I.IsCrowKingOutOfTime()&&I.GetCrowKingData().remainHp>0?this.m_iconNoticeCrowKing.active=!0:this.m_iconNoticeCrowKing.active=!1},o.update=function(t){this.currentDate=new Date(I.serverTime),this.clockLabel.string=d.TimeToString_v2(this.currentDate)},o.RequestPlantConfig=function(){g.RequestPlantConfig((function(t){I.plantConfig=JSON.parse(t).data}),(function(t){s.Instance.ReturnToLoginScreen()}))},o.RequestPetConfig=function(){g.RequestPetConfig((function(t){I.petConfig=JSON.parse(t).data}),(function(t){s.Instance.ReturnToLoginScreen()}))},o.onBtnClose=function(){s.Instance.ShowUISetting(this.onQuit)},o.onQuit=function(){s.Instance.ShowUIScreenMain()},o.onBtnFilter=function(){this.worldMapFilterUI.Show(this)},o.ApplyFilter=function(t){this.worldMapControl.ApplyFilter(t),this.FilterIndicator.active=null!=t},o.onBtnWeather=function(){s.Instance.ShowUIWeather()},o.onBtnAssets=function(){s.Instance.ShowUIPopupMyAssets()},o.onBtnShop=function(){this.overlayUI.active=!1,s.Instance.ShowUIPopupShop(function(){this.overlayUI.active=!0}.bind(this))},o.onBtnCrowKing=function(){s.Instance.ShowUICrowKing()},o.onWeatherTimeUpdate=function(t){},o.showAirDropBanner=function(){try{if(!I.farmWorldInfo.isAirDropTime)return;if(I.isShowAirDropBanner)return;I.isShowAirDropBanner=!0,s.Instance.ShowUIAirDrop()}catch(t){}},o.showYearLabel=function(){this.yearLabel.string="YEAR "+(I.farmWorldInfo.yearOrder+1).toString();var t=I.GetFarmWorldState();if(t==b.Spring||t==b.Summer||t==b.Autumn||t==b.Winter){var e=Math.ceil((I.serverTime-I.farmWorldInfo.startDate)/864e5);this.dayLabel.string="DAY "+e}else this.dayLabel.string="-"},e}(u)).prototype,"overlayUI",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(D.prototype,"worldMapControl",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(D.prototype,"worldMapFilterUI",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(D.prototype,"FilterIndicator",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(D.prototype,"farmInfoUI",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(D.prototype,"weatherBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(D.prototype,"clockLabel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(D.prototype,"yearLabel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(D.prototype,"dayLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(D.prototype,"m_iconNoticeCrowKing",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=D))||A));o._RF.pop()}}}));
