{"version":3,"sources":["../file:/C:/ProgramData/cocos/editors/Creator/3.8.3/resources/resources/3d/engine/editor/assets/tools/file:/C:/ProgramData/cocos/editors/Creator/3.8.3/resources/resources/3d/engine/editor/assets/tools/debug-view-runtime-control.ts","../file:/C:/Users/acac1/Desktop/Flap/assets/file:/C:/Users/acac1/Desktop/Flap/assets/Test1.ts"],"names":["ccclass","_decorator","property","DebugViewRuntimeControl","_dec","_dec2","Node","_dec3","_dec4","_class","_class2","_Component","_inheritsLoose","_this","_len","arguments","length","args","Array","_key","call","apply","concat","_initializerDefineProperty","_descriptor","_assertThisInitialized","_descriptor2","_descriptor3","_single","strSingle","strComposite","strMisc","compositeModeToggleList","singleModeToggleList","miscModeToggleList","textComponentList","labelComponentList","textContentList","hideButtonLabel","_currentColorIndex","strColor","color","Color","WHITE","BLACK","RED","GREEN","BLUE","_proto","prototype","start","canvas","node","parent","getComponent","Canvas","console","error","uiTransform","UITransform","halfScreenWidth","width","halfScreenHeight","height","x","y","miscNode","getChildByName","buttonNode","instantiate","name","titleNode","i","newLabel","EnableAllCompositeModeButton","setPosition","setScale","labelComponent","Label","string","overflow","currentRow","newNode","singleModeToggle","textComponent","getComponentInChildren","RichText","on","Toggle","EventType","TOGGLE","toggleSingleMode","Button","CLICK","enableAllCompositeMode","changeColorButton","changeTextColor","HideButton","hideUI","compositeModeToggle","toggleComponent","isChecked","toggleLightingWithAlbedo","toggleCSMColoration","toggleCompositeMode","isTextMatched","textUI","textDescription","tempText","String","findIndex","search","substr","toggle","debugView","director","root","singleMode","enableCompositeMode","lightingWithAlbedo","csmLayerColoration","button","activeValue","active","onLoad","update","deltaTime","Component","_applyDecoratedDescriptor","configurable","enumerable","writable","initializer","_RF","pop","Test1","_cocosGameFi","_connectUI","tonAddressMerchant","Address","parse","jettonMasterAddress","Client","currentWallet","currentWalletString","botToken","botUserName","botID","GameFiCreate","log","_GameFiCreate","_GameFiCreate2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_this2","uiconnector","merchantParams","wrap","_callee$","_context","prev","next","manifestUrl","tonAddress","jettonAddress","GameFi","create","connector","network","merchant","sent","walletConnector","onModalStateChange","state","updateConnect","onStatusChange","info","account","address","normalize","stop","connect","openModal","disconnect","disconnectWallet","isConnected","connected","onTransferTon","tonTransferReq","to","amount","toNano","transferTon","then","val","onBuyWithTon","buyWithTon","onShowJetton","show","_ref","_callee2","_gameFi","openJetton","jettonContent","jettonWallet","jettonWalletData","_callee2$","_context2","assetsSdk","getContent","getWallet","getData","balance","_x","_x2","_x3","getBalance","Number","onTransferJetton","_onTransferJetton","_callee3","jettonTransferRequest","_callee3$","_context3","abrupt","customPayload","forwardAmount","forwardPayload","buyWithJetton","t0","Telegram","_Telegram","_callee4","_callee4$","_context4"],"mappings":"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","file":"all.js","sourcesContent":["import { Color, Canvas, UITransform, instantiate, math, Toggle, TextureCube, _decorator, Component, Button, labelAssembler, game, director, Node, Scene, renderer, CameraComponent, Label, ForwardPipeline, RichText } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('internal.DebugViewRuntimeControl')\r\nexport class DebugViewRuntimeControl extends Component {\r\n    @property(Node)\r\n    compositeModeToggle: Node | null = null;\r\n    @property(Node)\r\n    singleModeToggle: Node | null = null;\r\n    @property(Node)\r\n    EnableAllCompositeModeButton: Node | null = null;\r\n\t_single: number = 0;\r\n\r\n    private strSingle: string[] = [\r\n        'No Single Debug',\r\n        'Vertex Color',\r\n        'Vertex Normal',\r\n        'Vertex Tangent',\r\n        'World Position',\r\n        'Vertex Mirror',\r\n        'Face Side',\r\n        'UV0',\r\n        'UV1',\r\n        'UV Lightmap',\r\n        'Project Depth',\r\n        'Linear Depth',\r\n\r\n        'Fragment Normal',\r\n        'Fragment Tangent',\r\n        'Fragment Binormal',\r\n        'Base Color',\r\n        'Diffuse Color',\r\n        'Specular Color',\r\n        'Transparency',\r\n        'Metallic',\r\n        'Roughness',\r\n        'Specular Intensity',\r\n        'IOR',\r\n\r\n        'Direct Diffuse',\r\n        'Direct Specular',\r\n        'Direct All',\r\n        'Env Diffuse',\r\n        'Env Specular',\r\n        'Env All',\r\n        'Emissive',\r\n        'Light Map',\r\n        'Shadow',\r\n        'AO',\r\n\r\n        'Fresnel',\r\n        'Direct Transmit Diffuse',\r\n        'Direct Transmit Specular',\r\n        'Env Transmit Diffuse',\r\n        'Env Transmit Specular',\r\n        'Transmit All',\r\n        'Direct Internal Specular',\r\n        'Env Internal Specular',\r\n        'Internal All',\r\n\r\n        'Fog',\r\n    ];\r\n    private strComposite: string[] = [\r\n        'Direct Diffuse',\r\n        'Direct Specular',\r\n        'Env Diffuse',\r\n        'Env Specular',\r\n        'Emissive',\r\n        'Light Map',\r\n        'Shadow',\r\n        'AO',\r\n\r\n        'Normal Map',\r\n        'Fog',\r\n\r\n        'Tone Mapping',\r\n        'Gamma Correction',\r\n\r\n        'Fresnel',\r\n        'Transmit Diffuse',\r\n        'Transmit Specular',\r\n        'Internal Specular',\r\n        'TT',\r\n    ];\r\n    private strMisc: string[] = [\r\n        'CSM Layer Coloration',\r\n        'Lighting With Albedo',\r\n    ];\r\n\r\n    private compositeModeToggleList: Node[] = [];\r\n    private singleModeToggleList: Node[] = [];\r\n    private miscModeToggleList: Node[] = [];\r\n    private textComponentList: RichText[] = [];\r\n    private labelComponentList: Label[] = [];\r\n    private textContentList: string[] = [];\r\n    private hideButtonLabel: Label;\r\n    start() {\r\n        // get canvas resolution\r\n        const canvas = this.node.parent.getComponent(Canvas);\r\n        if (!canvas) {\r\n            console.error('debug-view-runtime-control should be child of Canvas');\r\n            return;\r\n        }\r\n\r\n        const uiTransform = this.node.parent.getComponent(UITransform);\r\n        const halfScreenWidth = uiTransform.width * 0.5;\r\n        const halfScreenHeight = uiTransform.height * 0.5;\r\n\r\n        let x = -halfScreenWidth + halfScreenWidth * 0.1, y = halfScreenHeight - halfScreenHeight * 0.1;\r\n        const width = 200, height = 20;\r\n\r\n        // new nodes\r\n        const miscNode = this.node.getChildByName('MiscMode');\r\n        const buttonNode = instantiate(miscNode);\r\n        buttonNode.parent = this.node;\r\n        buttonNode.name = 'Buttons';\r\n        const titleNode = instantiate(miscNode);\r\n        titleNode.parent = this.node;\r\n        titleNode.name = 'Titles';\r\n\r\n        // title\r\n        for (let i = 0; i < 2; i++) {\r\n            const newLabel = instantiate(this.EnableAllCompositeModeButton.getChildByName('Label'));\r\n            newLabel.setPosition(x + (i > 0 ? 50 + width * 2 : 150), y, 0.0);\r\n            newLabel.setScale(0.75, 0.75, 0.75);\r\n            newLabel.parent = titleNode;\r\n            const labelComponent = newLabel.getComponent(Label);\r\n            labelComponent.string = i ? '----------Composite Mode----------' : '----------Single Mode----------';\r\n            labelComponent.color = Color.WHITE;\r\n            labelComponent.overflow = 0;\r\n            this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n        }\r\n\r\n        y -= height;\r\n        // single\r\n        let currentRow = 0;\r\n        for (let i = 0; i < this.strSingle.length; i++, currentRow++) {\r\n            if (i === this.strSingle.length >> 1) {\r\n                x += width;\r\n                currentRow = 0;\r\n            }\r\n            const newNode = i ? instantiate(this.singleModeToggle) : this.singleModeToggle;\r\n            newNode.setPosition(x, y - height * currentRow, 0.0);\r\n            newNode.setScale(0.5, 0.5, 0.5);\r\n            newNode.parent = this.singleModeToggle.parent;\r\n\r\n            const textComponent = newNode.getComponentInChildren(RichText);\r\n            textComponent.string = this.strSingle[i];\r\n            this.textComponentList[this.textComponentList.length] = textComponent;\r\n            this.textContentList[this.textContentList.length] = textComponent.string;\r\n\r\n            newNode.on(Toggle.EventType.TOGGLE, this.toggleSingleMode, this);\r\n\r\n            this.singleModeToggleList[i] = newNode;\r\n        }\r\n\r\n        x += width;\r\n        // buttons\r\n        this.EnableAllCompositeModeButton.setPosition(x + 15, y, 0.0);\r\n        this.EnableAllCompositeModeButton.setScale(0.5, 0.5, 0.5);\r\n        this.EnableAllCompositeModeButton.on(Button.EventType.CLICK, this.enableAllCompositeMode, this);\r\n        this.EnableAllCompositeModeButton.parent = buttonNode;\r\n        let labelComponent = this.EnableAllCompositeModeButton.getComponentInChildren(Label);\r\n        this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n\r\n        const changeColorButton = instantiate(this.EnableAllCompositeModeButton);\r\n        changeColorButton.setPosition(x + 90, y, 0.0);\r\n        changeColorButton.setScale(0.5, 0.5, 0.5);\r\n        changeColorButton.on(Button.EventType.CLICK, this.changeTextColor, this);\r\n        changeColorButton.parent = buttonNode;\r\n        labelComponent = changeColorButton.getComponentInChildren(Label);\r\n        labelComponent.string = 'TextColor';\r\n        this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n\r\n        const HideButton = instantiate(this.EnableAllCompositeModeButton);\r\n        HideButton.setPosition(x + 200, y, 0.0);\r\n        HideButton.setScale(0.5, 0.5, 0.5);\r\n        HideButton.on(Button.EventType.CLICK, this.hideUI, this);\r\n        HideButton.parent = this.node.parent;\r\n        labelComponent = HideButton.getComponentInChildren(Label);\r\n        labelComponent.string = 'Hide UI';\r\n        this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n        this.hideButtonLabel = labelComponent;\r\n\r\n        // misc\r\n        y -= 40;\r\n        for (let i = 0; i < this.strMisc.length; i++) {\r\n            const newNode = instantiate(this.compositeModeToggle);\r\n            newNode.setPosition(x, y - height * i, 0.0);\r\n            newNode.setScale(0.5, 0.5, 0.5);\r\n            newNode.parent = miscNode;\r\n\r\n            const textComponent = newNode.getComponentInChildren(RichText);\r\n            textComponent.string = this.strMisc[i];\r\n            this.textComponentList[this.textComponentList.length] = textComponent;\r\n            this.textContentList[this.textContentList.length] = textComponent.string;\r\n\r\n            const toggleComponent = newNode.getComponent(Toggle);\r\n            toggleComponent.isChecked = i ? true : false;\r\n            newNode.on(Toggle.EventType.TOGGLE, i ? this.toggleLightingWithAlbedo : this.toggleCSMColoration, this);\r\n            this.miscModeToggleList[i] = newNode;\r\n        }\r\n\r\n        // composite\r\n        y -= 150;\r\n        for (let i = 0; i < this.strComposite.length; i++) {\r\n            const newNode = i ? instantiate(this.compositeModeToggle) : this.compositeModeToggle;\r\n            newNode.setPosition(x, y - height * i, 0.0);\r\n            newNode.setScale(0.5, 0.5, 0.5);\r\n            newNode.parent = this.compositeModeToggle.parent;\r\n\r\n            const textComponent = newNode.getComponentInChildren(RichText);\r\n            textComponent.string = this.strComposite[i];\r\n            this.textComponentList[this.textComponentList.length] = textComponent;\r\n            this.textContentList[this.textContentList.length] = textComponent.string;\r\n\r\n            newNode.on(Toggle.EventType.TOGGLE, this.toggleCompositeMode, this);\r\n\r\n            this.compositeModeToggleList[i] = newNode;\r\n        }\r\n    }\r\n\r\n    isTextMatched(textUI, textDescription) : boolean {\r\n        let tempText = new String(textUI);\r\n        const findIndex = tempText.search('>');\r\n        if (findIndex === -1) {\r\n            return textUI === textDescription;\r\n        } else {\r\n            tempText = tempText.substr(findIndex + 1);\r\n            tempText = tempText.substr(0, tempText.search('<'));\r\n            return tempText === textDescription;\r\n        }\r\n    }\r\n    toggleSingleMode(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        const textComponent = toggle.getComponentInChildren(RichText);\r\n        for (let i = 0; i < this.strSingle.length; i++) {\r\n            if (this.isTextMatched(textComponent.string, this.strSingle[i])) {\r\n                debugView.singleMode = i;\r\n            }\r\n        }\r\n    }\r\n    toggleCompositeMode(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        const textComponent = toggle.getComponentInChildren(RichText);\r\n        for (let i = 0; i < this.strComposite.length; i++) {\r\n            if (this.isTextMatched(textComponent.string, this.strComposite[i])) {\r\n                debugView.enableCompositeMode(i, toggle.isChecked);\r\n            }\r\n        }\r\n    }\r\n    toggleLightingWithAlbedo(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        debugView.lightingWithAlbedo = toggle.isChecked;\r\n    }\r\n    toggleCSMColoration(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        debugView.csmLayerColoration = toggle.isChecked;\r\n    }\r\n    enableAllCompositeMode(button: Button) {\r\n        const debugView = director.root!.debugView;\r\n        debugView.enableAllCompositeMode(true);\r\n        for (let i = 0; i < this.compositeModeToggleList.length; i++) {\r\n            const toggleComponent = this.compositeModeToggleList[i].getComponent(Toggle);\r\n            toggleComponent.isChecked = true;\r\n        }\r\n\r\n        let toggleComponent = this.miscModeToggleList[0].getComponent(Toggle);\r\n        toggleComponent.isChecked = false;\r\n        debugView.csmLayerColoration = false;\r\n        toggleComponent = this.miscModeToggleList[1].getComponent(Toggle);\r\n        toggleComponent.isChecked = true;\r\n        debugView.lightingWithAlbedo = true;\r\n    }\r\n    hideUI(button: Button) {\r\n        const titleNode = this.node.getChildByName('Titles');\r\n        const activeValue = !titleNode.active;\r\n        this.singleModeToggleList[0].parent.active = activeValue;\r\n        this.miscModeToggleList[0].parent.active = activeValue;\r\n        this.compositeModeToggleList[0].parent.active = activeValue;\r\n        this.EnableAllCompositeModeButton.parent.active = activeValue;\r\n        titleNode.active = activeValue;\r\n        this.hideButtonLabel.string = activeValue ? 'Hide UI' : 'Show UI';\r\n    }\r\n\r\n    private _currentColorIndex = 0;\r\n    private strColor: string[] = [\r\n        '<color=#ffffff>',\r\n        '<color=#000000>',\r\n        '<color=#ff0000>',\r\n        '<color=#00ff00>',\r\n        '<color=#0000ff>',\r\n    ];\r\n    private color: Color[] = [\r\n        Color.WHITE,\r\n        Color.BLACK,\r\n        Color.RED,\r\n        Color.GREEN,\r\n        Color.BLUE,\r\n    ];\r\n    changeTextColor(button: Button) {\r\n        this._currentColorIndex++;\r\n        if (this._currentColorIndex >= this.strColor.length) {\r\n            this._currentColorIndex = 0;\r\n        }\r\n        for (let i = 0; i < this.textComponentList.length; i++) {\r\n            this.textComponentList[i].string = this.strColor[this._currentColorIndex] + this.textContentList[i] + '</color>';\r\n        }\r\n        for (let i = 0; i < this.labelComponentList.length; i++) {\r\n            this.labelComponentList[i].color = this.color[this._currentColorIndex];\r\n        }\r\n    }\r\n\r\n    onLoad() {\r\n    }\r\n    update(deltaTime: number) {\r\n    }\r\n}\r\n","import { _decorator, Component, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\nimport { GameFi, TonConnectUI, Address, toNano, TonTransferRequest, JettonTransferRequest, TonClient } from '@ton/cocos-sdk';\r\n// import telegramAuth from \"@use-telegram-auth/client\";\r\n// import WebApp from \"@grammyjs/web-app\";\r\n// import VConsole from 'vconsole';\r\n\r\n@ccclass('Test1')\r\nexport class Test1 extends Component {\r\n\r\n    private _cocosGameFi: GameFi;\r\n    private _connectUI: TonConnectUI;\r\n\r\n    private tonAddressMerchant = Address.parse(\"0QCJhgYQw7SvqeeA3EBI_WOqvAVSZktSPvDxiXpi57hq86O2\");\r\n    private jettonMasterAddress = Address.parse(\"kQAHKkZApqaYljlkBEzhzIvVLB7rYLLJy6pZYrRgHafU-VOy\");\r\n    private Client: TonClient;\r\n\r\n    private currentWallet: Address;\r\n    private currentWalletString: string;\r\n\r\n    start() {\r\n\r\n    }\r\n\r\n    GameFiCreate() {\r\n        // const vConsole = new VConsole();\r\n        console.log('Hello world');\r\n\r\n        this._GameFiCreate();\r\n    }\r\n\r\n    async _GameFiCreate() {\r\n\r\n        //https://testnet.toncenter.com/api/v2/jsonRPC\r\n        //https://toncenter.com/api/v2/jsonRPC\r\n        // this.Client = new TonClient({\r\n        //     endpoint: 'https://testnet.toncenter.com/api/v2/jsonrpc',\r\n        // });\r\n\r\n        //https://ton-connect.github.io/demo-dapp-with-wallet/tonconnect-manifest.json\r\n        //http://127.0.0.1/tonconnect-manifest.json\r\n        let uiconnector = {\r\n            manifestUrl: 'https://ton-connect.github.io/demo-dapp-with-wallet/tonconnect-manifest.json'\r\n        };\r\n\r\n        const merchantParams = {\r\n            tonAddress: this.tonAddressMerchant,\r\n            jettonAddress: this.jettonMasterAddress,\r\n        };\r\n\r\n        this._cocosGameFi = await GameFi.create({\r\n            connector: uiconnector,\r\n            network: \"testnet\",\r\n            merchant: merchantParams\r\n        });\r\n        this._connectUI = this._cocosGameFi.walletConnector;\r\n\r\n        const unsubscribeModal = this._connectUI.onModalStateChange(state => {\r\n            // console.log(\"model state changed! : \", state);\r\n            this.updateConnect();\r\n        });\r\n\r\n        const unsubscribeConnectUI = this._connectUI.onStatusChange(info => {\r\n            console.log(\"wallet info status changed : \", info);\r\n\r\n            if (info) {\r\n                this.currentWallet = Address.parse(info.account.address);\r\n                this.currentWalletString = Address.normalize(info.account.address);\r\n            }\r\n\r\n            this.updateConnect();\r\n        });\r\n\r\n        this.updateConnect();\r\n    }\r\n\r\n    public connect() {\r\n        // if (this.isConnected()) return;\r\n        this._connectUI.openModal();\r\n    }\r\n\r\n    public disconnect() {\r\n        // if (!this.isConnected()) return;\r\n        this._cocosGameFi.disconnectWallet();\r\n    }\r\n\r\n    public isConnected(): boolean {\r\n        if (!this._connectUI) {\r\n            console.error(\"ton ui not inited!\");\r\n            return false;\r\n        }\r\n        return this._connectUI.connected;\r\n    }\r\n\r\n    private updateConnect() {\r\n        console.log(\"isConnected:  \" + this.isConnected());\r\n        if (this.isConnected()) {\r\n            // console.log(this._cocosGameFi);\r\n        }\r\n    }\r\n\r\n\r\n    public onTransferTon() {\r\n        if (!this.isConnected()) return;\r\n\r\n        const tonTransferReq = {\r\n            to: this.tonAddressMerchant,\r\n            amount: toNano(0.01)\r\n        } as TonTransferRequest;\r\n\r\n        this._cocosGameFi.transferTon(tonTransferReq).then(val => {\r\n            console.log(val);\r\n        });\r\n    }\r\n\r\n    public onBuyWithTon() {\r\n        if (!this.isConnected()) return;\r\n\r\n        const tonTransferReq = {\r\n            amount: toNano(0.01)\r\n        } as Omit<TonTransferRequest, \"to\">;\r\n\r\n        this._cocosGameFi.buyWithTon(tonTransferReq).then(val => {\r\n            console.log(val);\r\n        });\r\n    }\r\n\r\n\r\n    public onShowJetton() {\r\n        if (!this.isConnected()) return;\r\n\r\n        const show = async function (_gameFi: GameFi, jettonMasterAddress: Address, tonAddress: Address) {\r\n            const openJetton = _gameFi.assetsSdk.openJetton(jettonMasterAddress);\r\n            const jettonContent = await openJetton.getContent();\r\n            // const message = \"jetton name: \" + jettonContent.name + \"\\njetton decimals: \" + jettonContent.decimals;\r\n            // TelegramWebApp.Instance.alert(message)\r\n            console.log(jettonContent);\r\n\r\n            const jettonWallet = await openJetton.getWallet(tonAddress);\r\n            const jettonWalletData = await jettonWallet.getData();\r\n\r\n            console.log(jettonWalletData.balance);\r\n        }\r\n\r\n        show(this._cocosGameFi, this.jettonMasterAddress, this.currentWallet);\r\n\r\n\r\n        this.Client.getBalance(this.jettonMasterAddress).then(val => {\r\n            console.log(Number(val));\r\n        });\r\n\r\n    }\r\n\r\n    public async onTransferJetton() {\r\n        if (!this.isConnected()) return;\r\n\r\n        const jettonTransferRequest = {\r\n            amount: toNano(0.000000002),\r\n            customPayload: \"customPayload-haha\",\r\n            forwardAmount: toNano(0.000000001),\r\n            forwardPayload: \"forwardPayload-haha\"\r\n        } as Omit<JettonTransferRequest, \"to\">;\r\n\r\n        try {\r\n            await this._cocosGameFi.buyWithJetton(jettonTransferRequest);\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n\r\n    }\r\n\r\n    botToken = \"7721688539:AAFtOEz4-SoNNlHEobNEXDXaxKOanxuMwKE\";\r\n    botUserName = \"acacAuthBot\";\r\n    botID = \"7721688539\";\r\n    public async Telegram() {\r\n        // try {\r\n        //     console.log(window.Telegram.WebApp.initData);\r\n        // } catch (error) {\r\n        //     console.log(error);\r\n        //     try {\r\n        //         const result = await telegramAuth(this.botToken, { windowFeatures: { popup: true } });\r\n        //         console.log(result);\r\n        //     } catch (error) {\r\n        //         console.log(error);\r\n        //     }\r\n        // }\r\n    }\r\n}"]}